{"code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=15)}([function(t,e,n){(function(){var n=this,r=n._,i={},s=Array.prototype,o=Object.prototype,a=Function.prototype,l=s.push,h=s.slice,u=s.concat,c=o.toString,f=o.hasOwnProperty,p=s.forEach,d=s.map,m=s.reduce,g=s.reduceRight,v=s.filter,y=s.every,b=s.some,w=s.indexOf,x=s.lastIndexOf,A=Array.isArray,E=Object.keys,S=a.bind,M=function(t){return t instanceof M?t:this instanceof M?void(this._wrapped=t):new M(t)};void 0!==t&&t.exports&&(e=t.exports=M),e._=M,M.VERSION=\"1.4.4\";var _=M.each=M.forEach=function(t,e,n){if(null!=t)if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,s=t.length;r<s;r++)if(e.call(n,t[r],r,t)===i)return}else for(var o in t)if(M.has(t,o)&&e.call(n,t[o],o,t)===i)return};M.map=M.collect=function(t,e,n){var r=[];return null==t?r:d&&t.map===d?t.map(e,n):(_(t,function(t,i,s){r[r.length]=e.call(n,t,i,s)}),r)};var P=\"Reduce of empty array with no initial value\";M.reduce=M.foldl=M.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),m&&t.reduce===m)return r&&(e=M.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(_(t,function(t,s,o){i?n=e.call(r,n,t,s,o):(n=t,i=!0)}),!i)throw new TypeError(P);return n},M.reduceRight=M.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduceRight===g)return r&&(e=M.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var s=t.length;if(s!==+s){var o=M.keys(t);s=o.length}if(_(t,function(a,l,h){l=o?o[--s]:--s,i?n=e.call(r,n,t[l],l,h):(n=t[l],i=!0)}),!i)throw new TypeError(P);return n},M.find=M.detect=function(t,e,n){var r;return C(t,function(t,i,s){if(e.call(n,t,i,s))return r=t,!0}),r},M.filter=M.select=function(t,e,n){var r=[];return null==t?r:v&&t.filter===v?t.filter(e,n):(_(t,function(t,i,s){e.call(n,t,i,s)&&(r[r.length]=t)}),r)},M.reject=function(t,e,n){return M.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},M.every=M.all=function(t,e,n){e||(e=M.identity);var r=!0;return null==t?r:y&&t.every===y?t.every(e,n):(_(t,function(t,s,o){if(!(r=r&&e.call(n,t,s,o)))return i}),!!r)};var C=M.some=M.any=function(t,e,n){e||(e=M.identity);var r=!1;return null==t?r:b&&t.some===b?t.some(e,n):(_(t,function(t,s,o){if(r||(r=e.call(n,t,s,o)))return i}),!!r)};M.contains=M.include=function(t,e){return null!=t&&(w&&t.indexOf===w?-1!=t.indexOf(e):C(t,function(t){return t===e}))},M.invoke=function(t,e){var n=h.call(arguments,2),r=M.isFunction(e);return M.map(t,function(t){return(r?e:t[e]).apply(t,n)})},M.pluck=function(t,e){return M.map(t,function(t){return t[e]})},M.where=function(t,e,n){return M.isEmpty(e)?n?null:[]:M[n?\"find\":\"filter\"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},M.findWhere=function(t,e){return M.where(t,e,!0)},M.max=function(t,e,n){if(!e&&M.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&M.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return _(t,function(t,i,s){var o=e?e.call(n,t,i,s):t;o>=r.computed&&(r={value:t,computed:o})}),r.value},M.min=function(t,e,n){if(!e&&M.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&M.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return _(t,function(t,i,s){var o=e?e.call(n,t,i,s):t;o<r.computed&&(r={value:t,computed:o})}),r.value},M.shuffle=function(t){var e,n=0,r=[];return _(t,function(t){e=M.random(n++),r[n-1]=r[e],r[e]=t}),r};var T=function(t){return M.isFunction(t)?t:function(e){return e[t]}};M.sortBy=function(t,e,n){var r=T(e);return M.pluck(M.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index<e.index?-1:1}),\"value\")};var R=function(t,e,n,r){var i={},s=T(e||M.identity);return _(t,function(e,o){var a=s.call(n,e,o,t);r(i,a,e)}),i};M.groupBy=function(t,e,n){return R(t,e,n,function(t,e,n){(M.has(t,e)?t[e]:t[e]=[]).push(n)})},M.countBy=function(t,e,n){return R(t,e,n,function(t,e){M.has(t,e)||(t[e]=0),t[e]++})},M.sortedIndex=function(t,e,n,r){for(var i=(n=null==n?M.identity:T(n)).call(r,e),s=0,o=t.length;s<o;){var a=s+o>>>1;n.call(r,t[a])<i?s=a+1:o=a}return s},M.toArray=function(t){return t?M.isArray(t)?h.call(t):t.length===+t.length?M.map(t,M.identity):M.values(t):[]},M.size=function(t){return null==t?0:t.length===+t.length?t.length:M.keys(t).length},M.first=M.head=M.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:h.call(t,0,e)},M.initial=function(t,e,n){return h.call(t,0,t.length-(null==e||n?1:e))},M.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:h.call(t,Math.max(t.length-e,0))},M.rest=M.tail=M.drop=function(t,e,n){return h.call(t,null==e||n?1:e)},M.compact=function(t){return M.filter(t,M.identity)};var L=function(t,e,n){return _(t,function(t){M.isArray(t)?e?l.apply(n,t):L(t,e,n):n.push(t)}),n};M.flatten=function(t,e){return L(t,e,[])},M.without=function(t){return M.difference(t,h.call(arguments,1))},M.uniq=M.unique=function(t,e,n,r){M.isFunction(e)&&(r=n,n=e,e=!1);var i=n?M.map(t,n,r):t,s=[],o=[];return _(i,function(n,r){(e?r&&o[o.length-1]===n:M.contains(o,n))||(o.push(n),s.push(t[r]))}),s},M.union=function(){return M.uniq(u.apply(s,arguments))},M.intersection=function(t){var e=h.call(arguments,1);return M.filter(M.uniq(t),function(t){return M.every(e,function(e){return M.indexOf(e,t)>=0})})},M.difference=function(t){var e=u.apply(s,h.call(arguments,1));return M.filter(t,function(t){return!M.contains(e,t)})},M.zip=function(){for(var t=h.call(arguments),e=M.max(M.pluck(t,\"length\")),n=new Array(e),r=0;r<e;r++)n[r]=M.pluck(t,\"\"+r);return n},M.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},M.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if(\"number\"!=typeof n)return t[r=M.sortedIndex(t,e)]===e?r:-1;r=n<0?Math.max(0,i+n):n}if(w&&t.indexOf===w)return t.indexOf(e,n);for(;r<i;r++)if(t[r]===e)return r;return-1},M.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(x&&t.lastIndexOf===x)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},M.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,s=new Array(r);i<r;)s[i++]=t,t+=n;return s},M.bind=function(t,e){if(t.bind===S&&S)return S.apply(t,h.call(arguments,1));var n=h.call(arguments,2);return function(){return t.apply(e,n.concat(h.call(arguments)))}},M.partial=function(t){var e=h.call(arguments,1);return function(){return t.apply(this,e.concat(h.call(arguments)))}},M.bindAll=function(t){var e=h.call(arguments,1);return 0===e.length&&(e=M.functions(t)),_(e,function(e){t[e]=M.bind(t[e],t)}),t},M.memoize=function(t,e){var n={};return e||(e=M.identity),function(){var r=e.apply(this,arguments);return M.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},M.delay=function(t,e){var n=h.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},M.defer=function(t){return M.delay.apply(M,[t,1].concat(h.call(arguments,1)))},M.throttle=function(t,e){var n,r,i,s,o=0,a=function(){o=new Date,i=null,s=t.apply(n,r)};return function(){var l=new Date,h=e-(l-o);return n=this,r=arguments,h<=0?(clearTimeout(i),i=null,o=l,s=t.apply(n,r)):i||(i=setTimeout(a,h)),s}},M.debounce=function(t,e,n){var r,i;return function(){var s=this,o=arguments,a=n&&!r;return clearTimeout(r),r=setTimeout(function(){r=null,n||(i=t.apply(s,o))},e),a&&(i=t.apply(s,o)),i}},M.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},M.wrap=function(t,e){return function(){var n=[t];return l.apply(n,arguments),e.apply(this,n)}},M.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},M.after=function(t,e){return t<=0?e():function(){if(--t<1)return e.apply(this,arguments)}},M.keys=E||function(t){if(t!==Object(t))throw new TypeError(\"Invalid object\");var e=[];for(var n in t)M.has(t,n)&&(e[e.length]=n);return e},M.values=function(t){var e=[];for(var n in t)M.has(t,n)&&e.push(t[n]);return e},M.pairs=function(t){var e=[];for(var n in t)M.has(t,n)&&e.push([n,t[n]]);return e},M.invert=function(t){var e={};for(var n in t)M.has(t,n)&&(e[t[n]]=n);return e},M.functions=M.methods=function(t){var e=[];for(var n in t)M.isFunction(t[n])&&e.push(n);return e.sort()},M.extend=function(t){return _(h.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},M.pick=function(t){var e={},n=u.apply(s,h.call(arguments,1));return _(n,function(n){n in t&&(e[n]=t[n])}),e},M.omit=function(t){var e={},n=u.apply(s,h.call(arguments,1));for(var r in t)M.contains(n,r)||(e[r]=t[r]);return e},M.defaults=function(t){return _(h.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},M.clone=function(t){return M.isObject(t)?M.isArray(t)?t.slice():M.extend({},t):t},M.tap=function(t,e){return e(t),t};var I=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof M&&(t=t._wrapped),e instanceof M&&(e=e._wrapped);var i=c.call(t);if(i!=c.call(e))return!1;switch(i){case\"[object String]\":return t==String(e);case\"[object Number]\":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case\"[object Date]\":case\"[object Boolean]\":return+t==+e;case\"[object RegExp]\":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if(\"object\"!=typeof t||\"object\"!=typeof e)return!1;for(var s=n.length;s--;)if(n[s]==t)return r[s]==e;n.push(t),r.push(e);var o=0,a=!0;if(\"[object Array]\"==i){if(a=(o=t.length)==e.length)for(;o--&&(a=I(t[o],e[o],n,r)););}else{var l=t.constructor,h=e.constructor;if(l!==h&&!(M.isFunction(l)&&l instanceof l&&M.isFunction(h)&&h instanceof h))return!1;for(var u in t)if(M.has(t,u)&&(o++,!(a=M.has(e,u)&&I(t[u],e[u],n,r))))break;if(a){for(u in e)if(M.has(e,u)&&!o--)break;a=!o}}return n.pop(),r.pop(),a};M.isEqual=function(t,e){return I(t,e,[],[])},M.isEmpty=function(t){if(null==t)return!0;if(M.isArray(t)||M.isString(t))return 0===t.length;for(var e in t)if(M.has(t,e))return!1;return!0},M.isElement=function(t){return!(!t||1!==t.nodeType)},M.isArray=A||function(t){return\"[object Array]\"==c.call(t)},M.isObject=function(t){return t===Object(t)},_([\"Arguments\",\"Function\",\"String\",\"Number\",\"Date\",\"RegExp\"],function(t){M[\"is\"+t]=function(e){return c.call(e)==\"[object \"+t+\"]\"}}),M.isArguments(arguments)||(M.isArguments=function(t){return!(!t||!M.has(t,\"callee\"))}),M.isFunction=function(t){return\"function\"==typeof t},M.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},M.isNaN=function(t){return M.isNumber(t)&&t!=+t},M.isBoolean=function(t){return!0===t||!1===t||\"[object Boolean]\"==c.call(t)},M.isNull=function(t){return null===t},M.isUndefined=function(t){return void 0===t},M.has=function(t,e){return f.call(t,e)},M.noConflict=function(){return n._=r,this},M.identity=function(t){return t},M.times=function(t,e,n){for(var r=Array(t),i=0;i<t;i++)r[i]=e.call(n,i);return r},M.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var D={escape:{\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"/\":\"&#x2F;\"}};D.unescape=M.invert(D.escape);var O={escape:new RegExp(\"[\"+M.keys(D.escape).join(\"\")+\"]\",\"g\"),unescape:new RegExp(\"(\"+M.keys(D.unescape).join(\"|\")+\")\",\"g\")};M.each([\"escape\",\"unescape\"],function(t){M[t]=function(e){return null==e?\"\":(\"\"+e).replace(O[t],function(e){return D[t][e]})}}),M.result=function(t,e){if(null==t)return null;var n=t[e];return M.isFunction(n)?n.call(t):n},M.mixin=function(t){_(M.functions(t),function(e){var n=M[e]=t[e];M.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),z.call(this,n.apply(M,t))}})};var F=0;M.uniqueId=function(t){var e=++F+\"\";return t?t+e:e},M.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var N=/(.)^/,k={\"'\":\"'\",\"\\\\\":\"\\\\\",\"\\r\":\"r\",\"\\n\":\"n\",\"\\t\":\"t\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},B=/\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;M.template=function(t,e,n){var r;n=M.defaults({},n,M.templateSettings);var i=new RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join(\"|\")+\"|$\",\"g\"),s=0,o=\"__p+='\";t.replace(i,function(e,n,r,i,a){return o+=t.slice(s,a).replace(B,function(t){return\"\\\\\"+k[t]}),n&&(o+=\"'+\\n((__t=(\"+n+\"))==null?'':_.escape(__t))+\\n'\"),r&&(o+=\"'+\\n((__t=(\"+r+\"))==null?'':__t)+\\n'\"),i&&(o+=\"';\\n\"+i+\"\\n__p+='\"),s=a+e.length,e}),o+=\"';\\n\",n.variable||(o=\"with(obj||{}){\\n\"+o+\"}\\n\"),o=\"var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\\n\"+o+\"return __p;\\n\";try{r=new Function(n.variable||\"obj\",\"_\",o)}catch(t){throw t.source=o,t}if(e)return r(e,M);var a=function(t){return r.call(this,t,M)};return a.source=\"function(\"+(n.variable||\"obj\")+\"){\\n\"+o+\"}\",a},M.chain=function(t){return M(t).chain()};var z=function(t){return this._chain?M(t).chain():t};M.mixin(M),_([\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(t){var e=s[t];M.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),\"shift\"!=t&&\"splice\"!=t||0!==n.length||delete n[0],z.call(this,n)}}),_([\"concat\",\"join\",\"slice\"],function(t){var e=s[t];M.prototype[t]=function(){return z.call(this,e.apply(this._wrapped,arguments))}}),M.extend(M.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},function(t,e,n){!function(t){\"use strict\";var n={};n.exports=e,function(t){if(!e)var e=1e-6;if(!n)var n=\"undefined\"!=typeof Float32Array?Float32Array:Array;if(!r)var r=Math.random;var i={setMatrixArrayType:function(t){n=t}};void 0!==t&&(t.glMatrix=i);var s=Math.PI/180;i.toRadian=function(t){return t*s};var o,a={};a.create=function(){var t=new n(2);return t[0]=0,t[1]=0,t},a.clone=function(t){var e=new n(2);return e[0]=t[0],e[1]=t[1],e},a.fromValues=function(t,e){var r=new n(2);return r[0]=t,r[1]=e,r},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},a.set=function(t,e,n){return t[0]=e,t[1]=n,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},a.div=a.divide,a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},a.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},a.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},a.lerp=function(t,e,n,r){var i=e[0],s=e[1];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t},a.random=function(t,e){e=e||1;var n=2*r()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},a.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},a.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},a.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},a.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},a.forEach=(o=a.create(),function(t,e,n,r,i,s){var a,l;for(e||(e=2),n||(n=0),l=r?Math.min(r*e+n,t.length):t.length,a=n;a<l;a+=e)o[0]=t[a],o[1]=t[a+1],i(o,o,s),t[a]=o[0],t[a+1]=o[1];return t}),a.str=function(t){return\"vec2(\"+t[0]+\", \"+t[1]+\")\"},void 0!==t&&(t.vec2=a);var l={create:function(){var t=new n(3);return t[0]=0,t[1]=0,t[2]=0,t},clone:function(t){var e=new n(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},fromValues:function(t,e,r){var i=new n(3);return i[0]=t,i[1]=e,i[2]=r,i},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},set:function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}};l.sub=l.subtract,l.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},l.mul=l.multiply,l.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},l.div=l.divide,l.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},l.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},l.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},l.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},l.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},l.dist=l.distance,l.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},l.sqrDist=l.squaredDistance,l.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},l.len=l.length,l.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},l.sqrLen=l.squaredLength,l.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},l.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],s=n*n+r*r+i*i;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s),t},l.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},l.cross=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=n[0],a=n[1],l=n[2];return t[0]=i*l-s*a,t[1]=s*o-r*l,t[2]=r*a-i*o,t},l.lerp=function(t,e,n,r){var i=e[0],s=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t[2]=o+r*(n[2]-o),t},l.random=function(t,e){e=e||1;var n=2*r()*Math.PI,i=2*r()-1,s=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*s,t[1]=Math.sin(n)*s,t[2]=i*e,t},l.transformMat4=function(t,e,n){var r=e[0],i=e[1],s=e[2];return t[0]=n[0]*r+n[4]*i+n[8]*s+n[12],t[1]=n[1]*r+n[5]*i+n[9]*s+n[13],t[2]=n[2]*r+n[6]*i+n[10]*s+n[14],t},l.transformMat3=function(t,e,n){var r=e[0],i=e[1],s=e[2];return t[0]=r*n[0]+i*n[3]+s*n[6],t[1]=r*n[1]+i*n[4]+s*n[7],t[2]=r*n[2]+i*n[5]+s*n[8],t},l.transformQuat=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=n[0],a=n[1],l=n[2],h=n[3],u=h*r+a*s-l*i,c=h*i+l*r-o*s,f=h*s+o*i-a*r,p=-o*r-a*i-l*s;return t[0]=u*h+p*-o+c*-l-f*-a,t[1]=c*h+p*-a+f*-o-u*-l,t[2]=f*h+p*-l+u*-a-c*-o,t},l.rotateX=function(t,e,n,r){var i=[],s=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],s[0]=i[0],s[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),s[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t},l.rotateY=function(t,e,n,r){var i=[],s=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],s[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),s[1]=i[1],s[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t},l.rotateZ=function(t,e,n,r){var i=[],s=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],s[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),s[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),s[2]=i[2],t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t},l.forEach=function(){var t=l.create();return function(e,n,r,i,s,o){var a,l;for(n||(n=3),r||(r=0),l=i?Math.min(i*n+r,e.length):e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],s(t,t,o),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}}(),l.str=function(t){return\"vec3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\")\"},void 0!==t&&(t.vec3=l);var h={create:function(){var t=new n(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},clone:function(t){var e=new n(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},fromValues:function(t,e,r,i){var s=new n(4);return s[0]=t,s[1]=e,s[2]=r,s[3]=i,s},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},set:function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}};h.sub=h.subtract,h.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},h.mul=h.multiply,h.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},h.div=h.divide,h.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},h.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},h.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},h.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},h.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],s=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+s*s)},h.dist=h.distance,h.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],s=e[3]-t[3];return n*n+r*r+i*i+s*s},h.sqrDist=h.squaredDistance,h.length=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},h.len=h.length,h.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},h.sqrLen=h.squaredLength,h.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},h.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=n*n+r*r+i*i+s*s;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o),t},h.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},h.lerp=function(t,e,n,r){var i=e[0],s=e[1],o=e[2],a=e[3];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t[2]=o+r*(n[2]-o),t[3]=a+r*(n[3]-a),t},h.random=function(t,e){return e=e||1,t[0]=r(),t[1]=r(),t[2]=r(),t[3]=r(),h.normalize(t,t),h.scale(t,t,e),t},h.transformMat4=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*s+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*s+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*s+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*s+n[15]*o,t},h.transformQuat=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=n[0],a=n[1],l=n[2],h=n[3],u=h*r+a*s-l*i,c=h*i+l*r-o*s,f=h*s+o*i-a*r,p=-o*r-a*i-l*s;return t[0]=u*h+p*-o+c*-l-f*-a,t[1]=c*h+p*-a+f*-o-u*-l,t[2]=f*h+p*-l+u*-a-c*-o,t},h.forEach=function(){var t=h.create();return function(e,n,r,i,s,o){var a,l;for(n||(n=4),r||(r=0),l=i?Math.min(i*n+r,e.length):e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],s(t,t,o),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}}(),h.str=function(t){return\"vec4(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"},void 0!==t&&(t.vec4=h);var u={create:function(){var t=new n(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},clone:function(t){var e=new n(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},transpose:function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=n*s-i*r;return o?(o=1/o,t[0]=s*o,t[1]=-r*o,t[2]=-i*o,t[3]=n*o,t):null},adjoint:function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=n[0],l=n[1],h=n[2],u=n[3];return t[0]=r*a+s*l,t[1]=i*a+o*l,t[2]=r*h+s*u,t[3]=i*h+o*u,t}};u.mul=u.multiply,u.rotate=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l+s*a,t[1]=i*l+o*a,t[2]=r*-a+s*l,t[3]=i*-a+o*l,t},u.scale=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=n[0],l=n[1];return t[0]=r*a,t[1]=i*a,t[2]=s*l,t[3]=o*l,t},u.str=function(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"},u.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},u.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},void 0!==t&&(t.mat2=u);var c={create:function(){var t=new n(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},clone:function(t){var e=new n(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=n*s-r*i;return l?(l=1/l,t[0]=s*l,t[1]=-r*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*a-s*o)*l,t[5]=(r*o-n*a)*l,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=n[0],u=n[1],c=n[2],f=n[3],p=n[4],d=n[5];return t[0]=r*h+s*u,t[1]=i*h+o*u,t[2]=r*c+s*f,t[3]=i*c+o*f,t[4]=r*p+s*d+a,t[5]=i*p+o*d+l,t}};c.mul=c.multiply,c.rotate=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=Math.sin(n),u=Math.cos(n);return t[0]=r*u+s*h,t[1]=i*u+o*h,t[2]=r*-h+s*u,t[3]=i*-h+o*u,t[4]=a,t[5]=l,t},c.scale=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=n[0],u=n[1];return t[0]=r*h,t[1]=i*h,t[2]=s*u,t[3]=o*u,t[4]=a,t[5]=l,t},c.translate=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=n[0],u=n[1];return t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=r*h+s*u+a,t[5]=i*h+o*u+l,t},c.str=function(t){return\"mat2d(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\")\"},c.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},void 0!==t&&(t.mat2d=c);var f={create:function(){var t=new n(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat4:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},clone:function(t){var e=new n(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],u=e[8],c=u*o-a*h,f=-u*s+a*l,p=h*s-o*l,d=n*c+r*f+i*p;return d?(d=1/d,t[0]=c*d,t[1]=(-u*r+i*h)*d,t[2]=(a*r-i*o)*d,t[3]=f*d,t[4]=(u*n-i*l)*d,t[5]=(-a*n+i*s)*d,t[6]=p*d,t[7]=(-h*n+r*l)*d,t[8]=(o*n-r*s)*d,t):null},adjoint:function(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],u=e[8];return t[0]=o*u-a*h,t[1]=i*h-r*u,t[2]=r*a-i*o,t[3]=a*l-s*u,t[4]=n*u-i*l,t[5]=i*s-n*a,t[6]=s*h-o*l,t[7]=r*l-n*h,t[8]=n*o-r*s,t},determinant:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],l=t[7],h=t[8];return e*(h*s-o*l)+n*(-h*i+o*a)+r*(l*i-s*a)},multiply:function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=e[6],u=e[7],c=e[8],f=n[0],p=n[1],d=n[2],m=n[3],g=n[4],v=n[5],y=n[6],b=n[7],w=n[8];return t[0]=f*r+p*o+d*h,t[1]=f*i+p*a+d*u,t[2]=f*s+p*l+d*c,t[3]=m*r+g*o+v*h,t[4]=m*i+g*a+v*u,t[5]=m*s+g*l+v*c,t[6]=y*r+b*o+w*h,t[7]=y*i+b*a+w*u,t[8]=y*s+b*l+w*c,t}};f.mul=f.multiply,f.translate=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=e[6],u=e[7],c=e[8],f=n[0],p=n[1];return t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=f*r+p*o+h,t[7]=f*i+p*a+u,t[8]=f*s+p*l+c,t},f.rotate=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=e[6],u=e[7],c=e[8],f=Math.sin(n),p=Math.cos(n);return t[0]=p*r+f*o,t[1]=p*i+f*a,t[2]=p*s+f*l,t[3]=p*o-f*r,t[4]=p*a-f*i,t[5]=p*l-f*s,t[6]=h,t[7]=u,t[8]=c,t},f.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},f.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},f.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,a=r+r,l=i+i,h=n*o,u=r*o,c=r*a,f=i*o,p=i*a,d=i*l,m=s*o,g=s*a,v=s*l;return t[0]=1-c-d,t[3]=u-v,t[6]=f+g,t[1]=u+v,t[4]=1-h-d,t[7]=p-m,t[2]=f-g,t[5]=p+m,t[8]=1-h-c,t},f.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],u=e[8],c=e[9],f=e[10],p=e[11],d=e[12],m=e[13],g=e[14],v=e[15],y=n*a-r*o,b=n*l-i*o,w=n*h-s*o,x=r*l-i*a,A=r*h-s*a,E=i*h-s*l,S=u*m-c*d,M=u*g-f*d,_=u*v-p*d,P=c*g-f*m,C=c*v-p*m,T=f*v-p*g,R=y*T-b*C+w*P+x*_-A*M+E*S;return R?(R=1/R,t[0]=(a*T-l*C+h*P)*R,t[1]=(l*_-o*T-h*M)*R,t[2]=(o*C-a*_+h*S)*R,t[3]=(i*C-r*T-s*P)*R,t[4]=(n*T-i*_+s*M)*R,t[5]=(r*_-n*C-s*S)*R,t[6]=(m*E-g*A+v*x)*R,t[7]=(g*w-d*E-v*b)*R,t[8]=(d*A-m*w+v*y)*R,t):null},f.str=function(t){return\"mat3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\")\"},f.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},void 0!==t&&(t.mat3=f);var p={create:function(){var t=new n(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},clone:function(t){var e=new n(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],s=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=s,t[11]=e[14],t[12]=i,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],u=e[8],c=e[9],f=e[10],p=e[11],d=e[12],m=e[13],g=e[14],v=e[15],y=n*a-r*o,b=n*l-i*o,w=n*h-s*o,x=r*l-i*a,A=r*h-s*a,E=i*h-s*l,S=u*m-c*d,M=u*g-f*d,_=u*v-p*d,P=c*g-f*m,C=c*v-p*m,T=f*v-p*g,R=y*T-b*C+w*P+x*_-A*M+E*S;return R?(R=1/R,t[0]=(a*T-l*C+h*P)*R,t[1]=(i*C-r*T-s*P)*R,t[2]=(m*E-g*A+v*x)*R,t[3]=(f*A-c*E-p*x)*R,t[4]=(l*_-o*T-h*M)*R,t[5]=(n*T-i*_+s*M)*R,t[6]=(g*w-d*E-v*b)*R,t[7]=(u*E-f*w+p*b)*R,t[8]=(o*C-a*_+h*S)*R,t[9]=(r*_-n*C-s*S)*R,t[10]=(d*A-m*w+v*y)*R,t[11]=(c*w-u*A-p*y)*R,t[12]=(a*M-o*P-l*S)*R,t[13]=(n*P-r*M+i*S)*R,t[14]=(m*b-d*x-g*y)*R,t[15]=(u*x-c*b+f*y)*R,t):null},adjoint:function(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],u=e[8],c=e[9],f=e[10],p=e[11],d=e[12],m=e[13],g=e[14],v=e[15];return t[0]=a*(f*v-p*g)-c*(l*v-h*g)+m*(l*p-h*f),t[1]=-(r*(f*v-p*g)-c*(i*v-s*g)+m*(i*p-s*f)),t[2]=r*(l*v-h*g)-a*(i*v-s*g)+m*(i*h-s*l),t[3]=-(r*(l*p-h*f)-a*(i*p-s*f)+c*(i*h-s*l)),t[4]=-(o*(f*v-p*g)-u*(l*v-h*g)+d*(l*p-h*f)),t[5]=n*(f*v-p*g)-u*(i*v-s*g)+d*(i*p-s*f),t[6]=-(n*(l*v-h*g)-o*(i*v-s*g)+d*(i*h-s*l)),t[7]=n*(l*p-h*f)-o*(i*p-s*f)+u*(i*h-s*l),t[8]=o*(c*v-p*m)-u*(a*v-h*m)+d*(a*p-h*c),t[9]=-(n*(c*v-p*m)-u*(r*v-s*m)+d*(r*p-s*c)),t[10]=n*(a*v-h*m)-o*(r*v-s*m)+d*(r*h-s*a),t[11]=-(n*(a*p-h*c)-o*(r*p-s*c)+u*(r*h-s*a)),t[12]=-(o*(c*g-f*m)-u*(a*g-l*m)+d*(a*f-l*c)),t[13]=n*(c*g-f*m)-u*(r*g-i*m)+d*(r*f-i*c),t[14]=-(n*(a*g-l*m)-o*(r*g-i*m)+d*(r*l-i*a)),t[15]=n*(a*f-l*c)-o*(r*f-i*c)+u*(r*l-i*a),t},determinant:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],l=t[7],h=t[8],u=t[9],c=t[10],f=t[11],p=t[12],d=t[13],m=t[14],g=t[15];return(e*o-n*s)*(c*g-f*m)-(e*a-r*s)*(u*g-f*d)+(e*l-i*s)*(u*m-c*d)+(n*a-r*o)*(h*g-f*p)-(n*l-i*o)*(h*m-c*p)+(r*l-i*a)*(h*d-u*p)},multiply:function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=e[6],u=e[7],c=e[8],f=e[9],p=e[10],d=e[11],m=e[12],g=e[13],v=e[14],y=e[15],b=n[0],w=n[1],x=n[2],A=n[3];return t[0]=b*r+w*a+x*c+A*m,t[1]=b*i+w*l+x*f+A*g,t[2]=b*s+w*h+x*p+A*v,t[3]=b*o+w*u+x*d+A*y,b=n[4],w=n[5],x=n[6],A=n[7],t[4]=b*r+w*a+x*c+A*m,t[5]=b*i+w*l+x*f+A*g,t[6]=b*s+w*h+x*p+A*v,t[7]=b*o+w*u+x*d+A*y,b=n[8],w=n[9],x=n[10],A=n[11],t[8]=b*r+w*a+x*c+A*m,t[9]=b*i+w*l+x*f+A*g,t[10]=b*s+w*h+x*p+A*v,t[11]=b*o+w*u+x*d+A*y,b=n[12],w=n[13],x=n[14],A=n[15],t[12]=b*r+w*a+x*c+A*m,t[13]=b*i+w*l+x*f+A*g,t[14]=b*s+w*h+x*p+A*v,t[15]=b*o+w*u+x*d+A*y,t}};p.mul=p.multiply,p.translate=function(t,e,n){var r,i,s,o,a,l,h,u,c,f,p,d,m=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=e[6],u=e[7],c=e[8],f=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=h,t[7]=u,t[8]=c,t[9]=f,t[10]=p,t[11]=d,t[12]=r*m+a*g+c*v+e[12],t[13]=i*m+l*g+f*v+e[13],t[14]=s*m+h*g+p*v+e[14],t[15]=o*m+u*g+d*v+e[15]),t},p.scale=function(t,e,n){var r=n[0],i=n[1],s=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},p.rotate=function(t,n,r,i){var s,o,a,l,h,u,c,f,p,d,m,g,v,y,b,w,x,A,E,S,M,_,P,C,T=i[0],R=i[1],L=i[2],I=Math.sqrt(T*T+R*R+L*L);return Math.abs(I)<e?null:(T*=I=1/I,R*=I,L*=I,s=Math.sin(r),a=1-(o=Math.cos(r)),l=n[0],h=n[1],u=n[2],c=n[3],f=n[4],p=n[5],d=n[6],m=n[7],g=n[8],v=n[9],y=n[10],b=n[11],w=T*T*a+o,x=R*T*a+L*s,A=L*T*a-R*s,E=T*R*a-L*s,S=R*R*a+o,M=L*R*a+T*s,_=T*L*a+R*s,P=R*L*a-T*s,C=L*L*a+o,t[0]=l*w+f*x+g*A,t[1]=h*w+p*x+v*A,t[2]=u*w+d*x+y*A,t[3]=c*w+m*x+b*A,t[4]=l*E+f*S+g*M,t[5]=h*E+p*S+v*M,t[6]=u*E+d*S+y*M,t[7]=c*E+m*S+b*M,t[8]=l*_+f*P+g*C,t[9]=h*_+p*P+v*C,t[10]=u*_+d*P+y*C,t[11]=c*_+m*P+b*C,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)},p.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),s=e[4],o=e[5],a=e[6],l=e[7],h=e[8],u=e[9],c=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+h*r,t[5]=o*i+u*r,t[6]=a*i+c*r,t[7]=l*i+f*r,t[8]=h*i-s*r,t[9]=u*i-o*r,t[10]=c*i-a*r,t[11]=f*i-l*r,t},p.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),s=e[0],o=e[1],a=e[2],l=e[3],h=e[8],u=e[9],c=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i-h*r,t[1]=o*i-u*r,t[2]=a*i-c*r,t[3]=l*i-f*r,t[8]=s*r+h*i,t[9]=o*r+u*i,t[10]=a*r+c*i,t[11]=l*r+f*i,t},p.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),s=e[0],o=e[1],a=e[2],l=e[3],h=e[4],u=e[5],c=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+h*r,t[1]=o*i+u*r,t[2]=a*i+c*r,t[3]=l*i+f*r,t[4]=h*i-s*r,t[5]=u*i-o*r,t[6]=c*i-a*r,t[7]=f*i-l*r,t},p.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=r+r,l=i+i,h=s+s,u=r*a,c=r*l,f=r*h,p=i*l,d=i*h,m=s*h,g=o*a,v=o*l,y=o*h;return t[0]=1-(p+m),t[1]=c+y,t[2]=f-v,t[3]=0,t[4]=c-y,t[5]=1-(u+m),t[6]=d+g,t[7]=0,t[8]=f+v,t[9]=d-g,t[10]=1-(u+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},p.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,a=r+r,l=i+i,h=n*o,u=r*o,c=r*a,f=i*o,p=i*a,d=i*l,m=s*o,g=s*a,v=s*l;return t[0]=1-c-d,t[1]=u+v,t[2]=f-g,t[3]=0,t[4]=u-v,t[5]=1-h-d,t[6]=p+m,t[7]=0,t[8]=f+g,t[9]=p-m,t[10]=1-h-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},p.frustum=function(t,e,n,r,i,s,o){var a=1/(n-e),l=1/(i-r),h=1/(s-o);return t[0]=2*s*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*l,t[6]=0,t[7]=0,t[8]=(n+e)*a,t[9]=(i+r)*l,t[10]=(o+s)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*s*2*h,t[15]=0,t},p.perspective=function(t,e,n,r,i){var s=1/Math.tan(e/2),o=1/(r-i);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t},p.ortho=function(t,e,n,r,i,s,o){var a=1/(e-n),l=1/(r-i),h=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*l,t[14]=(o+s)*h,t[15]=1,t},p.lookAt=function(t,n,r,i){var s,o,a,l,h,u,c,f,d,m,g=n[0],v=n[1],y=n[2],b=i[0],w=i[1],x=i[2],A=r[0],E=r[1],S=r[2];return Math.abs(g-A)<e&&Math.abs(v-E)<e&&Math.abs(y-S)<e?p.identity(t):(c=g-A,f=v-E,d=y-S,s=w*(d*=m=1/Math.sqrt(c*c+f*f+d*d))-x*(f*=m),o=x*(c*=m)-b*d,a=b*f-w*c,(m=Math.sqrt(s*s+o*o+a*a))?(s*=m=1/m,o*=m,a*=m):(s=0,o=0,a=0),l=f*a-d*o,h=d*s-c*a,u=c*o-f*s,(m=Math.sqrt(l*l+h*h+u*u))?(l*=m=1/m,h*=m,u*=m):(l=0,h=0,u=0),t[0]=s,t[1]=l,t[2]=c,t[3]=0,t[4]=o,t[5]=h,t[6]=f,t[7]=0,t[8]=a,t[9]=u,t[10]=d,t[11]=0,t[12]=-(s*g+o*v+a*y),t[13]=-(l*g+h*v+u*y),t[14]=-(c*g+f*v+d*y),t[15]=1,t)},p.str=function(t){return\"mat4(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\", \"+t[9]+\", \"+t[10]+\", \"+t[11]+\", \"+t[12]+\", \"+t[13]+\", \"+t[14]+\", \"+t[15]+\")\"},p.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},void 0!==t&&(t.mat4=p);var d,m,g,v,y={};y.create=function(){var t=new n(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},y.rotationTo=(d=l.create(),m=l.fromValues(1,0,0),g=l.fromValues(0,1,0),function(t,e,n){var r=l.dot(e,n);return r<-.999999?(l.cross(d,m,e),l.length(d)<1e-6&&l.cross(d,g,e),l.normalize(d,d),y.setAxisAngle(t,d,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(l.cross(d,e,n),t[0]=d[0],t[1]=d[1],t[2]=d[2],t[3]=1+r,y.normalize(t,t))}),y.setAxes=(v=f.create(),function(t,e,n,r){return v[0]=n[0],v[3]=n[1],v[6]=n[2],v[1]=r[0],v[4]=r[1],v[7]=r[2],v[2]=-e[0],v[5]=-e[1],v[8]=-e[2],y.normalize(t,y.fromMat3(t,v))}),y.clone=h.clone,y.fromValues=h.fromValues,y.copy=h.copy,y.set=h.set,y.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},y.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},y.add=h.add,y.multiply=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=n[0],l=n[1],h=n[2],u=n[3];return t[0]=r*u+o*a+i*h-s*l,t[1]=i*u+o*l+s*a-r*h,t[2]=s*u+o*h+r*l-i*a,t[3]=o*u-r*a-i*l-s*h,t},y.mul=y.multiply,y.scale=h.scale,y.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*a,t[1]=i*l+s*a,t[2]=s*l-i*a,t[3]=o*l-r*a,t},y.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l-s*a,t[1]=i*l+o*a,t[2]=s*l+r*a,t[3]=o*l-i*a,t},y.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*a,t[1]=i*l-r*a,t[2]=s*l+o*a,t[3]=o*l-s*a,t},y.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=-Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},y.dot=h.dot,y.lerp=h.lerp,y.slerp=function(t,e,n,r){var i,s,o,a,l,h=e[0],u=e[1],c=e[2],f=e[3],p=n[0],d=n[1],m=n[2],g=n[3];return(s=h*p+u*d+c*m+f*g)<0&&(s=-s,p=-p,d=-d,m=-m,g=-g),1-s>1e-6?(i=Math.acos(s),o=Math.sin(i),a=Math.sin((1-r)*i)/o,l=Math.sin(r*i)/o):(a=1-r,l=r),t[0]=a*h+l*p,t[1]=a*u+l*d,t[2]=a*c+l*m,t[3]=a*f+l*g,t},y.invert=function(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=n*n+r*r+i*i+s*s,a=o?1/o:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-i*a,t[3]=s*a,t},y.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},y.length=h.length,y.len=y.length,y.squaredLength=h.squaredLength,y.sqrLen=y.squaredLength,y.normalize=h.normalize,y.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[7]-e[5])*n,t[1]=(e[2]-e[6])*n,t[2]=(e[3]-e[1])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var s=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*s+s]-e[3*o+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+s]-e[3*s+o])*n,t[s]=(e[3*s+i]+e[3*i+s])*n,t[o]=(e[3*o+i]+e[3*i+o])*n}return t},y.str=function(t){return\"quat(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"},void 0!==t&&(t.quat=y)}(n.exports)}()},function(t,e,n){n(1).vec3;var r=t.exports=function(t){this.valid=!0,this.id=t.id,this.handId=t.handId,this.length=t.length,this.tool=t.tool,this.width=t.width,this.direction=t.direction,this.stabilizedTipPosition=t.stabilizedTipPosition,this.tipPosition=t.tipPosition,this.tipVelocity=t.tipVelocity,this.touchZone=t.touchZone,this.touchDistance=t.touchDistance,this.timeVisible=t.timeVisible};r.prototype.toString=function(){return\"Pointable [ id:\"+this.id+\" \"+this.length+\"mmx | width:\"+this.width+\"mm | direction:\"+this.direction+\" ]\"},r.prototype.hand=function(){return this.frame.hand(this.handId)},r.Invalid={valid:!1}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return\"function\"==typeof t}function i(t){return\"object\"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(\"number\"!=typeof t||t<0||isNaN(t))throw TypeError(\"n must be a positive number\");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,a,l,h;if(this._events||(this._events={}),\"error\"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified \"error\" event. ('+e+\")\");throw u.context=e,u}if(s(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),o=(h=n.slice()).length,l=0;l<o;l++)h[l].apply(this,a);return!0},n.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[t].length),\"function\"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError(\"listener must be a function\");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var n,s,o,a;if(!r(e))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[t])return this;if(o=(n=this._events[t]).length,s=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit(\"removeListener\",t,e);else if(i(n)){for(a=o;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){s=a;break}if(s<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(s,1),this._events.removeListener&&this.emit(\"removeListener\",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)\"removeListener\"!==e&&this.removeAllListeners(e);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){var r=n(2),i=n(13),s=n(11),o=n(0),a=t.exports=function(t){r.call(this,t),this.dipPosition=t.dipPosition,this.pipPosition=t.pipPosition,this.mcpPosition=t.mcpPosition,this.carpPosition=t.carpPosition,this.extended=t.extended,this.type=t.type,this.finger=!0,this.positions=[this.carpPosition,this.mcpPosition,this.pipPosition,this.dipPosition,this.tipPosition],t.bases?this.addBones(t):s.warnBones()};o.extend(a.prototype,r.prototype),a.prototype.addBones=function(t){this.metacarpal=new i(this,{type:0,width:this.width,prevJoint:this.carpPosition,nextJoint:this.mcpPosition,basis:t.bases[0]}),this.proximal=new i(this,{type:1,width:this.width,prevJoint:this.mcpPosition,nextJoint:this.pipPosition,basis:t.bases[1]}),this.medial=new i(this,{type:2,width:this.width,prevJoint:this.pipPosition,nextJoint:this.dipPosition,basis:t.bases[2]}),this.distal=new i(this,{type:3,width:this.width,prevJoint:this.dipPosition,nextJoint:t.btipPosition,basis:t.bases[3]}),this.bones=[this.metacarpal,this.proximal,this.medial,this.distal]},a.prototype.toString=function(){return\"Finger [ id:\"+this.id+\" \"+this.length+\"mmx | width:\"+this.width+\"mm | direction:\"+this.direction+\" ]\"},a.Invalid={valid:!1}},function(t,e,n){var r=n(2),i=n(13),s=n(1),o=s.mat3,a=s.vec3,l=n(0),h=t.exports=function(t){this.id=t.id,this.palmPosition=t.palmPosition,this.direction=t.direction,this.palmVelocity=t.palmVelocity,this.palmNormal=t.palmNormal,this.sphereCenter=t.sphereCenter,this.sphereRadius=t.sphereRadius,this.valid=!0,this.pointables=[],this.fingers=[],t.armBasis?this.arm=new i(this,{type:4,width:t.armWidth,prevJoint:t.elbow,nextJoint:t.wrist,basis:t.armBasis}):this.arm=null,this.tools=[],this._translation=t.t,this._rotation=l.flatten(t.r),this._scaleFactor=t.s,this.timeVisible=t.timeVisible,this.stabilizedPalmPosition=t.stabilizedPalmPosition,this.type=t.type,this.grabStrength=t.grabStrength,this.pinchStrength=t.pinchStrength,this.confidence=t.confidence};h.prototype.finger=function(t){var e=this.frame.finger(t);return e&&e.handId==this.id?e:r.Invalid},h.prototype.rotationAngle=function(t,e){if(!this.valid||!t.valid)return 0;if(!t.hand(this.id).valid)return 0;var n=this.rotationMatrix(t),r=.5*(n[0]+n[4]+n[8]-1),i=Math.acos(r);if(i=isNaN(i)?0:i,void 0!==e){var s=this.rotationAxis(t);i*=a.dot(s,a.normalize(a.create(),e))}return i},h.prototype.rotationAxis=function(t){if(!this.valid||!t.valid)return a.create();var e=t.hand(this.id);return e.valid?a.normalize(a.create(),[this._rotation[7]-e._rotation[5],this._rotation[2]-e._rotation[6],this._rotation[3]-e._rotation[1]]):a.create()},h.prototype.rotationMatrix=function(t){if(!this.valid||!t.valid)return o.create();var e=t.hand(this.id);if(!e.valid)return o.create();var n=o.transpose(o.create(),this._rotation);return o.multiply(o.create(),e._rotation,n)},h.prototype.scaleFactor=function(t){if(!this.valid||!t.valid)return 1;var e=t.hand(this.id);return e.valid?Math.exp(this._scaleFactor-e._scaleFactor):1},h.prototype.translation=function(t){if(!this.valid||!t.valid)return a.create();var e=t.hand(this.id);return e.valid?[this._translation[0]-e._translation[0],this._translation[1]-e._translation[1],this._translation[2]-e._translation[2]]:a.create()},h.prototype.toString=function(){return\"Hand (\"+this.type+\") [ id: \"+this.id+\" | palm velocity:\"+this.palmVelocity+\" | sphere center:\"+this.sphereCenter+\" ] \"},h.prototype.pitch=function(){return Math.atan2(this.direction[1],-this.direction[2])},h.prototype.yaw=function(){return Math.atan2(this.direction[0],-this.direction[2])},h.prototype.roll=function(){return Math.atan2(this.palmNormal[0],-this.palmNormal[1])},h.Invalid={valid:!1,fingers:[],tools:[],pointables:[],left:!1,pointable:function(){return r.Invalid},finger:function(){return r.Invalid},toString:function(){return\"invalid frame\"},dump:function(){return this.toString()},rotationAngle:function(){return 0},rotationMatrix:function(){return o.create()},rotationAxis:function(){return a.create()},scaleFactor:function(){return 1},translation:function(){return a.create()}}},function(t,e,n){var r=n(1).vec3,i=n(3).EventEmitter,s=n(0),o=(e.createGesture=function(t){var e;switch(t.type){case\"circle\":e=new a(t);break;case\"swipe\":e=new l(t);break;case\"screenTap\":e=new h(t);break;case\"keyTap\":e=new u(t);break;default:throw\"unknown gesture type\"}return e.id=t.id,e.handIds=t.handIds.slice(),e.pointableIds=t.pointableIds.slice(),e.duration=t.duration,e.state=t.state,e.type=t.type,e},e.gestureListener=function(t,e){var n={},r={};t.on(\"gesture\",function(t,i){if(t.type==e){if((\"start\"==t.state||\"stop\"==t.state)&&void 0===r[t.id]){var a=new o(t,i);r[t.id]=a,s.each(n,function(t,e){a.on(e,t)})}r[t.id].update(t,i),\"stop\"==t.state&&delete r[t.id]}});var i={start:function(t){return n.start=t,i},stop:function(t){return n.stop=t,i},complete:function(t){return n.stop=t,i},update:function(t){return n.update=t,i}};return i},e.Gesture=function(t,e){this.gestures=[t],this.frames=[e]});o.prototype.update=function(t,e){this.lastGesture=t,this.lastFrame=e,this.gestures.push(t),this.frames.push(e),this.emit(t.state,this)},o.prototype.translation=function(){return r.subtract(r.create(),this.lastGesture.startPosition,this.lastGesture.position)},s.extend(o.prototype,i.prototype);var a=function(t){this.center=t.center,this.normal=t.normal,this.progress=t.progress,this.radius=t.radius};a.prototype.toString=function(){return\"CircleGesture [\"+JSON.stringify(this)+\"]\"};var l=function(t){this.startPosition=t.startPosition,this.position=t.position,this.direction=t.direction,this.speed=t.speed};l.prototype.toString=function(){return\"SwipeGesture [\"+JSON.stringify(this)+\"]\"};var h=function(t){this.position=t.position,this.direction=t.direction,this.progress=t.progress};h.prototype.toString=function(){return\"ScreenTapGesture [\"+JSON.stringify(this)+\"]\"};var u=function(t){this.position=t.position,this.direction=t.direction,this.progress=t.progress};u.prototype.toString=function(){return\"KeyTapGesture [\"+JSON.stringify(this)+\"]\"}},function(t,e,n){var r=n(5),i=n(2),s=n(6).createGesture,o=n(1),a=o.mat3,l=o.vec3,h=n(12),u=n(4),c=n(0),f=t.exports=function(t){if(this.valid=!0,this.id=t.id,this.timestamp=t.timestamp,this.hands=[],this.handsMap={},this.pointables=[],this.tools=[],this.fingers=[],t.interactionBox&&(this.interactionBox=new h(t.interactionBox)),this.gestures=[],this.pointablesMap={},this._translation=t.t,this._rotation=c.flatten(t.r),this._scaleFactor=t.s,this.data=t,this.type=\"frame\",this.currentFrameRate=t.currentFrameRate,t.gestures)for(var e=0,n=t.gestures.length;e!=n;e++)this.gestures.push(s(t.gestures[e]));this.postprocessData(t)};f.prototype.postprocessData=function(t){t||(t=this.data);for(var e=0,n=t.hands.length;e!=n;e++){var s=new r(t.hands[e]);s.frame=this,this.hands.push(s),this.handsMap[s.id]=s}t.pointables=c.sortBy(t.pointables,function(t){return t.id});for(var o=0,a=t.pointables.length;o!=a;o++){var l=t.pointables[o],h=l.dipPosition?new u(l):new i(l);h.frame=this,this.addPointable(h)}},f.prototype.addPointable=function(t){if(this.pointables.push(t),this.pointablesMap[t.id]=t,(t.tool?this.tools:this.fingers).push(t),void 0!==t.handId&&this.handsMap.hasOwnProperty(t.handId)){var e=this.handsMap[t.handId];switch(e.pointables.push(t),(t.tool?e.tools:e.fingers).push(t),t.type){case 0:e.thumb=t;break;case 1:e.indexFinger=t;break;case 2:e.middleFinger=t;break;case 3:e.ringFinger=t;break;case 4:e.pinky=t}}},f.prototype.tool=function(t){var e=this.pointable(t);return e.tool?e:i.Invalid},f.prototype.pointable=function(t){return this.pointablesMap[t]||i.Invalid},f.prototype.finger=function(t){var e=this.pointable(t);return e.tool?i.Invalid:e},f.prototype.hand=function(t){return this.handsMap[t]||r.Invalid},f.prototype.rotationAngle=function(t,e){if(!this.valid||!t.valid)return 0;var n=this.rotationMatrix(t),r=.5*(n[0]+n[4]+n[8]-1),i=Math.acos(r);if(i=isNaN(i)?0:i,void 0!==e){var s=this.rotationAxis(t);i*=l.dot(s,l.normalize(l.create(),e))}return i},f.prototype.rotationAxis=function(t){return this.valid&&t.valid?l.normalize(l.create(),[this._rotation[7]-t._rotation[5],this._rotation[2]-t._rotation[6],this._rotation[3]-t._rotation[1]]):l.create()},f.prototype.rotationMatrix=function(t){if(!this.valid||!t.valid)return a.create();var e=a.transpose(a.create(),this._rotation);return a.multiply(a.create(),t._rotation,e)},f.prototype.scaleFactor=function(t){return this.valid&&t.valid?Math.exp(this._scaleFactor-t._scaleFactor):1},f.prototype.translation=function(t){return this.valid&&t.valid?l.subtract(l.create(),this._translation,t._translation):l.create()},f.prototype.toString=function(){var t=\"Frame [ id:\"+this.id+\" | timestamp:\"+this.timestamp+\" | Hand count:(\"+this.hands.length+\") | Pointable count:(\"+this.pointables.length+\")\";return this.gestures&&(t+=\" | Gesture count:(\"+this.gestures.length+\")\"),t+=\" ]\"},f.prototype.dump=function(){var t=\"\";t+=\"Frame Info:<br/>\",t+=this.toString(),t+=\"<br/><br/>Hands:<br/>\";for(var e=0,n=this.hands.length;e!=n;e++)t+=\"  \"+this.hands[e].toString()+\"<br/>\";t+=\"<br/><br/>Pointables:<br/>\";for(var r=0,i=this.pointables.length;r!=i;r++)t+=\"  \"+this.pointables[r].toString()+\"<br/>\";if(this.gestures){t+=\"<br/><br/>Gestures:<br/>\";for(var s=0,o=this.gestures.length;s!=o;s++)t+=\"  \"+this.gestures[s].toString()+\"<br/>\"}return t+=\"<br/><br/>Raw JSON:<br/>\",t+=JSON.stringify(this.data)},f.Invalid={valid:!1,hands:[],fingers:[],tools:[],gestures:[],pointables:[],pointable:function(){return i.Invalid},finger:function(){return i.Invalid},hand:function(){return r.Invalid},toString:function(){return\"invalid frame\"},dump:function(){return this.toString()},rotationAngle:function(){return 0},rotationMatrix:function(){return a.create()},rotationAxis:function(){return l.create()},scaleFactor:function(){return 1},translation:function(){return l.create()}}},function(t,e,n){var r=n(7),i=(n(5),n(2),n(4),n(0)),s=n(3).EventEmitter;e.chooseProtocol=function(t){var e;switch(t.version){case 1:case 2:case 3:case 4:case 5:case 6:(e=o(t)).sendBackground=function(t,n){t.send(e.encode({background:n}))},e.sendFocused=function(t,n){t.send(e.encode({focused:n}))},e.sendOptimizeHMD=function(t,n){t.send(e.encode({optimizeHMD:n}))};break;default:throw\"unrecognized version\"}return e};var o=e.JSONProtocol=function(t){var e=function(t){if(t.event)return new function(t){this.type=t.type,this.state=t.state}(t.event);e.emit(\"beforeFrameCreated\",t);var n=new r(t);return e.emit(\"afterFrameCreated\",n,t),n};return e.encode=function(t){return JSON.stringify(t)},e.version=t.version,e.serviceVersion=t.serviceVersion,e.versionLong=\"Version \"+t.version,e.type=\"protocol\",i.extend(e,s.prototype),e}},function(t,e,n){var r=n(8).chooseProtocol,i=n(3).EventEmitter,s=n(0),o=t.exports=function(t){this.opts=s.defaults(t||{},{host:\"127.0.0.1\",enableGestures:!1,scheme:this.getScheme(),port:this.getPort(),background:!1,optimizeHMD:!1,requestProtocolVersion:o.defaultProtocolVersion}),this.host=this.opts.host,this.port=this.opts.port,this.scheme=this.opts.scheme,this.protocolVersionVerified=!1,this.background=null,this.optimizeHMD=null,this.on(\"ready\",function(){this.enableGestures(this.opts.enableGestures),this.setBackground(this.opts.background),this.setOptimizeHMD(this.opts.optimizeHMD),this.opts.optimizeHMD?console.log(\"Optimized for head mounted display usage.\"):console.log(\"Optimized for desktop usage.\")})};o.defaultProtocolVersion=6,o.prototype.getUrl=function(){return this.scheme+\"//\"+this.host+\":\"+this.port+\"/v\"+this.opts.requestProtocolVersion+\".json\"},o.prototype.getScheme=function(){return\"ws:\"},o.prototype.getPort=function(){return 6437},o.prototype.setBackground=function(t){this.opts.background=t,this.protocol&&this.protocol.sendBackground&&this.background!==this.opts.background&&(this.background=this.opts.background,this.protocol.sendBackground(this,this.opts.background))},o.prototype.setOptimizeHMD=function(t){this.opts.optimizeHMD=t,this.protocol&&this.protocol.sendOptimizeHMD&&this.optimizeHMD!==this.opts.optimizeHMD&&(this.optimizeHMD=this.opts.optimizeHMD,this.protocol.sendOptimizeHMD(this,this.opts.optimizeHMD))},o.prototype.handleOpen=function(){this.connected||(this.connected=!0,this.emit(\"connect\"))},o.prototype.enableGestures=function(t){this.gesturesEnabled=!!t,this.send(this.protocol.encode({enableGestures:this.gesturesEnabled}))},o.prototype.handleClose=function(t,e){this.connected&&(this.disconnect(),1001===t&&this.opts.requestProtocolVersion>1&&(this.protocolVersionVerified?this.protocolVersionVerified=!1:this.opts.requestProtocolVersion--),this.startReconnection())},o.prototype.startReconnection=function(){var t=this;this.reconnectionTimer||(this.reconnectionTimer=setInterval(function(){t.reconnect()},500))},o.prototype.stopReconnection=function(){this.reconnectionTimer=clearInterval(this.reconnectionTimer)},o.prototype.disconnect=function(t){if(t||this.stopReconnection(),this.socket)return this.socket.close(),delete this.socket,delete this.protocol,delete this.background,delete this.optimizeHMD,delete this.focusedState,this.connected&&(this.connected=!1,this.emit(\"disconnect\")),!0},o.prototype.reconnect=function(){this.connected?this.stopReconnection():(this.disconnect(!0),this.connect())},o.prototype.handleData=function(t){var e,n=JSON.parse(t);void 0===this.protocol?(e=this.protocol=r(n),this.protocolVersionVerified=!0,this.emit(\"ready\")):e=this.protocol(n),this.emit(e.type,e)},o.prototype.connect=function(){if(!this.socket)return this.socket=this.setupSocket(),!0},o.prototype.send=function(t){this.socket.send(t)},o.prototype.reportFocus=function(t){this.connected&&this.focusedState!==t&&(this.focusedState=t,this.emit(this.focusedState?\"focus\":\"blur\"),this.protocol&&this.protocol.sendFocused&&this.protocol.sendFocused(this,this.focusedState))},s.extend(o.prototype,i.prototype)},function(t,e){var n=t.exports=function(t){this.pos=0,this._buf=[],this.size=t};n.prototype.get=function(t){if(void 0==t&&(t=0),!(t>=this.size||t>=this._buf.length))return this._buf[(this.pos-t-1)%this.size]},n.prototype.push=function(t){return this._buf[this.pos%this.size]=t,this.pos++}},function(t,e,n){(function(e){var n=t.exports=function(t,e){this.options=e||{},this.message=t,this.createElement()};n.prototype.createElement=function(){this.element=document.createElement(\"div\"),this.element.className=\"leapjs-dialog\",this.element.style.position=\"fixed\",this.element.style.top=\"8px\",this.element.style.left=0,this.element.style.right=0,this.element.style.textAlign=\"center\",this.element.style.zIndex=1e3;var t=document.createElement(\"div\");this.element.appendChild(t),t.style.className=\"leapjs-dialog\",t.style.display=\"inline-block\",t.style.margin=\"auto\",t.style.padding=\"8px\",t.style.color=\"#222\",t.style.background=\"#eee\",t.style.borderRadius=\"4px\",t.style.border=\"1px solid #999\",t.style.textAlign=\"left\",t.style.cursor=\"pointer\",t.style.whiteSpace=\"nowrap\",t.style.transition=\"box-shadow 1s linear\",t.innerHTML=this.message,this.options.onclick&&t.addEventListener(\"click\",this.options.onclick),this.options.onmouseover&&t.addEventListener(\"mouseover\",this.options.onmouseover),this.options.onmouseout&&t.addEventListener(\"mouseout\",this.options.onmouseout),this.options.onmousemove&&t.addEventListener(\"mousemove\",this.options.onmousemove)},n.prototype.show=function(){return document.body.appendChild(this.element),this},n.prototype.hide=function(){return document.body.removeChild(this.element),this},n.warnOutOfDate=function(t){t||(t={});var e=\"http://developer.leapmotion.com?\";for(var r in t.returnTo=window.location.href,t)e+=r+\"=\"+encodeURIComponent(t[r])+\"&\";var i;return(i=new n(\"This site requires Leap Motion Tracking V2.<button id='leapjs-accept-upgrade'  style='color: #444; transition: box-shadow 100ms linear; cursor: pointer; vertical-align: baseline; margin-left: 16px;'>Upgrade</button><button id='leapjs-decline-upgrade' style='color: #444; transition: box-shadow 100ms linear; cursor: pointer; vertical-align: baseline; margin-left: 8px; '>Not Now</button>\",{onclick:function(t){if(\"leapjs-decline-upgrade\"!=t.target.id){var n=window.open(e,\"_blank\",\"height=800,width=1000,location=1,menubar=1,resizable=1,status=1,toolbar=1,scrollbars=1\");window.focus&&n.focus()}return i.hide(),!0},onmousemove:function(t){t.target==document.getElementById(\"leapjs-decline-upgrade\")?(document.getElementById(\"leapjs-decline-upgrade\").style.color=\"#000\",document.getElementById(\"leapjs-decline-upgrade\").style.boxShadow=\"0px 0px 2px #5daa00\",document.getElementById(\"leapjs-accept-upgrade\").style.color=\"#444\",document.getElementById(\"leapjs-accept-upgrade\").style.boxShadow=\"none\"):(document.getElementById(\"leapjs-accept-upgrade\").style.color=\"#000\",document.getElementById(\"leapjs-accept-upgrade\").style.boxShadow=\"0px 0px 2px #5daa00\",document.getElementById(\"leapjs-decline-upgrade\").style.color=\"#444\",document.getElementById(\"leapjs-decline-upgrade\").style.boxShadow=\"none\")},onmouseout:function(){document.getElementById(\"leapjs-decline-upgrade\").style.color=\"#444\",document.getElementById(\"leapjs-decline-upgrade\").style.boxShadow=\"none\",document.getElementById(\"leapjs-accept-upgrade\").style.color=\"#444\",document.getElementById(\"leapjs-accept-upgrade\").style.boxShadow=\"none\"}})).show()},n.hasWarnedBones=!1,n.warnBones=function(){this.hasWarnedBones||(this.hasWarnedBones=!0,console.warn(\"Your Leap Service is out of date\"),void 0!==e&&e.versions&&e.versions.node||this.warnOutOfDate({reason:\"bones\"}))}}).call(this,n(14))},function(t,e,n){var r=n(1).vec3,i=t.exports=function(t){this.valid=!0,this.center=t.center,this.size=t.size,this.width=t.size[0],this.height=t.size[1],this.depth=t.size[2]};i.prototype.denormalizePoint=function(t){return r.fromValues((t[0]-.5)*this.size[0]+this.center[0],(t[1]-.5)*this.size[1]+this.center[1],(t[2]-.5)*this.size[2]+this.center[2])},i.prototype.normalizePoint=function(t,e){var n=r.fromValues((t[0]-this.center[0])/this.size[0]+.5,(t[1]-this.center[1])/this.size[1]+.5,(t[2]-this.center[2])/this.size[2]+.5);return e&&(n[0]=Math.min(Math.max(n[0],0),1),n[1]=Math.min(Math.max(n[1],0),1),n[2]=Math.min(Math.max(n[2],0),1)),n},i.prototype.toString=function(){return\"InteractionBox [ width:\"+this.width+\" | height:\"+this.height+\" | depth:\"+this.depth+\" ]\"},i.Invalid={valid:!1}},function(t,e,n){n(2);var r=n(1),i=r.vec3,s=r.mat3,o=r.mat4,a=(n(0),t.exports=function(t,e){this.finger=t,this._center=null,this._matrix=null,this.type=e.type,this.prevJoint=e.prevJoint,this.nextJoint=e.nextJoint,this.width=e.width;var n=new Array(3);i.sub(n,e.nextJoint,e.prevJoint),this.length=i.length(n),this.basis=e.basis});a.prototype.left=function(){return this._left?this._left:(this._left=s.determinant(this.basis[0].concat(this.basis[1]).concat(this.basis[2]))<0,this._left)},a.prototype.matrix=function(){if(this._matrix)return this._matrix;var t=this.basis,e=this._matrix=o.create();return e[0]=t[0][0],e[1]=t[0][1],e[2]=t[0][2],e[4]=t[1][0],e[5]=t[1][1],e[6]=t[1][2],e[8]=t[2][0],e[9]=t[2][1],e[10]=t[2][2],e[3]=this.center()[0],e[7]=this.center()[1],e[11]=this.center()[2],this.left()&&(e[0]*=-1,e[1]*=-1,e[2]*=-1),this._matrix},a.prototype.lerp=function(t,e){i.lerp(t,this.prevJoint,this.nextJoint,e)},a.prototype.center=function(){if(this._center)return this._center;var t=i.create();return this.lerp(t,.5),this._center=t,t},a.prototype.direction=function(){return[-1*this.basis[2][0],-1*this.basis[2][1],-1*this.basis[2][2]]}},function(t,e){var n,r,i=t.exports={};function s(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{r=\"function\"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var l,h=[],u=!1,c=-1;function f(){u&&l&&(u=!1,l.length?h=l.concat(h):c=-1,h.length&&p())}function p(){if(!u){var t=a(f);u=!0;for(var e=h.length;e;){for(l=h,h=[];++c<e;)l&&l[c].run();c=-1,e=h.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new d(t,e)),1!==h.length||u||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(t){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(t,e,n){\"use strict\";n.r(e);n(27);var r=function(t){var e=0,n=0,r=0,i=0,s=0,o=0,a=0,l=0,h=0;function u(){r=t.color(0,0,0),s=t.color(0,0,0),a=t.color(0,0,0),!1,!1,!1}t.setup=function(){t.size(480,360),t.frameRate(30),t.loadImage(\"/pic/player.png\"),t.loadImage(\"/pic/playerLeft.png\"),t.loadImage(\"/pic/playerRight.png\"),t.loadImage(\"/pic/laserRed.png\"),t.loadImage(\"/pic/enemyShip.png\"),t.loadImage(\"/pic/redShot.png\"),t.loadFont(\"standrd.vlw\"),t.loadImage(\"/pic/endDisp.png\"),t.loadImage(\"/pic/starBackground.png\"),t.loadImage(\"/pic/speedLine.png\"),t.loadImage(\"/pic/meteorSmall.png\"),t.loadImage(\"/pic/life.png\"),e=t.loadImage(\"/pic/black-background.jpg\"),n=t.color(255,0,0),r=t.color(0,0,0),i=t.color(51,255,255),s=t.color(0,0,0),o=t.color(255,255,51),a=t.color(0,0,0),0,3,3},t.draw=function(){var c;t.imageMode(t.CORNER),t.image(e,0,0),t.rectMode(t.CENTER),t.fill(r),t.rect(t.width/2,140,120,50),t.textSize(15),t.fill(n),t.text(\"Thumb Game\",t.width/2-55,140),t.fill(s),t.rect(t.width/2,220,120,50),t.textSize(15),t.fill(i),t.text(\"Adduction Game\",t.width/2-55,220),t.fill(a),t.rect(t.width/2,300,120,50),t.textSize(15),t.fill(o),t.text(\"New Movement\",t.width/2-55,300),c=t.width/2,l>=c-60&&l<=c+70?h>=115&&h<=165?(r=t.color(255,229,204),!0):h>=195&&h<=245?(s=t.color(255,229,204),!0):h>=275&&h<=325?(a=t.color(255,229,204),!0):u():u()}},i=document.getElementById(\"canvas1\");new Processing(i,r);console.log(\"Sketch Mode is: \",r().gameMode);n(26)},function(t,e){t.exports={full:\"0.6.4\",major:0,minor:6,dot:4}},function(t,e){t.exports=function(){return function(t){var e=t.pointables.sort(function(t,e){return t.z-e.z})[0];return e&&e.valid&&(t.cursorPosition=e.tipPosition),t}}},function(t,e,n){var r=n(3).EventEmitter,i=n(0),s=t.exports=function(t,e){this.start=new Vector(t),this.end=new Vector(e),this.enteredFrame=null};s.prototype.hasPointables=function(t){for(var e=0;e!=t.pointables.length;e++){var n=t.pointables[e].tipPosition;if(n.x>=this.start.x&&n.x<=this.end.x&&n.y>=this.start.y&&n.y<=this.end.y&&n.z>=this.start.z&&n.z<=this.end.z)return!0}return!1},s.prototype.listener=function(t){var e=this;return t&&t.nearThreshold&&this.setupNearRegion(t.nearThreshold),function(t){return e.updatePosition(t)}},s.prototype.clipper=function(){var t=this;return function(e){return t.updatePosition(e),t.enteredFrame?e:null}},s.prototype.setupNearRegion=function(t){var e=this.nearRegion=new s([this.start.x-t,this.start.y-t,this.start.z-t],[this.end.x+t,this.end.y+t,this.end.z+t]),n=this;e.on(\"enter\",function(t){n.emit(\"near\",t)}),e.on(\"exit\",function(t){n.emit(\"far\",t)}),n.on(\"exit\",function(t){n.emit(\"near\",t)})},s.prototype.updatePosition=function(t){return this.nearRegion&&this.nearRegion.updatePosition(t),this.hasPointables(t)&&null==this.enteredFrame?(this.enteredFrame=t,this.emit(\"enter\",this.enteredFrame)):this.hasPointables(t)||null==this.enteredFrame||(this.enteredFrame=null,this.emit(\"exit\",this.enteredFrame)),t},s.prototype.normalize=function(t){return new Vector([(t.x-this.start.x)/(this.end.x-this.start.x),(t.y-this.start.y)/(this.end.y-this.start.y),(t.z-this.start.z)/(this.end.z-this.start.z)])},s.prototype.mapToXY=function(t,e,n){var r=this.normalize(t),i=r.x,s=r.y;return i>1?i=1:i<-1&&(i=-1),s>1?s=1:s<-1&&(s=-1),[(i+1)/2*e,(1-s)/2*n,r.z]},i.extend(s.prototype,r.prototype)},function(t,e,n){e.UI={Region:n(18),Cursor:n(17)}},function(t,e){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){t.exports=function(){return e.WebSocket||e.MozWebSocket}}).call(this,n(20))},function(t,e,n){var r=n(21),i=n(9),s=n(0),o=t.exports=function(t){i.call(this,t);var e=this;this.on(\"ready\",function(){e.reportFocus(!0)})};s.extend(o.prototype,i.prototype),o.__proto__=i,o.prototype.setupSocket=function(){var t=this,e=new r(this.getUrl());return e.on(\"open\",function(){t.handleOpen()}),e.on(\"message\",function(e){t.handleData(e)}),e.on(\"close\",function(e,n){t.handleClose(e,n)}),e.on(\"error\",function(){t.startReconnection()}),e}},function(t,e,n){var r=t.exports=n(9),i=n(0),s=t.exports=function(t){r.call(this,t);var e=this;this.on(\"ready\",function(){e.startFocusLoop()}),this.on(\"disconnect\",function(){e.stopFocusLoop()})};i.extend(s.prototype,r.prototype),s.__proto__=r,s.prototype.useSecure=function(){return\"https:\"===location.protocol},s.prototype.getScheme=function(){return this.useSecure()?\"wss:\":\"ws:\"},s.prototype.getPort=function(){return this.useSecure()?6436:6437},s.prototype.setupSocket=function(){var t=this,e=new WebSocket(this.getUrl());return e.onopen=function(){t.handleOpen()},e.onclose=function(e){t.handleClose(e.code,e.reason)},e.onmessage=function(e){t.handleData(e.data)},e.onerror=function(e){t.useSecure()&&\"wss:\"===t.scheme&&(t.scheme=\"ws:\",t.port=6437,t.disconnect(),t.connect())},e},s.prototype.startFocusLoop=function(){if(!this.focusDetectorTimer){var t=this,e=null;e=void 0!==document.hidden?\"hidden\":void 0!==document.mozHidden?\"mozHidden\":void 0!==document.msHidden?\"msHidden\":void 0!==document.webkitHidden?\"webkitHidden\":void 0,void 0===t.windowVisible&&(t.windowVisible=void 0===e||!1===document[e]);var n=window.addEventListener(\"focus\",function(e){t.windowVisible=!0,i()}),r=window.addEventListener(\"blur\",function(e){t.windowVisible=!1,i()});this.on(\"disconnect\",function(){window.removeEventListener(\"focus\",n),window.removeEventListener(\"blur\",r)});var i=function(){var n=void 0===e||!1===document[e];t.reportFocus(n&&t.windowVisible)};i(),this.focusDetectorTimer=setInterval(i,100)}},s.prototype.stopFocusLoop=function(){this.focusDetectorTimer&&(clearTimeout(this.focusDetectorTimer),delete this.focusDetectorTimer)}},function(t,e){var n=t.exports=function(t){this.steps=[],this.controller=t};n.prototype.addStep=function(t){this.steps.push(t)},n.prototype.run=function(t){for(var e=this.steps.length,n=0;n!=e&&t;n++)t=this.steps[n](t);return t},n.prototype.removeStep=function(t){var e=this.steps.indexOf(t);if(-1===e)throw\"Step not found in pipeline\";this.steps.splice(e,1)},n.prototype.addWrappedStep=function(t,e){var n=this.controller,r=function(r){var i,s,o;for(s=0,o=(i=\"frame\"==t?[r]:r[t+\"s\"]||[]).length;s<o;s++)e.call(n,i[s]);return r};return this.addStep(r),r}},function(t,e,n){(function(e){var r=n(7),i=n(5),s=n(2),o=n(4),a=n(10),l=n(24),h=n(3).EventEmitter,u=n(6).gestureListener,c=n(11),f=n(0),p=t.exports=function(t){var i=void 0!==e&&e.versions&&e.versions.node,s=this;t=f.defaults(t||{},{inNode:i}),this.inNode=t.inNode,t=f.defaults(t||{},{frameEventName:this.useAnimationLoop()?\"animationFrame\":\"deviceFrame\",suppressAnimationLoop:!this.useAnimationLoop(),loopWhileDisconnected:!0,useAllPlugins:!1,checkVersion:!0}),this.animationFrameRequested=!1,this.onAnimationFrame=function(t){s.lastConnectionFrame.valid&&s.emit(\"animationFrame\",s.lastConnectionFrame),s.emit(\"frameEnd\",t),s.loopWhileDisconnected&&(!1!==s.connection.focusedState||s.connection.opts.background)?window.requestAnimationFrame(s.onAnimationFrame):s.animationFrameRequested=!1},this.suppressAnimationLoop=t.suppressAnimationLoop,this.loopWhileDisconnected=t.loopWhileDisconnected,this.frameEventName=t.frameEventName,this.useAllPlugins=t.useAllPlugins,this.history=new a(200),this.lastFrame=r.Invalid,this.lastValidFrame=r.Invalid,this.lastConnectionFrame=r.Invalid,this.accumulatedGestures=[],this.checkVersion=t.checkVersion,void 0===t.connectionType?this.connectionType=this.inBrowser()?n(23):n(22):this.connectionType=t.connectionType,this.connection=new this.connectionType(t),this.streamingCount=0,this.devices={},this.plugins={},this._pluginPipelineSteps={},this._pluginExtendedMethods={},t.useAllPlugins&&this.useRegisteredPlugins(),this.setupFrameEvents(t),this.setupConnectionEvents(),this.startAnimationLoop()};p.prototype.gesture=function(t,e){var n=u(this,t);return void 0!==e&&n.stop(e),n},p.prototype.setBackground=function(t){return this.connection.setBackground(t),this},p.prototype.setOptimizeHMD=function(t){return this.connection.setOptimizeHMD(t),this},p.prototype.inBrowser=function(){return!this.inNode},p.prototype.useAnimationLoop=function(){return this.inBrowser()&&!this.inBackgroundPage()},p.prototype.inBackgroundPage=function(){return\"undefined\"!=typeof chrome&&chrome.extension&&chrome.extension.getBackgroundPage&&chrome.extension.getBackgroundPage()===window},p.prototype.connect=function(){return this.connection.connect(),this},p.prototype.streaming=function(){return this.streamingCount>0},p.prototype.connected=function(){return!!this.connection.connected},p.prototype.startAnimationLoop=function(){this.suppressAnimationLoop||this.animationFrameRequested||(this.animationFrameRequested=!0,window.requestAnimationFrame(this.onAnimationFrame))},p.prototype.disconnect=function(){return this.connection.disconnect(),this},p.prototype.frame=function(t){return this.history.get(t)||r.Invalid},p.prototype.loop=function(t){return t&&(\"function\"==typeof t?this.on(this.frameEventName,t):this.setupFrameEvents(t)),this.connect()},p.prototype.addStep=function(t){this.pipeline||(this.pipeline=new l(this)),this.pipeline.addStep(t)},p.prototype.processFrame=function(t){t.gestures&&(this.accumulatedGestures=this.accumulatedGestures.concat(t.gestures)),this.lastConnectionFrame=t,this.startAnimationLoop(),this.emit(\"deviceFrame\",t)},p.prototype.processFinishedFrame=function(t){if(this.lastFrame=t,t.valid&&(this.lastValidFrame=t),t.controller=this,t.historyIdx=this.history.push(t),t.gestures){t.gestures=this.accumulatedGestures,this.accumulatedGestures=[];for(var e=0;e!=t.gestures.length;e++)this.emit(\"gesture\",t.gestures[e],t)}this.pipeline&&((t=this.pipeline.run(t))||(t=r.Invalid)),this.emit(\"frame\",t),this.emitHandEvents(t)},p.prototype.emitHandEvents=function(t){for(var e=0;e<t.hands.length;e++)this.emit(\"hand\",t.hands[e])},p.prototype.setupFrameEvents=function(t){t.frame&&this.on(\"frame\",t.frame),t.hand&&this.on(\"hand\",t.hand)},p.prototype.setupConnectionEvents=function(){var t=this;this.connection.on(\"frame\",function(e){t.processFrame(e)}),this.on(this.frameEventName,function(e){t.processFinishedFrame(e)});var e=function(){if(t.connection.opts.requestProtocolVersion<5&&0==t.streamingCount){t.streamingCount=1;var n={attached:!0,streaming:!0,type:\"unknown\",id:\"Lx00000000000\"};t.devices[n.id]=n,t.emit(\"deviceAttached\",n),t.emit(\"deviceStreaming\",n),t.emit(\"streamingStarted\",n),t.connection.removeListener(\"frame\",e)}},n=function(){if(t.streamingCount>0){for(var e in t.devices)t.emit(\"deviceStopped\",t.devices[e]),t.emit(\"deviceRemoved\",t.devices[e]);for(var e in t.emit(\"streamingStopped\",t.devices[e]),t.streamingCount=0,t.devices)delete t.devices[e]}};this.connection.on(\"focus\",function(){t.loopWhileDisconnected&&t.startAnimationLoop(),t.emit(\"focus\")}),this.connection.on(\"blur\",function(){t.emit(\"blur\")}),this.connection.on(\"protocol\",function(e){e.on(\"beforeFrameCreated\",function(e){t.emit(\"beforeFrameCreated\",e)}),e.on(\"afterFrameCreated\",function(e,n){t.emit(\"afterFrameCreated\",e,n)}),t.emit(\"protocol\",e)}),this.connection.on(\"ready\",function(){t.checkVersion&&!t.inNode&&t.checkOutOfDate(),t.emit(\"ready\")}),this.connection.on(\"connect\",function(){t.emit(\"connect\"),t.connection.removeListener(\"frame\",e),t.connection.on(\"frame\",e)}),this.connection.on(\"disconnect\",function(){t.emit(\"disconnect\"),n()}),this.connection.on(\"deviceConnect\",function(r){r.state?(t.emit(\"deviceConnected\"),t.connection.removeListener(\"frame\",e),t.connection.on(\"frame\",e)):(t.emit(\"deviceDisconnected\"),n())}),this.connection.on(\"deviceEvent\",function(e){var n=e.state,r=t.devices[n.id],i={};for(var s in n)r&&r.hasOwnProperty(s)&&r[s]==n[s]||(i[s]=!0);t.devices[n.id]=n,i.attached&&t.emit(n.attached?\"deviceAttached\":\"deviceRemoved\",n),i.streaming&&(n.streaming?(t.streamingCount++,t.emit(\"deviceStreaming\",n),1==t.streamingCount&&t.emit(\"streamingStarted\",n),i.attached||t.emit(\"deviceConnected\")):i.attached&&n.attached||(t.streamingCount--,t.emit(\"deviceStopped\",n),0==t.streamingCount&&t.emit(\"streamingStopped\",n),t.emit(\"deviceDisconnected\")))}),this.on(\"newListener\",function(t,e){\"deviceConnected\"!=t&&\"deviceDisconnected\"!=t||console.warn(t+\" events are depricated.  Consider using 'streamingStarted/streamingStopped' or 'deviceStreaming/deviceStopped' instead\")})},p.prototype.checkOutOfDate=function(){console.assert(this.connection&&this.connection.protocol);var t=this.connection.protocol.serviceVersion,e=this.connection.protocol.version,n=this.connectionType.defaultProtocolVersion;return n>e&&(console.warn(\"Your Protocol Version is v\"+e+\", this app was designed for v\"+n),c.warnOutOfDate({sV:t,pV:e}),!0)},p._pluginFactories={},p.plugin=function(t,e){return this._pluginFactories[t]&&console.warn('Plugin \"'+t+'\" already registered'),this._pluginFactories[t]=e},p.plugins=function(){return f.keys(this._pluginFactories)};var d=function(t,e,n){-1!=[\"beforeFrameCreated\",\"afterFrameCreated\"].indexOf(e)?this.on(e,n):(this.pipeline||(this.pipeline=new l(this)),this._pluginPipelineSteps[t]||(this._pluginPipelineSteps[t]=[]),this._pluginPipelineSteps[t].push(this.pipeline.addWrappedStep(e,n)))},m=function(t,e,n){var a;switch(this._pluginExtendedMethods[t]||(this._pluginExtendedMethods[t]=[]),e){case\"frame\":a=r;break;case\"hand\":a=i;break;case\"pointable\":a=s,f.extend(o.prototype,n),f.extend(o.Invalid,n);break;case\"finger\":a=o;break;default:throw t+' specifies invalid object type \"'+e+'\" for prototypical extension'}f.extend(a.prototype,n),f.extend(a.Invalid,n),this._pluginExtendedMethods[t].push([a,n])};p.prototype.use=function(t,e){var n,r,i,s;if(!(r=\"function\"==typeof t?t:p._pluginFactories[t]))throw\"Leap Plugin \"+t+\" not found.\";if(e||(e={}),this.plugins[t])return f.extend(this.plugins[t],e),this;for(i in this.plugins[t]=e,s=r.call(this,e))\"function\"==typeof(n=s[i])?d.call(this,t,i,n):m.call(this,t,i,n);return this},p.prototype.stopUsing=function(t){var e,n=this._pluginPipelineSteps[t],r=this._pluginExtendedMethods[t],i=0;if(this.plugins[t]){if(n)for(i=0;i<n.length;i++)this.pipeline.removeStep(n[i]);if(r)for(i=0;i<r.length;i++)for(var s in e=r[i][0],r[i][1])delete e.prototype[s],delete e.Invalid[s];return delete this.plugins[t],this}},p.prototype.useRegisteredPlugins=function(){for(var t in p._pluginFactories)this.use(t)},f.extend(p.prototype,h.prototype)}).call(this,n(14))},function(t,e,n){t.exports={Controller:n(25),Frame:n(7),Gesture:n(6),Hand:n(5),Pointable:n(2),Finger:n(4),InteractionBox:n(12),CircularBuffer:n(10),UI:n(19),JSONProtocol:n(8).JSONProtocol,glMatrix:n(1),mat3:n(1).mat3,vec3:n(1).vec3,loopController:void 0,version:n(16),_:n(0),EventEmitter:n(3).EventEmitter,loop:function(t,e){return t&&void 0===e&&\"[object Function]\"==={}.toString.call(t)&&(e=t,t={}),this.loopController?t&&this.loopController.setupFrameEvents(t):this.loopController=new this.Controller(t),this.loopController.loop(e),this.loopController},plugin:function(t,e){this.Controller.plugin(t,e)}}},function(t,e,n){var r;!function t(e,n,i){function s(a,l){if(!n[a]){if(!e[a]){if(!l&&(\"function\"==typeof r&&r))return r(a,!0);if(o)return o(a,!0);throw new Error(\"Cannot find module '\"+a+\"'\")}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){var n=e[a][1][t];return s(n||t)},h,h.exports,t,e,n,i)}return n[a].exports}for(var o=\"function\"==typeof r&&r,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(t,e,n){var r={isDomPresent:!0,navigator:navigator,window:window,document:document,ajax:function(t){var e=new XMLHttpRequest;if(e.open(\"GET\",t,!1),e.overrideMimeType&&e.overrideMimeType(\"text/plain\"),e.setRequestHeader(\"If-Modified-Since\",\"Fri, 01 Jan 1960 00:00:00 GMT\"),e.send(null),200!==e.status&&0!==e.status)throw\"XMLHttpRequest failed, status code \"+e.status;return e.responseText}};window.Processing=t(\"./src/\")(r)},{\"./src/\":27}],2:[function(t,e,n){e.exports={name:\"Processing.js\",version:\"1.4.8\",dependencies:{argv:\"~0.0.2\",browserify:\"~2.18.1\",express:\"~3.3.3\",\"node-minify\":\"~0.7.3\",nunjucks:\"~0.1.9\",open:\"0.0.3\"},devDependencies:{grunt:\"~0.4.1\",\"grunt-cli\":\"~0.1.8\",\"grunt-contrib-jshint\":\"~0.4.3\"}}},{}],3:[function(t,e,n){e.exports=function(t){if(!(t instanceof Array)){if(t.iterator instanceof Function)return t.iterator();throw\"Unable to iterate: \"+t}var e=-1;this.hasNext=function(){return++e<t.length},this.next=function(){return t[e]}}},{}],4:[function(t,e,n){e.exports={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1e-4,MAX_FLOAT:3.4028235e38,MIN_FLOAT:-3.4028235e38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:Math.PI,TWO_PI:2*Math.PI,TAU:2*Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,WHITESPACE:\" \\t\\n\\r\\f\",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:\"butt\",ROUND:\"round\",PROJECT:\"square\",MITER:\"miter\",BEVEL:\"bevel\",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:\"default\",CROSS:\"crosshair\",HAND:\"pointer\",MOVE:\"move\",TEXT:\"text\",WAIT:\"wait\",NOCURSOR:\"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto\",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8}},{}],5:[function(t,e,n){e.exports=function(t){function e(){}e.prototype=t.PConstants;var n=new e;function r(t,e,n){if(t.hasOwnProperty(e)&&\"function\"==typeof t[e]){var r=t[e];if(\"$overloads\"in r)r.$defaultOverload=n;else if(\"$overloads\"in n||r.length!==n.length){var i,s;\"$overloads\"in n?((i=n.$overloads.slice(0))[r.length]=r,s=n.$defaultOverload):((i=[])[n.length]=n,i[r.length]=r,s=r);var o=function(){return(o.$overloads[arguments.length]||(\"$methodArgsIndex\"in o&&arguments.length>o.$methodArgsIndex?o.$overloads[o.$methodArgsIndex]:null)||o.$defaultOverload).apply(this,arguments)};o.$overloads=i,\"$methodArgsIndex\"in n&&(o.$methodArgsIndex=n.$methodArgsIndex),o.$defaultOverload=s,o.name=e,t[e]=o}}else t[e]=n}function i(t,e){function i(r){n.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},enumerable:!0})}var s=[];for(var o in e)\"function\"==typeof e[o]?r(t,o,e[o]):\"$\"===o.charAt(0)||o in t||s.push(o);for(;s.length>0;)i(s.shift());t.$super=e}return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.defineProperty=function(t,e,n){\"defineProperty\"in Object?Object.defineProperty(t,e,n):(n.hasOwnProperty(\"get\")&&t.__defineGetter__(e,n.get),n.hasOwnProperty(\"set\")&&t.__defineSetter__(e,n.set))},n.extendClassChain=function(t){for(var e=[t],n=t.$upcast;n;n=n.$upcast)i(n,t),e.push(n),t=n;for(;e.length>0;)e.pop().$self=t},n.extendStaticMembers=function(t,e){i(t,e)},n.extendInterfaceMembers=function(t,e){i(t,e)},n.addMethod=function(t,e,n,r){var i=t[e];if(i||r){var s=n.length;if(\"$overloads\"in i)i.$overloads[s]=n;else{var o=function(){return(o.$overloads[arguments.length]||(\"$methodArgsIndex\"in o&&arguments.length>o.$methodArgsIndex?o.$overloads[o.$methodArgsIndex]:null)||o.$defaultOverload).apply(this,arguments)},a=[];i&&(a[i.length]=i),a[s]=n,o.$overloads=a,o.$defaultOverload=i||n,r&&(o.$methodArgsIndex=s),o.name=e,t[e]=o}}else t[e]=n},n.createJavaArray=function(t,e){var r=null,i=null;if(\"string\"==typeof t&&(\"boolean\"===t?i=!1:function(t){return\"string\"==typeof t&&-1!==[\"byte\",\"int\",\"char\",\"color\",\"float\",\"long\",\"double\"].indexOf(t)}(t)&&(i=0)),\"number\"==typeof e[0]){var s=0|e[0];if(e.length<=1){(r=[]).length=s;for(var o=0;o<s;++o)r[o]=i}else{r=[];for(var a=e.slice(1),l=0;l<s;++l)r.push(n.createJavaArray(t,a))}}return r},n.defineProperty(n,\"screenWidth\",{get:function(){return window.innerWidth}}),n.defineProperty(n,\"screenHeight\",{get:function(){return window.innerHeight}}),n}},{}],6:[function(t,e,n){e.exports=function(t,e){var n=e.window,r=e.document,i=n.XMLHttpRequest,s=e.noop,o=e.isDOMPresent,a=e.version;t.version=a||\"@DEV-VERSION@\",t.lib={},t.registerLibrary=function(e,n){t.lib[e]=n,n.hasOwnProperty(\"init\")&&n.init(defaultScope)},t.Sketch=function(t){this.attachFunction=t,this.options={pauseOnBlur:!1,globalKeyEvents:!1},this.onLoad=s,this.onSetup=s,this.onPause=s,this.onLoop=s,this.onFrameStart=s,this.onFrameEnd=s,this.onExit=s,this.params={},this.imageCache={pending:0,images:{},operaCache:{},add:function(t,e){var i;if(!this.images[t]&&(o||(this.images[t]=null),e||((e=new Image).onload=(i=this,function(){i.pending--}),this.pending++,e.src=t),this.images[t]=e,n.opera)){var s=r.createElement(\"div\");s.appendChild(e),s.style.position=\"absolute\",s.style.opacity=0,s.style.width=\"1px\",s.style.height=\"1px\",this.operaCache[t]||(r.body.appendChild(s),this.operaCache[t]=s)}}},this.sourceCode=void 0,this.attach=function(t){if(\"function\"==typeof this.attachFunction)this.attachFunction(t);else{if(!this.sourceCode)throw\"Unable to attach sketch to the processing instance\";var e=new Function(\"return (\"+this.sourceCode+\");\")();e(t),this.attachFunction=e}},this.toString=function(){var t,e=\"((function(Sketch) {\\n\";for(t in e+=\"var sketch = new Sketch(\\n\"+this.sourceCode+\");\\n\",this.options)if(this.options.hasOwnProperty(t)){var n=this.options[t];e+=\"sketch.options.\"+t+\" = \"+(\"string\"==typeof n?'\"'+n+'\"':\"\"+n)+\";\\n\"}for(t in this.imageCache)this.options.hasOwnProperty(t)&&(e+='sketch.imageCache.add(\"'+t+'\");\\n');return e+=\"return sketch;\\n})(Processing.Sketch))\"}};var l=t.loadSketchFromSources=function(e,s){var o=[],a=[],l=s.length,h=0;function u(s,u){function c(n,r){if(o[s]=n,++h,r&&a.push(u+\" ==> \"+r),h===l){if(0!==a.length)throw\"Processing.js: Unable to load pjs sketch files: \"+a.join(\"\\n\");try{return new t(e,o.join(\"\\n\"))}catch(t){throw console.log(\"Processing.js: Unable to execute pjs sketch.\"),t}}}if(\"#\"!==u.charAt(0))!function(t,e){var r=new i;r.onreadystatechange=function(){var t;4===r.readyState&&(200!==r.status&&0!==r.status?t=\"Invalid XHR status \"+r.status:\"\"===r.responseText&&(t=\"withCredentials\"in new i&&!1===(new i).withCredentials&&\"file:\"===n.location.protocol?\"XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.\":\"File is empty.\"),e(r.responseText,t))},r.open(\"GET\",t,!0),r.overrideMimeType&&r.overrideMimeType(\"application/json\"),r.setRequestHeader(\"If-Modified-Since\",\"Fri, 01 Jan 1960 00:00:00 GMT\"),r.send(null)}(u,c);else{var f=r.getElementById(u.substring(1));f?c(f.text||f.textContent):c(\"\",\"Unable to load pjs sketch: element with id '\"+u.substring(1)+\"' was not found\")}}for(var c=0;c<l;++c)u(c,s[c])},h=function(){r.removeEventListener(\"DOMContentLoaded\",h,!1),processingInstances=[],t.instances=processingInstances;for(var e,n=r.getElementsByTagName(\"canvas\"),i=0,s=n.length;i<s;i++){var o=n[i].getAttribute(\"data-processing-sources\");if(null===o&&null===(o=n[i].getAttribute(\"data-src\"))&&(o=n[i].getAttribute(\"datasrc\")),o){e=o.split(/\\s+/g);for(var a=0;a<e.length;)e[a]?a++:e.splice(a,1);l(n[i],e)}}var u,c,f,p=r.getElementsByTagName(\"script\"),d=[];for(u=p.length-1;u>=0;u--)d.push(p[u]);for(u=0,c=d.length;u<c;u++){var m=d[u];if(m.getAttribute){var g=m.getAttribute(\"type\");if(g&&(\"text/processing\"===g.toLowerCase()||\"application/processing\"===g.toLowerCase())){var v=m.getAttribute(\"data-processing-target\");if(n=void 0,v)n=r.getElementById(v);else{for(var y=m.nextSibling;y&&1!==y.nodeType;)y=y.nextSibling;y&&\"canvas\"===y.nodeName.toLowerCase()&&(n=y)}if(n){if(m.getAttribute(\"src\")){e=m.getAttribute(\"src\").split(/\\s+/),l(n,e);continue}f=m.textContent||m.text,new t(n,f)}}}}};return r.addEventListener(\"DOMContentLoaded\",h,!1),t.reload=function(){if(processingInstances.length>0)for(var t=processingInstances.length-1;t>=0;t--)processingInstances[t]&&processingInstances[t].exit();h()},t.disableInit=function(){r.removeEventListener(\"DOMContentLoaded\",h,!1)},t}},{}],7:[function(t,e,n){e.exports=function(t,e){return null===t||null===e?null===t&&null===e:\"string\"==typeof t?t===e:\"object\"!=typeof t?t===e:t.equals instanceof Function?t.equals(e):t===e}},{}],8:[function(t,e,n){e.exports=function(t,e){if(\"string\"==typeof t){for(var n=0,r=0;r<t.length;++r)n=31*n+t.charCodeAt(r)&4294967295;return n}return\"object\"!=typeof t?4294967295&t:t.hashCode instanceof Function?t.hashCode():(t.$id===e&&(t.$id=Math.floor(65536*Math.random())-32768<<16|Math.floor(65536*Math.random())),t.$id)}},{}],9:[function(t,e,n){e.exports=function(t){t.virtHashCode;var e=t.virtEquals;return function t(n){var r=[];n&&n.toArray&&(r=n.toArray()),this.get=function(t){return r[t]},this.contains=function(t){return this.indexOf(t)>-1},this.indexOf=function(t){for(var n=0,i=r.length;n<i;++n)if(e(t,r[n]))return n;return-1},this.lastIndexOf=function(t){for(var n=r.length-1;n>=0;--n)if(e(t,r[n]))return n;return-1},this.add=function(){if(1===arguments.length)r.push(arguments[0]);else{if(2!==arguments.length)throw\"Please use the proper number of parameters.\";var t=arguments[0];if(\"number\"!=typeof t)throw typeof t+\" is not a number\";if(!(t>=0&&t<=r.length))throw t+\" is not a valid index\";r.splice(t,0,arguments[1])}},this.addAll=function(t,e){var n;if(\"number\"==typeof t){if(t<0||t>r.length)throw\"Index out of bounds for addAll: \"+t+\" greater or equal than \"+r.length;for(n=new ObjectIterator(e);n.hasNext();)r.splice(t++,0,n.next())}else for(n=new ObjectIterator(t);n.hasNext();)r.push(n.next())},this.set=function(){if(2!==arguments.length)throw\"Please use the proper number of parameters.\";var t=arguments[0];if(\"number\"!=typeof t)throw typeof t+\" is not a number\";if(!(t>=0&&t<r.length))throw t+\" is not a valid index.\";r.splice(t,1,arguments[1])},this.size=function(){return r.length},this.clear=function(){r.length=0},this.remove=function(t){return\"number\"==typeof t?r.splice(t,1)[0]:(t=this.indexOf(t))>-1&&(r.splice(t,1),!0)},this.removeAll=function(e){var n,r,i,s=new t;for(s.addAll(this),this.clear(),n=0,r=0;n<s.size();n++)i=s.get(n),e.contains(i)||this.add(r++,i);return this.size()<s.size()},this.isEmpty=function(){return!r.length},this.clone=function(){return new t(this)},this.toArray=function(){return r.slice(0)},this.iterator=function(){return new function(t){var e=-1;this.hasNext=function(){return e+1<t.length},this.next=function(){return t[++e]},this.remove=function(){t.splice(e--,1)}}(r)}}}},{}],10:[function(t,e,n){var r,i;e.exports=(r={},(i=function(t){return\"string\"==typeof t&&1===t.length?this.code=t.charCodeAt(0):this.code=\"number\"==typeof t?t:t instanceof i?t:NaN,void 0===r[this.code]?r[this.code]=this:r[this.code]}).prototype.toString=function(){return String.fromCharCode(this.code)},i.prototype.valueOf=function(){return this.code},i)},{}],11:[function(t,e,n){e.exports=function(t){var e=t.virtHashCode,n=t.virtEquals;return function t(){if(1===arguments.length&&arguments[0]instanceof t)return arguments[0].clone();var r=arguments.length>0?arguments[0]:16,i=arguments.length>1?arguments[1]:.75,s=[];s.length=r;var o=0,a=this;function l(t){var n=e(t)%s.length;return n<0?s.length+n:n}function h(){if(!(o<=i*s.length)){for(var t=[],e=0;e<s.length;++e)void 0!==s[e]&&(t=t.concat(s[e]));var n=2*s.length;(s=[]).length=n;for(var r=0;r<t.length;++r){var a=l(t[r].key),h=s[a];void 0===h&&(s[a]=h=[]),h.push(t[r])}}}function u(t,e,n){this.clear=function(){a.clear()},this.contains=function(t){return e(t)},this.containsAll=function(t){for(var e=t.iterator();e.hasNext();)if(!this.contains(e.next()))return!1;return!0},this.isEmpty=function(){return a.isEmpty()},this.iterator=function(){return new function(t,e){var n,r=0,i=-1,o=!1;function a(){for(;!o;)if(++i,r>=s.length)o=!0;else{if(!(void 0===s[r]||i>=s[r].length))return;i=-1,++r}}this.hasNext=function(){return!o},this.next=function(){return n=t(s[r][i]),a(),n},this.remove=function(){void 0!==n&&(e(n),--i,a())},a()}(t,n)},this.remove=function(t){return!!this.contains(t)&&(n(t),!0)},this.removeAll=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();this.contains(r)&&n(r)}return!0},this.retainAll=function(t){for(var e=this.iterator(),r=[];e.hasNext();){var i=e.next();t.contains(i)||r.push(i)}for(var s=0;s<r.length;++s)n(r[s]);return r.length>0},this.size=function(){return a.size()},this.toArray=function(){for(var t=[],e=this.iterator();e.hasNext();)t.push(e.next());return t}}function c(t){this._isIn=function(e){return e===a&&void 0===t.removed},this.equals=function(e){return n(t.key,e.getKey())},this.getKey=function(){return t.key},this.getValue=function(){return t.value},this.hashCode=function(n){return e(t.key)},this.setValue=function(e){var n=t.value;return t.value=e,n}}this.clear=function(){o=0,(s=[]).length=r},this.clone=function(){var e=new t;return e.putAll(this),e},this.containsKey=function(t){var e=l(t),r=s[e];if(void 0===r)return!1;for(var i=0;i<r.length;++i)if(n(r[i].key,t))return!0;return!1},this.containsValue=function(t){for(var e=0;e<s.length;++e){var r=s[e];if(void 0!==r)for(var i=0;i<r.length;++i)if(n(r[i].value,t))return!0}return!1},this.entrySet=function(){return new u(function(t){return new c(t)},function(t){return t instanceof c&&t._isIn(a)},function(t){return a.remove(t.getKey())})},this.get=function(t){var e=l(t),r=s[e];if(void 0===r)return null;for(var i=0;i<r.length;++i)if(n(r[i].key,t))return r[i].value;return null},this.isEmpty=function(){return 0===o},this.keySet=function(){return new u(function(t){return t.key},function(t){return a.containsKey(t)},function(t){return a.remove(t)})},this.values=function(){return new u(function(t){return t.value},function(t){return a.containsValue(t)},function(t){return a.removeByValue(t)})},this.put=function(t,e){var r=l(t),i=s[r];if(void 0===i)return++o,s[r]=[{key:t,value:e}],h(),null;for(var a=0;a<i.length;++a)if(n(i[a].key,t)){var u=i[a].value;return i[a].value=e,u}return++o,i.push({key:t,value:e}),h(),null},this.putAll=function(t){for(var e=t.entrySet().iterator();e.hasNext();){var n=e.next();this.put(n.getKey(),n.getValue())}},this.remove=function(t){var e=l(t),r=s[e];if(void 0===r)return null;for(var i=0;i<r.length;++i)if(n(r[i].key,t)){--o;var a=r[i].value;return r[i].removed=!0,r.length>1?r.splice(i,1):s[e]=void 0,a}return null},this.removeByValue=function(t){var e,n,r;for(e in s)if(s.hasOwnProperty(e))for(n=0,r=s[e].length;n<r;n++)if(s[e][n].value===t)return s[e].splice(n,1),!0;return!1},this.size=function(){return o}}}},{}],12:[function(t,e,n){e.exports=function(t,e){t.Browser.window;var n=t.Browser.document,r=t.noop;function i(t,i){t===e&&(t=\"\"),this.name=t,i===e&&(i=0),this.size=i,this.glyph=!1,this.ascent=0,this.descent=0,this.leading=1.2*i;var s=t.indexOf(\" Italic Bold\");-1!==s&&(t=t.substring(0,s)),this.style=\"normal\";var o=t.indexOf(\" Italic\");-1!==o&&(t=t.substring(0,o),this.style=\"italic\"),this.weight=\"normal\";var a=t.indexOf(\" Bold\");if(-1!==a&&(t=t.substring(0,a),this.weight=\"bold\"),this.family=\"sans-serif\",t!==e)switch(t){case\"sans-serif\":case\"serif\":case\"monospace\":case\"fantasy\":case\"cursive\":this.family=t;break;default:this.family='\"'+t+'\", sans-serif'}this.context2d=function(t){var e=t.size/250,i=n.createElement(\"canvas\");i.width=500,i.height=500,i.style.opacity=0;var s=t.getCSSDefinition(\"250px\",\"normal\"),o=i.getContext(\"2d\");o.font=s,i.width=o.measureText(\"dbflkhyjqpg\").width,o.font=s;var a=n.createElement(\"div\");a.style.position=\"absolute\",a.style.opacity=0,a.style.fontFamily='\"'+t.name+'\"',a.style.fontSize=\"250px\",a.innerHTML=\"dbflkhyjqpg<br/>dbflkhyjqpg\",n.body.appendChild(a);var l=i.width,h=i.height,u=h/2;o.fillStyle=\"white\",o.fillRect(0,0,l,h),o.fillStyle=\"black\",o.fillText(\"dbflkhyjqpg\",0,u);for(var c=o.getImageData(0,0,l,h).data,f=0,p=4*l,d=c.length;++f<d&&255===c[f];)r();var m=Math.round(f/p);for(f=d-1;--f>0&&255===c[f];)r();var g=Math.round(f/p);if(t.ascent=e*(u-m),t.descent=e*(g-u),n.defaultView.getComputedStyle){var v=n.defaultView.getComputedStyle(a,null).getPropertyValue(\"height\");(v=e*v.replace(\"px\",\"\"))>=2*t.size&&(t.leading=Math.round(v/2))}if(n.body.removeChild(a),t.caching)return o}(this),this.css=this.getCSSDefinition(),this.context2d&&(this.context2d.font=this.css)}return i.prototype.caching=!0,i.prototype.getCSSDefinition=function(t,n){return t===e&&(t=this.size+\"px\"),n===e&&(n=this.leading+\"px\"),[this.style,\"normal\",this.weight,t+\"/\"+n,this.family].join(\" \")},i.prototype.measureTextWidth=function(t){return this.context2d.measureText(t).width},i.prototype.measureTextWidthFallback=function(t){var e=n.createElement(\"canvas\").getContext(\"2d\");return e.font=this.css,e.measureText(t).width},i.PFontCache={length:0},i.get=function(t,e){e=(10*e+.5|0)/10;var n=i.PFontCache,r=t+\"/\"+e;if(!n[r]){if(n[r]=new i(t,e),n.length++,50===n.length){var s;for(s in i.prototype.measureTextWidth=i.prototype.measureTextWidthFallback,i.prototype.caching=!1,n)\"length\"!==s&&(n[s].context2d=null);return new i(t,e)}if(400===n.length)return i.PFontCache={},i.get=i.getFallback,new i(t,e)}return n[r]},i.getFallback=function(t,e){return new i(t,e)},i.list=function(){return[\"sans-serif\",\"serif\",\"monospace\",\"fantasy\",\"cursive\"]},i.preloading={template:{},initialized:!1,initialize:function(){var t=n.createElement(\"style\");t.setAttribute(\"type\",\"text/css\"),t.innerHTML='@font-face {\\n  font-family: \"PjsEmptyFont\";\\n  src: url(\\'data:application/x-font-ttf;base64,'+\"#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#\".replace(/[#237]/g,function(t){return\"AAAAAAAA\".substr(~~t?7-t:6)})+\"')\\n       format('truetype');\\n}\",n.head.appendChild(t);var e=n.createElement(\"span\");e.style.cssText='position: absolute; top: 0; left: 0; opacity: 0; font-family: \"PjsEmptyFont\", fantasy;',e.innerHTML=\"AAAAAAAA\",n.body.appendChild(e),this.template=e,this.initialized=!0},getElementWidth:function(t){return n.defaultView.getComputedStyle(t,\"\").getPropertyValue(\"width\")},timeAttempted:0,pending:function(t){this.initialized||this.initialize();for(var e,r,i=this.getElementWidth(this.template),s=0;s<this.fontList.length;s++){if(e=this.fontList[s],r=this.getElementWidth(e),this.timeAttempted<4e3&&r===i)return this.timeAttempted+=t,!0;n.body.removeChild(e),this.fontList.splice(s--,1),this.timeAttempted=0}return 0!==this.fontList.length},fontList:[],addedList:{},add:function(t){this.initialized||this.initialize();var e=\"object\"==typeof t?t.fontFace:t,r=\"object\"==typeof t?t.url:t;if(!this.addedList[e]){var i=n.createElement(\"style\");i.setAttribute(\"type\",\"text/css\"),i.innerHTML=\"@font-face{\\n  font-family: '\"+e+\"';\\n  src:  url('\"+r+\"');\\n}\\n\",n.head.appendChild(i),this.addedList[e]=!0;var s=n.createElement(\"span\");s.style.cssText=\"position: absolute; top: 0; left: 0; opacity: 0;\",s.style.fontFamily='\"'+e+'\", \"PjsEmptyFont\", fantasy',s.innerHTML=\"AAAAAAAA\",n.body.appendChild(s),this.fontList.push(s)}}},i}},{}],13:[function(t,e,n){e.exports=function(t,e){var n=t.p,r=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof r?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};return r.prototype={set:function(){if(6===arguments.length){var t=arguments;this.set([t[0],t[1],t[2],t[3],t[4],t[5]])}else 1===arguments.length&&arguments[0]instanceof r?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var t=new r;return t.set(this.elements),t},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(t,e){this.elements[2]=t*this.elements[0]+e*this.elements[1]+this.elements[2],this.elements[5]=t*this.elements[3]+e*this.elements[4]+this.elements[5]},invTranslate:function(t,e){this.translate(-t,-e)},transpose:function(){},mult:function(t,e){var n,r;return t instanceof PVector?(n=t.x,r=t.y,e||(e=new PVector)):t instanceof Array&&(n=t[0],r=t[1],e||(e=[])),e instanceof Array?(e[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2],e[1]=this.elements[3]*n+this.elements[4]*r+this.elements[5]):e instanceof PVector&&(e.x=this.elements[0]*n+this.elements[1]*r+this.elements[2],e.y=this.elements[3]*n+this.elements[4]*r+this.elements[5],e.z=0),e},multX:function(t,e){return t*this.elements[0]+e*this.elements[1]+this.elements[2]},multY:function(t,e){return t*this.elements[3]+e*this.elements[4]+this.elements[5]},skewX:function(t){this.apply(1,0,1,t,0,0)},skewY:function(t){this.apply(1,0,1,0,t,0)},shearX:function(t){this.apply(1,0,1,Math.tan(t),0,0)},shearY:function(t){this.apply(1,0,1,0,Math.tan(t),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var t=this.determinant();if(Math.abs(t)>PConstants.MIN_INT){var e=this.elements[0],n=this.elements[1],r=this.elements[2],i=this.elements[3],s=this.elements[4],o=this.elements[5];return this.elements[0]=s/t,this.elements[3]=-i/t,this.elements[1]=-n/t,this.elements[4]=e/t,this.elements[2]=(n*o-s*r)/t,this.elements[5]=(i*r-e*o)/t,!0}return!1},scale:function(t,e){t&&!e&&(e=t),t&&e&&(this.elements[0]*=t,this.elements[1]*=e,this.elements[3]*=t,this.elements[4]*=e)},invScale:function(t,e){t&&!e&&(e=t),this.scale(1/t,1/e)},apply:function(){var t;1===arguments.length&&arguments[0]instanceof r?t=arguments[0].array():6===arguments.length?t=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(t=arguments[0]);for(var e=[0,0,this.elements[2],0,0,this.elements[5]],n=0,i=0;i<2;i++)for(var s=0;s<3;s++,n++)e[n]+=this.elements[3*i+0]*t[s+0]+this.elements[3*i+1]*t[s+3];this.elements=e.slice()},preApply:function(){var t;1===arguments.length&&arguments[0]instanceof r?t=arguments[0].array():6===arguments.length?t=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(t=arguments[0]);var e=[0,0,t[2],0,0,t[5]];e[2]=t[2]+this.elements[2]*t[0]+this.elements[5]*t[1],e[5]=t[5]+this.elements[2]*t[3]+this.elements[5]*t[4],e[0]=this.elements[0]*t[0]+this.elements[3]*t[1],e[3]=this.elements[0]*t[3]+this.elements[3]*t[4],e[1]=this.elements[1]*t[0]+this.elements[4]*t[1],e[4]=this.elements[1]*t[3]+this.elements[4]*t[4],this.elements=e.slice()},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=this.elements[0],i=this.elements[1];this.elements[0]=e*r+n*i,this.elements[1]=-n*r+e*i,r=this.elements[3],i=this.elements[4],this.elements[3]=e*r+n*i,this.elements[4]=-n*r+e*i},rotateZ:function(t){this.rotate(t)},invRotateZ:function(t){this.rotateZ(t-Math.PI)},print:function(){var t=printMatrixHelper(this.elements),e=n.nfs(this.elements[0],t,4)+\" \"+n.nfs(this.elements[1],t,4)+\" \"+n.nfs(this.elements[2],t,4)+\"\\n\"+n.nfs(this.elements[3],t,4)+\" \"+n.nfs(this.elements[4],t,4)+\" \"+n.nfs(this.elements[5],t,4)+\"\\n\\n\";n.println(e)}},r}},{}],14:[function(t,e,n){e.exports=function(t,e){var n=t.p,r=function(){this.reset()};return r.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof r?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var t=new r;return t.set(this.elements),t},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(t,n,r){r===e&&(r=0),this.elements[3]+=t*this.elements[0]+n*this.elements[1]+r*this.elements[2],this.elements[7]+=t*this.elements[4]+n*this.elements[5]+r*this.elements[6],this.elements[11]+=t*this.elements[8]+n*this.elements[9]+r*this.elements[10],this.elements[15]+=t*this.elements[12]+n*this.elements[13]+r*this.elements[14]},transpose:function(){var t=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=t,t=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=t,t=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=t,t=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=t,t=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=t,t=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=t},mult:function(t,e){var n,r,i,s;return t instanceof PVector?(n=t.x,r=t.y,i=t.z,s=1,e||(e=new PVector)):t instanceof Array&&(n=t[0],r=t[1],i=t[2],s=t[3]||1,(!e||3!==e.length&&4!==e.length)&&(e=[0,0,0])),e instanceof Array&&(3===e.length?(e[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3],e[1]=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7],e[2]=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]):4===e.length&&(e[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3]*s,e[1]=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7]*s,e[2]=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]*s,e[3]=this.elements[12]*n+this.elements[13]*r+this.elements[14]*i+this.elements[15]*s)),e instanceof PVector&&(e.x=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3],e.y=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7],e.z=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]),e},preApply:function(){var t;1===arguments.length&&arguments[0]instanceof r?t=arguments[0].array():16===arguments.length?t=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(t=arguments[0]);for(var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,i=0;i<4;i++)for(var s=0;s<4;s++,n++)e[n]+=this.elements[s+0]*t[4*i+0]+this.elements[s+4]*t[4*i+1]+this.elements[s+8]*t[4*i+2]+this.elements[s+12]*t[4*i+3];this.elements=e.slice()},apply:function(){var t;1===arguments.length&&arguments[0]instanceof r?t=arguments[0].array():16===arguments.length?t=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(t=arguments[0]);for(var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,i=0;i<4;i++)for(var s=0;s<4;s++,n++)e[n]+=this.elements[4*i+0]*t[s+0]+this.elements[4*i+1]*t[s+4]+this.elements[4*i+2]*t[s+8]+this.elements[4*i+3]*t[s+12];this.elements=e.slice()},rotate:function(t,e,n,r){if(n){var i=Math.cos(t),s=Math.sin(t),o=1-i;this.apply(o*e*e+i,o*e*n-s*r,o*e*r+s*n,0,o*e*n+s*r,o*n*n+i,o*n*r-s*e,0,o*e*r-s*n,o*n*r+s*e,o*r*r+i,0,0,0,0,1)}else this.rotateZ(t)},invApply:function(){inverseCopy===e&&(inverseCopy=new r);var t=arguments;return inverseCopy.set(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),!!inverseCopy.invert()&&(this.preApply(inverseCopy),!0)},rotateX:function(t){var e=Math.cos(t),n=Math.sin(t);this.apply([1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1])},rotateY:function(t){var e=Math.cos(t),n=Math.sin(t);this.apply([e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1])},rotateZ:function(t){var e=Math.cos(t),n=Math.sin(t);this.apply([e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1])},scale:function(t,e,n){!t||e||n?t&&e&&!n&&(n=1):e=n=t,t&&e&&n&&(this.elements[0]*=t,this.elements[1]*=e,this.elements[2]*=n,this.elements[4]*=t,this.elements[5]*=e,this.elements[6]*=n,this.elements[8]*=t,this.elements[9]*=e,this.elements[10]*=n,this.elements[12]*=t,this.elements[13]*=e,this.elements[14]*=n)},skewX:function(t){var e=Math.tan(t);this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(t){var e=Math.tan(t);this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(t){var e=Math.tan(t);this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(t){var e=Math.tan(t);this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},multX:function(t,e,n,r){return n?r?this.elements[0]*t+this.elements[1]*e+this.elements[2]*n+this.elements[3]*r:this.elements[0]*t+this.elements[1]*e+this.elements[2]*n+this.elements[3]:this.elements[0]*t+this.elements[1]*e+this.elements[3]},multY:function(t,e,n,r){return n?r?this.elements[4]*t+this.elements[5]*e+this.elements[6]*n+this.elements[7]*r:this.elements[4]*t+this.elements[5]*e+this.elements[6]*n+this.elements[7]:this.elements[4]*t+this.elements[5]*e+this.elements[7]},multZ:function(t,e,n,r){return r?this.elements[8]*t+this.elements[9]*e+this.elements[10]*n+this.elements[11]*r:this.elements[8]*t+this.elements[9]*e+this.elements[10]*n+this.elements[11]},multW:function(t,e,n,r){return r?this.elements[12]*t+this.elements[13]*e+this.elements[14]*n+this.elements[15]*r:this.elements[12]*t+this.elements[13]*e+this.elements[14]*n+this.elements[15]},invert:function(){var t=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],e=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],n=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],r=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],i=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],s=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],o=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],a=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],l=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],h=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],u=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],c=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],f=t*c-e*u+n*h+r*l-i*a+s*o;if(Math.abs(f)<=1e-9)return!1;var p=[];p[0]=+this.elements[5]*c-this.elements[6]*u+this.elements[7]*h,p[4]=-this.elements[4]*c+this.elements[6]*l-this.elements[7]*a,p[8]=+this.elements[4]*u-this.elements[5]*l+this.elements[7]*o,p[12]=-this.elements[4]*h+this.elements[5]*a-this.elements[6]*o,p[1]=-this.elements[1]*c+this.elements[2]*u-this.elements[3]*h,p[5]=+this.elements[0]*c-this.elements[2]*l+this.elements[3]*a,p[9]=-this.elements[0]*u+this.elements[1]*l-this.elements[3]*o,p[13]=+this.elements[0]*h-this.elements[1]*a+this.elements[2]*o,p[2]=+this.elements[13]*s-this.elements[14]*i+this.elements[15]*r,p[6]=-this.elements[12]*s+this.elements[14]*n-this.elements[15]*e,p[10]=+this.elements[12]*i-this.elements[13]*n+this.elements[15]*t,p[14]=-this.elements[12]*r+this.elements[13]*e-this.elements[14]*t,p[3]=-this.elements[9]*s+this.elements[10]*i-this.elements[11]*r,p[7]=+this.elements[8]*s-this.elements[10]*n+this.elements[11]*e,p[11]=-this.elements[8]*i+this.elements[9]*n-this.elements[11]*t,p[15]=+this.elements[8]*r-this.elements[9]*e+this.elements[10]*t;var d=1/f;return p[0]*=d,p[1]*=d,p[2]*=d,p[3]*=d,p[4]*=d,p[5]*=d,p[6]*=d,p[7]*=d,p[8]*=d,p[9]*=d,p[10]*=d,p[11]*=d,p[12]*=d,p[13]*=d,p[14]*=d,p[15]*=d,this.elements=p.slice(),!0},toString:function(){for(var t=\"\",e=0;e<15;e++)t+=this.elements[e]+\", \";return t+=this.elements[15]},print:function(){var t=printMatrixHelper(this.elements),e=n.nfs(this.elements[0],t,4)+\" \"+n.nfs(this.elements[1],t,4)+\" \"+n.nfs(this.elements[2],t,4)+\" \"+n.nfs(this.elements[3],t,4)+\"\\n\"+n.nfs(this.elements[4],t,4)+\" \"+n.nfs(this.elements[5],t,4)+\" \"+n.nfs(this.elements[6],t,4)+\" \"+n.nfs(this.elements[7],t,4)+\"\\n\"+n.nfs(this.elements[8],t,4)+\" \"+n.nfs(this.elements[9],t,4)+\" \"+n.nfs(this.elements[10],t,4)+\" \"+n.nfs(this.elements[11],t,4)+\"\\n\"+n.nfs(this.elements[12],t,4)+\" \"+n.nfs(this.elements[13],t,4)+\" \"+n.nfs(this.elements[14],t,4)+\" \"+n.nfs(this.elements[15],t,4)+\"\\n\\n\";n.println(e)},invTranslate:function(t,e,n){this.preApply(1,0,0,-t,0,1,0,-e,0,0,1,-n,0,0,0,1)},invRotateX:function(t){var e=Math.cos(-t),n=Math.sin(-t);this.preApply([1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1])},invRotateY:function(t){var e=Math.cos(-t),n=Math.sin(-t);this.preApply([e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1])},invRotateZ:function(t){var e=Math.cos(-t),n=Math.sin(-t);this.preApply([e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1])},invScale:function(t,e,n){this.preApply([1/t,0,0,0,0,1/e,0,0,0,0,1/n,0,0,0,0,1])}},r}},{}],15:[function(t,e,n){e.exports=function(t){var e=t.PConstants,n=t.PMatrix2D,r=t.PMatrix3D,i=function(t){this.family=t||e.GROUP,this.visible=!0,this.style=!0,this.children=[],this.nameTable=[],this.params=[],this.name=\"\",this.image=null,this.matrix=null,this.kind=null,this.close=null,this.width=null,this.height=null,this.parent=null};return i.prototype={isVisible:function(){return this.visible},setVisible:function(t){this.visible=t},disableStyle:function(){this.style=!1;for(var t=0,e=this.children.length;t<e;t++)this.children[t].disableStyle()},enableStyle:function(){this.style=!0;for(var t=0,e=this.children.length;t<e;t++)this.children[t].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(t){this.name=t},getName:function(){return this.name},draw:function(t){if(!t)throw\"render context missing for draw() in PShape\";this.visible&&(this.pre(t),this.drawImpl(t),this.post(t))},drawImpl:function(t){this.family===e.GROUP?this.drawGroup(t):this.family===e.PRIMITIVE?this.drawPrimitive(t):this.family===e.GEOMETRY?this.drawGeometry(t):this.family===e.PATH&&this.drawPath(t)},drawPath:function(t){var n,r;if(0!==this.vertices.length){if(t.beginShape(),0===this.vertexCodes.length)if(2===this.vertices[0].length)for(n=0,r=this.vertices.length;n<r;n++)t.vertex(this.vertices[n][0],this.vertices[n][1]);else for(n=0,r=this.vertices.length;n<r;n++)t.vertex(this.vertices[n][0],this.vertices[n][1],this.vertices[n][2]);else{var i=0;if(2===this.vertices[0].length)for(n=0,r=this.vertexCodes.length;n<r;n++)this.vertexCodes[n]===e.VERTEX?(t.vertex(this.vertices[i][0],this.vertices[i][1],this.vertices[i].moveTo),t.breakShape=!1,i++):this.vertexCodes[n]===e.BEZIER_VERTEX?(t.bezierVertex(this.vertices[i+0][0],this.vertices[i+0][1],this.vertices[i+1][0],this.vertices[i+1][1],this.vertices[i+2][0],this.vertices[i+2][1]),i+=3):this.vertexCodes[n]===e.CURVE_VERTEX?(t.curveVertex(this.vertices[i][0],this.vertices[i][1]),i++):this.vertexCodes[n]===e.BREAK&&(t.breakShape=!0);else for(n=0,r=this.vertexCodes.length;n<r;n++)this.vertexCodes[n]===e.VERTEX?(t.vertex(this.vertices[i][0],this.vertices[i][1],this.vertices[i][2]),!0===this.vertices[i].moveTo?vertArray[vertArray.length-1].moveTo=!0:!1===this.vertices[i].moveTo&&(vertArray[vertArray.length-1].moveTo=!1),t.breakShape=!1):this.vertexCodes[n]===e.BEZIER_VERTEX?(t.bezierVertex(this.vertices[i+0][0],this.vertices[i+0][1],this.vertices[i+0][2],this.vertices[i+1][0],this.vertices[i+1][1],this.vertices[i+1][2],this.vertices[i+2][0],this.vertices[i+2][1],this.vertices[i+2][2]),i+=3):this.vertexCodes[n]===e.CURVE_VERTEX?(t.curveVertex(this.vertices[i][0],this.vertices[i][1],this.vertices[i][2]),i++):this.vertexCodes[n]===e.BREAK&&(t.breakShape=!0)}t.endShape(this.close?e.CLOSE:e.OPEN)}},drawGeometry:function(t){var e,n;if(t.beginShape(this.kind),this.style)for(e=0,n=this.vertices.length;e<n;e++)t.vertex(this.vertices[e]);else for(e=0,n=this.vertices.length;e<n;e++){var r=this.vertices[e];0===r[2]?t.vertex(r[0],r[1]):t.vertex(r[0],r[1],r[2])}t.endShape()},drawGroup:function(t){for(var e=0,n=this.children.length;e<n;e++)this.children[e].draw(t)},drawPrimitive:function(t){if(this.kind===e.POINT)t.point(this.params[0],this.params[1]);else if(this.kind===e.LINE)4===this.params.length?t.line(this.params[0],this.params[1],this.params[2],this.params[3]):t.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===e.TRIANGLE)t.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===e.QUAD)t.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(this.kind===e.RECT)if(null!==this.image){var n=imageModeConvert;t.imageMode(e.CORNER),t.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]),imageModeConvert=n}else{var r=t.curRectMode;t.rectMode(e.CORNER),t.rect(this.params[0],this.params[1],this.params[2],this.params[3]),t.curRectMode=r}else if(this.kind===e.ELLIPSE){var i=t.curEllipseMode;t.ellipseMode(e.CORNER),t.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),t.curEllipseMode=i}else if(this.kind===e.ARC){var s=curEllipseMode;t.ellipseMode(e.CORNER),t.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]),curEllipseMode=s}else this.kind===e.BOX?1===this.params.length?t.box(this.params[0]):t.box(this.params[0],this.params[1],this.params[2]):this.kind===e.SPHERE&&t.sphere(this.params[0])},pre:function(t){this.matrix&&(t.pushMatrix(),t.transform(this.matrix)),this.style&&(t.pushStyle(),this.styles(t))},post:function(t){this.matrix&&t.popMatrix(),this.style&&t.popStyle()},styles:function(t){this.stroke?(t.stroke(this.strokeColor),t.strokeWeight(this.strokeWeight),t.strokeCap(this.strokeCap),t.strokeJoin(this.strokeJoin)):t.noStroke(),this.fill?t.fill(this.fillColor):t.noFill()},getChild:function(t){var e,n,r;if(\"number\"==typeof t)return this.children[t];if(\"\"===t||this.name===t)return this;if(this.nameTable.length>0){for(e=0,n=this.nameTable.length;e<n||r;e++)if(this.nameTable[e].getName===t){r=this.nameTable[e];break}if(r)return r}for(e=0,n=this.children.length;e<n;e++)if(r=this.children[e].getChild(t))return r;return null},getChildCount:function(){return this.children.length},addChild:function(t){this.children.push(t),t.parent=this,null!==t.getName()&&this.addName(t.getName(),t)},addName:function(t,e){null!==this.parent?this.parent.addName(t,e):this.nameTable.push([t,e])},translate:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(t){null===this.matrix?this.matrix=2===t?new n:new r:3===t&&this.matrix instanceof n&&(this.matrix=new r)},rotateX:function(t){this.rotate(t,1,0,0)},rotateY:function(t){this.rotate(t,0,1,0)},rotateZ:function(t){this.rotate(t,0,0,1)},rotate:function(){1===arguments.length?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):3===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2),this.matrix.reset()},applyMatrix:function(t){1===arguments.length?this.applyMatrix(t.elements[0],t.elements[1],0,t.elements[2],t.elements[3],t.elements[4],0,t.elements[5],0,0,1,0,0,0,0,1):6===arguments.length?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):16===arguments.length&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}},i}},{}],16:[function(t,e,n){e.exports=function(t){var e=t.CommonFunctions,n=t.PConstants,r=t.PShape,i=t.XMLElement,s=t.colors,o=function(){if(r.call(this),1===arguments.length){if(this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=n.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=n.SQUARE,this.strokeJoin=n.MITER,this.strokeGradient=null,this.strokeGradientPaint=null,this.strokeName=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=n.ALPHA_MASK,this.fillGradient=null,this.fillGradientPaint=null,this.fillName=null,this.fillOpacity=1,\"svg\"!==this.element.getName())throw\"root is not <svg>, it's <\"+this.element.getName()+\">\"}else 2===arguments.length&&(\"string\"==typeof arguments[1]?arguments[1].indexOf(\".svg\")>-1&&(this.element=new i(!0,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=n.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=n.SQUARE,this.strokeJoin=n.MITER,this.strokeGradient=\"\",this.strokeGradientPaint=\"\",this.strokeName=\"\",this.strokeOpacity=1,this.fill=!0,this.fillColor=n.ALPHA_MASK,this.fillGradient=null,this.fillGradientPaint=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity));this.name=this.element.getStringAttribute(\"id\");var t=this.element.getStringAttribute(\"display\",\"inline\");this.visible=\"none\"!==t;var e=this.element.getAttribute(\"transform\");e&&(this.matrix=this.parseMatrix(e));var s=this.element.getStringAttribute(\"viewBox\");if(null!==s){var o=s.split(\" \");this.width=o[2],this.height=o[3]}var a=this.element.getStringAttribute(\"width\"),l=this.element.getStringAttribute(\"height\");if(null!==a)this.width=this.parseUnitSize(a),this.height=this.parseUnitSize(l);else if(0===this.width||0===this.height)throw this.width=1,this.height=1,\"The width and/or height is not readable in the <svg> tag of this file.\";this.parseColors(this.element),this.parseChildren(this.element)};return(o.prototype=new r).parseMatrix=function(){function t(t){var e=[];return t.replace(/\\((.*?)\\)/,function(t,n){e=n.replace(/,+/g,\" \").split(/\\s+/)}),e}return function(n){this.checkMatrix(2);var r=[];if(n.replace(/\\s*(\\w+)\\((.*?)\\)/g,function(t){r.push(e.trim(t))}),0===r.length)return null;for(var i=0,s=r.length;i<s;i++){var o=t(r[i]);if(-1!==r[i].indexOf(\"matrix\"))this.matrix.set(o[0],o[2],o[4],o[1],o[3],o[5]);else if(-1!==r[i].indexOf(\"translate\")){var a=o[0],l=2===o.length?o[1]:0;this.matrix.translate(a,l)}else if(-1!==r[i].indexOf(\"scale\")){var h=o[0],u=2===o.length?o[1]:o[0];this.matrix.scale(h,u)}else if(-1!==r[i].indexOf(\"rotate\")){var c=o[0];1===o.length?this.matrix.rotate(e.radians(c)):3===o.length&&(this.matrix.translate(o[1],o[2]),this.matrix.rotate(e.radians(o[0])),this.matrix.translate(-o[1],-o[2]))}else-1!==r[i].indexOf(\"skewX\")?this.matrix.skewX(parseFloat(o[0])):-1!==r[i].indexOf(\"skewY\")?this.matrix.skewY(o[0]):-1!==r[i].indexOf(\"shearX\")?this.matrix.shearX(o[0]):-1!==r[i].indexOf(\"shearY\")&&this.matrix.shearY(o[0])}return this.matrix}}(),o.prototype.parseChildren=function(t){var e,n,i=t.getChildren(),s=new r;for(e=0,n=i.length;e<n;e++){var o=this.parseChild(i[e]);o&&s.addChild(o)}for(e=0,n=s.children.length;e<n;e++)this.children.push(s.children[e])},o.prototype.getName=function(){return this.name},o.prototype.parseChild=function(t){var e,n=t.getName();return\"g\"===n?e=new o(this,t):\"defs\"===n?e=new o(this,t):\"line\"===n?(e=new o(this,t)).parseLine():\"circle\"===n?(e=new o(this,t)).parseEllipse(!0):\"ellipse\"===n?(e=new o(this,t)).parseEllipse(!1):\"rect\"===n?(e=new o(this,t)).parseRect():\"polygon\"===n?(e=new o(this,t)).parsePoly(!0):\"polyline\"===n?(e=new o(this,t)).parsePoly(!1):\"path\"===n?(e=new o(this,t)).parsePath():\"radialGradient\"===n?unimplemented(\"PShapeSVG.prototype.parseChild, name = radialGradient\"):\"linearGradient\"===n?unimplemented(\"PShapeSVG.prototype.parseChild, name = linearGradient\"):\"text\"===n?unimplemented(\"PShapeSVG.prototype.parseChild, name = text\"):\"filter\"===n?unimplemented(\"PShapeSVG.prototype.parseChild, name = filter\"):\"mask\"===n&&unimplemented(\"PShapeSVG.prototype.parseChild, name = mask\"),e},o.prototype.parsePath=function(){this.family=n.PATH,this.kind=0;var t=e.trim(this.element.getStringAttribute(\"d\").replace(/[\\s,]+/g,\" \"));if(null!==t){t=t.split(\"\");for(var r,i,s,o,a=0,l=0,h=0,u=0,c=0,f=0,p=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,x=0,A=0,E=\"\",S=[],M=!1;x<t.length;)if((A=t[x].charCodeAt(0))>=65&&A<=90||A>=97&&A<=122){if(s=x,++x<t.length)for(S=[],A=t[x].charCodeAt(0);!(A>=65&&A<=90||A>=97&&A<=100||A>=102&&A<=122)&&!1===M;)32===A?(\"\"!==E&&(S.push(parseFloat(E)),E=\"\"),x++):45===A?101===t[x-1].charCodeAt(0)?(E+=t[x].toString(),x++):(\"\"!==E&&S.push(parseFloat(E)),E=t[x].toString(),x++):(E+=t[x].toString(),x++),x===t.length?M=!0:A=t[x].charCodeAt(0);if(\"\"!==E&&(S.push(parseFloat(E)),E=\"\"),77===(A=(i=t[s]).charCodeAt(0))){if(S.length>=2&&S.length%2==0&&(a=S[0],l=S[1],this.parsePathMoveto(a,l),S.length>2))for(s=2,o=S.length;s<o;s+=2)a=S[s],l=S[s+1],this.parsePathLineto(a,l)}else if(109===A){if(S.length>=2&&S.length%2==0&&(a+=S[0],l+=S[1],this.parsePathMoveto(a,l),S.length>2))for(s=2,o=S.length;s<o;s+=2)a+=S[s],l+=S[s+1],this.parsePathLineto(a,l)}else if(76===A){if(S.length>=2&&S.length%2==0)for(s=0,o=S.length;s<o;s+=2)a=S[s],l=S[s+1],this.parsePathLineto(a,l)}else if(108===A){if(S.length>=2&&S.length%2==0)for(s=0,o=S.length;s<o;s+=2)a+=S[s],l+=S[s+1],this.parsePathLineto(a,l)}else if(72===A)for(s=0,o=S.length;s<o;s++)a=S[s],this.parsePathLineto(a,l);else if(104===A)for(s=0,o=S.length;s<o;s++)a+=S[s],this.parsePathLineto(a,l);else if(86===A)for(s=0,o=S.length;s<o;s++)l=S[s],this.parsePathLineto(a,l);else if(118===A)for(s=0,o=S.length;s<o;s++)l+=S[s],this.parsePathLineto(a,l);else if(67===A){if(S.length>=6&&S.length%6==0)for(s=0,o=S.length;s<o;s+=6)c=S[s],p=S[s+1],f=S[s+2],d=S[s+3],m=S[s+4],g=S[s+5],this.parsePathCurveto(c,p,f,d,m,g),a=m,l=g}else if(99===A){if(S.length>=6&&S.length%6==0)for(s=0,o=S.length;s<o;s+=6)c=a+S[s],p=l+S[s+1],f=a+S[s+2],d=l+S[s+3],m=a+S[s+4],g=l+S[s+5],this.parsePathCurveto(c,p,f,d,m,g),a=m,l=g}else if(83===A){if(S.length>=4&&S.length%4==0)for(s=0,o=S.length;s<o;s+=4)\"c\"===r.toLowerCase()||\"s\"===r.toLowerCase()?(v=this.vertices[this.vertices.length-2][0],y=this.vertices[this.vertices.length-2][1],c=(b=this.vertices[this.vertices.length-1][0])+(b-v),p=(w=this.vertices[this.vertices.length-1][1])+(w-y)):(c=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1]),f=S[s],d=S[s+1],m=S[s+2],g=S[s+3],this.parsePathCurveto(c,p,f,d,m,g),a=m,l=g}else if(115===A){if(S.length>=4&&S.length%4==0)for(s=0,o=S.length;s<o;s+=4)\"c\"===r.toLowerCase()||\"s\"===r.toLowerCase()?(v=this.vertices[this.vertices.length-2][0],y=this.vertices[this.vertices.length-2][1],c=(b=this.vertices[this.vertices.length-1][0])+(b-v),p=(w=this.vertices[this.vertices.length-1][1])+(w-y)):(c=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1]),f=a+S[s],d=l+S[s+1],m=a+S[s+2],g=l+S[s+3],this.parsePathCurveto(c,p,f,d,m,g),a=m,l=g}else if(81===A){if(S.length>=4&&S.length%4==0)for(s=0,o=S.length;s<o;s+=4)h=S[s],u=S[s+1],m=S[s+2],g=S[s+3],this.parsePathQuadto(a,l,h,u,m,g),a=m,l=g}else if(113===A){if(S.length>=4&&S.length%4==0)for(s=0,o=S.length;s<o;s+=4)h=a+S[s],u=l+S[s+1],m=a+S[s+2],g=l+S[s+3],this.parsePathQuadto(a,l,h,u,m,g),a=m,l=g}else if(84===A){if(S.length>=2&&S.length%2==0)for(s=0,o=S.length;s<o;s+=2)\"q\"===r.toLowerCase()||\"t\"===r.toLowerCase()?(v=this.vertices[this.vertices.length-2][0],y=this.vertices[this.vertices.length-2][1],h=(b=this.vertices[this.vertices.length-1][0])+(b-v),u=(w=this.vertices[this.vertices.length-1][1])+(w-y)):(h=a,u=l),m=S[s],g=S[s+1],this.parsePathQuadto(a,l,h,u,m,g),a=m,l=g}else if(116===A){if(S.length>=2&&S.length%2==0)for(s=0,o=S.length;s<o;s+=2)\"q\"===r.toLowerCase()||\"t\"===r.toLowerCase()?(v=this.vertices[this.vertices.length-2][0],y=this.vertices[this.vertices.length-2][1],h=(b=this.vertices[this.vertices.length-1][0])+(b-v),u=(w=this.vertices[this.vertices.length-1][1])+(w-y)):(h=a,u=l),m=a+S[s],g=l+S[s+1],this.parsePathQuadto(a,l,h,u,m,g),a=m,l=g}else 90!==A&&122!==A||(this.close=!0);r=i.toString()}else x++}},o.prototype.parsePathQuadto=function(t,e,r,i,s,o){if(!(this.vertices.length>0))throw\"Path must start with M/m\";this.parsePathCode(n.BEZIER_VERTEX),this.parsePathVertex(t+2*(r-t)/3,e+2*(i-e)/3),this.parsePathVertex(s+2*(r-s)/3,o+2*(i-o)/3),this.parsePathVertex(s,o)},o.prototype.parsePathCurveto=function(t,e,r,i,s,o){if(!(this.vertices.length>0))throw\"Path must start with M/m\";this.parsePathCode(n.BEZIER_VERTEX),this.parsePathVertex(t,e),this.parsePathVertex(r,i),this.parsePathVertex(s,o)},o.prototype.parsePathLineto=function(t,e){if(!(this.vertices.length>0))throw\"Path must start with M/m\";this.parsePathCode(n.VERTEX),this.parsePathVertex(t,e),this.vertices[this.vertices.length-1].moveTo=!1},o.prototype.parsePathMoveto=function(t,e){this.vertices.length>0&&this.parsePathCode(n.BREAK),this.parsePathCode(n.VERTEX),this.parsePathVertex(t,e),this.vertices[this.vertices.length-1].moveTo=!0},o.prototype.parsePathVertex=function(t,e){var n=[];n[0]=t,n[1]=e,this.vertices.push(n)},o.prototype.parsePathCode=function(t){this.vertexCodes.push(t)},o.prototype.parsePoly=function(t){this.family=n.PATH,this.close=t;var r=e.trim(this.element.getStringAttribute(\"points\").replace(/[,\\s]+/g,\" \"));if(null!==r){var i=r.split(\" \");if(i.length%2!=0)throw\"Error parsing polygon points: odd number of coordinates provided\";for(var s=0,o=i.length;s<o;s++){var a=[];a[0]=i[s],a[1]=i[++s],this.vertices.push(a)}}},o.prototype.parseRect=function(){if(this.kind=n.RECT,this.family=n.PRIMITIVE,this.params=[],this.params[0]=this.element.getFloatAttribute(\"x\"),this.params[1]=this.element.getFloatAttribute(\"y\"),this.params[2]=this.element.getFloatAttribute(\"width\"),this.params[3]=this.element.getFloatAttribute(\"height\"),this.params[2]<0||this.params[3]<0)throw\"svg error: negative width or height found while parsing <rect>\"},o.prototype.parseEllipse=function(t){var e,r;if(this.kind=n.ELLIPSE,this.family=n.PRIMITIVE,this.params=[],this.params[0]=0|this.element.getFloatAttribute(\"cx\"),this.params[1]=0|this.element.getFloatAttribute(\"cy\"),t){if((e=r=this.element.getFloatAttribute(\"r\"))<0)throw\"svg error: negative radius found while parsing <circle>\"}else if(e=this.element.getFloatAttribute(\"rx\"),r=this.element.getFloatAttribute(\"ry\"),e<0||r<0)throw\"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>\";this.params[0]-=e,this.params[1]-=r,this.params[2]=2*e,this.params[3]=2*r},o.prototype.parseLine=function(){this.kind=n.LINE,this.family=n.PRIMITIVE,this.params=[],this.params[0]=this.element.getFloatAttribute(\"x1\"),this.params[1]=this.element.getFloatAttribute(\"y1\"),this.params[2]=this.element.getFloatAttribute(\"x2\"),this.params[3]=this.element.getFloatAttribute(\"y2\")},o.prototype.parseColors=function(t){if(t.hasAttribute(\"opacity\")&&this.setOpacity(t.getAttribute(\"opacity\")),t.hasAttribute(\"stroke\")&&this.setStroke(t.getAttribute(\"stroke\")),t.hasAttribute(\"stroke-width\")&&this.setStrokeWeight(t.getAttribute(\"stroke-width\")),t.hasAttribute(\"stroke-linejoin\")&&this.setStrokeJoin(t.getAttribute(\"stroke-linejoin\")),t.hasAttribute(\"stroke-linecap\")&&this.setStrokeCap(t.getStringAttribute(\"stroke-linecap\")),t.hasAttribute(\"fill\")&&this.setFill(t.getStringAttribute(\"fill\")),t.hasAttribute(\"style\"))for(var n=t.getStringAttribute(\"style\").toString().split(\";\"),r=0,i=n.length;r<i;r++){var s=e.trim(n[r].split(\":\"));\"fill\"===s[0]?this.setFill(s[1]):\"fill-opacity\"===s[0]?this.setFillOpacity(s[1]):\"stroke\"===s[0]?this.setStroke(s[1]):\"stroke-width\"===s[0]?this.setStrokeWeight(s[1]):\"stroke-linecap\"===s[0]?this.setStrokeCap(s[1]):\"stroke-linejoin\"===s[0]?this.setStrokeJoin(s[1]):\"stroke-opacity\"===s[0]?this.setStrokeOpacity(s[1]):\"opacity\"===s[0]&&this.setOpacity(s[1])}},o.prototype.setFillOpacity=function(t){this.fillOpacity=parseFloat(t),this.fillColor=255*this.fillOpacity<<24|16777215&this.fillColor},o.prototype.setFill=function(t){var e=4278190080&this.fillColor;\"none\"===t?this.fill=!1:0===t.indexOf(\"#\")?(this.fill=!0,4===t.length&&(t=t.replace(/#(.)(.)(.)/,\"#$1$1$2$2$3$3\")),this.fillColor=e|16777215&parseInt(t.substring(1),16)):0===t.indexOf(\"rgb\")?(this.fill=!0,this.fillColor=e|this.parseRGB(t)):0===t.indexOf(\"url(#\")?this.fillName=t.substring(5,t.length-1):s[t]&&(this.fill=!0,this.fillColor=e|16777215&parseInt(s[t].substring(1),16))},o.prototype.setOpacity=function(t){this.strokeColor=255*parseFloat(t)<<24|16777215&this.strokeColor,this.fillColor=255*parseFloat(t)<<24|16777215&this.fillColor},o.prototype.setStroke=function(t){var e=4278190080&this.strokeColor;\"none\"===t?this.stroke=!1:\"#\"===t.charAt(0)?(this.stroke=!0,4===t.length&&(t=t.replace(/#(.)(.)(.)/,\"#$1$1$2$2$3$3\")),this.strokeColor=e|16777215&parseInt(t.substring(1),16)):0===t.indexOf(\"rgb\")?(this.stroke=!0,this.strokeColor=e|this.parseRGB(t)):0===t.indexOf(\"url(#\")?this.strokeName=t.substring(5,t.length-1):s[t]&&(this.stroke=!0,this.strokeColor=e|16777215&parseInt(s[t].substring(1),16))},o.prototype.setStrokeWeight=function(t){this.strokeWeight=this.parseUnitSize(t)},o.prototype.setStrokeJoin=function(t){\"miter\"===t?this.strokeJoin=n.MITER:\"round\"===t?this.strokeJoin=n.ROUND:\"bevel\"===t&&(this.strokeJoin=n.BEVEL)},o.prototype.setStrokeCap=function(t){\"butt\"===t?this.strokeCap=n.SQUARE:\"round\"===t?this.strokeCap=n.ROUND:\"square\"===t&&(this.strokeCap=n.PROJECT)},o.prototype.setStrokeOpacity=function(t){this.strokeOpacity=parseFloat(t),this.strokeColor=255*this.strokeOpacity<<24|16777215&this.strokeColor},o.prototype.parseRGB=function(t){var e=t.substring(t.indexOf(\"(\")+1,t.indexOf(\")\")).split(\", \");return e[0]<<16|e[1]<<8|e[2]},o.prototype.parseUnitSize=function(t){var e=t.length-2;return e<0?t:t.indexOf(\"pt\")===e?1.25*parseFloat(t.substring(0,e)):t.indexOf(\"pc\")===e?15*parseFloat(t.substring(0,e)):t.indexOf(\"mm\")===e?3.543307*parseFloat(t.substring(0,e)):t.indexOf(\"cm\")===e?35.43307*parseFloat(t.substring(0,e)):t.indexOf(\"in\")===e?90*parseFloat(t.substring(0,e)):t.indexOf(\"px\")===e?parseFloat(t.substring(0,e)):parseFloat(t)},o}},{}],17:[function(t,e,n){e.exports=function(t,e){var n=t.PConstants;function r(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function i(t){return function(e,n){var r=e.get();return r[t](n),r}}for(var s in r.fromAngle=function(t,n){return n!==e&&null!==n||(n=new r),n.x=Math.cos(t),n.y=Math.sin(t),n},r.random2D=function(t){return r.fromAngle(Math.random()*n.TWO_PI,t)},r.random3D=function(t){var i=Math.random()*n.TWO_PI,s=2*Math.random()-1,o=Math.sqrt(1-s*s),a=o*Math.cos(i),l=o*Math.sin(i);return t===e||null===t?t=new r(a,l,s):t.set(a,l,s),t},r.dist=function(t,e){return t.dist(e)},r.dot=function(t,e){return t.dot(e)},r.cross=function(t,e){return t.cross(e)},r.sub=function(t,e){return new r(t.x-e.x,t.y-e.y,t.z-e.z)},r.angleBetween=function(t,e){return Math.acos(t.dot(e)/(t.mag()*e.mag()))},r.lerp=function(t,e,n){var i=new r(t.x,t.y,t.z);return i.lerp(e,n),i},r.prototype={set:function(t,e,n){1===arguments.length?this.set(t.x||t[0]||0,t.y||t[1]||0,t.z||t[2]||0):(this.x=t,this.y=e,this.z=n)},get:function(){return new r(this.x,this.y,this.z)},mag:function(){var t=this.x,e=this.y,n=this.z;return Math.sqrt(t*t+e*e+n*n)},magSq:function(){var t=this.x,e=this.y,n=this.z;return t*t+e*e+n*n},setMag:function(t,n){if(n!==e){var r=t;return r.normalize(),r.mult(n),r}n=t,this.normalize(),this.mult(n)},add:function(t,e,n){1===arguments.length?(this.x+=t.x,this.y+=t.y,this.z+=t.z):(this.x+=t,this.y+=e,this.z+=n)},sub:function(t,e,n){1===arguments.length?(this.x-=t.x,this.y-=t.y,this.z-=t.z):(this.x-=t,this.y-=e,this.z-=n)},mult:function(t){\"number\"==typeof t?(this.x*=t,this.y*=t,this.z*=t):(this.x*=t.x,this.y*=t.y,this.z*=t.z)},div:function(t){\"number\"==typeof t?(this.x/=t,this.y/=t,this.z/=t):(this.x/=t.x,this.y/=t.y,this.z/=t.z)},rotate:function(t){var e=this.x,n=Math.cos(t),r=Math.sin(t);this.x=n*this.x-r*this.y,this.y=r*e+n*this.y},dist:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},dot:function(t,e,n){return 1===arguments.length?this.x*t.x+this.y*t.y+this.z*t.z:this.x*t+this.y*e+this.z*n},cross:function(t){var e=this.x,n=this.y,i=this.z;return new r(n*t.z-t.y*i,i*t.x-t.z*e,e*t.y-t.x*n)},lerp:function(t,e,n,r){var i,s,o=function(t,e,n){return t+(e-t)*n};2===arguments.length?(r=e,i=t.x,s=t.y,n=t.z):(i=t,s=e),this.x=o(this.x,i,r),this.y=o(this.y,s,r),this.z=o(this.z,n,r)},normalize:function(){var t=this.mag();t>0&&this.div(t)},limit:function(t){this.mag()>t&&(this.normalize(),this.mult(t))},heading:function(){return-Math.atan2(-this.y,this.x)},heading2D:function(){return this.heading()},toString:function(){return\"[\"+this.x+\", \"+this.y+\", \"+this.z+\"]\"},array:function(){return[this.x,this.y,this.z]}},r.prototype)r.prototype.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=i(s));return r}},{}],18:[function(t,e,n){e.exports=function(){var t=function(t,e,n,r,i){this.fullName=t||\"\",this.name=e||\"\",this.namespace=n||\"\",this.value=r,this.type=i};return t.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(t){this.value=t}},t}},{}],19:[function(t,e,n){e.exports=function(t,e){var n=t.Browser,r=n.ajax,i=n.window,s=(i.XMLHttpRequest,i.DOMParser),o=t.XMLAttribute,a=function(t,n,r,i){this.attributes=[],this.children=[],this.fullName=null,this.name=null,this.namespace=\"\",this.content=null,this.parent=null,this.lineNr=\"\",this.systemID=\"\",this.type=\"ELEMENT\",t&&(\"string\"==typeof t?n===e&&t.indexOf(\"<\")>-1?this.parse(t):(this.fullName=t,this.namespace=n,this.systemId=r,this.lineNr=i):this.parse(n))};return a.prototype={parse:function(t){try{var e=t.substring(t.length-4);\".xml\"!==e&&\".svg\"!==e||(t=r(t));var n=(new s).parseFromString(t,\"text/xml\").documentElement;if(!n)throw\"Error loading document\";return this.parseChildrenRecursive(null,n),this}catch(t){throw t}},parseChildrenRecursive:function(t,e){var n,r,i,s,l,h;if(t?(n=new a(e.nodeName)).parent=t:(this.fullName=e.localName,this.name=e.nodeName,n=this),3===e.nodeType&&\"\"!==e.textContent)return this.createPCDataElement(e.textContent);if(4===e.nodeType)return this.createCDataElement(e.textContent);if(e.attributes)for(s=0,l=e.attributes.length;s<l;s++)i=e.attributes[s],r=new o(i.getname,i.nodeName,i.namespaceURI,i.nodeValue,i.nodeType),n.attributes.push(r);if(e.childNodes)for(s=0,l=e.childNodes.length;s<l;s++){var u=e.childNodes[s];null!==(h=n.parseChildrenRecursive(n,u))&&n.children.push(h)}return n},createElement:function(t,n,r,i){return r===e?new a(t,n):new a(t,n,r,i)},createPCDataElement:function(t,e){if(\"\"===t.replace(/^\\s+$/g,\"\"))return null;var n=new a;return n.type=\"TEXT\",n.content=t,n},createCDataElement:function(t){var e=this.createPCDataElement(t);if(null===e)return null;e.type=\"CDATA\";var n,r={\"<\":\"&lt;\",\">\":\"&gt;\",\"'\":\"&apos;\",'\"':\"&quot;\"};for(n in r)Object.hasOwnProperty(r,n)||(t=t.replace(new RegExp(n,\"g\"),r[n]));return e.cdata=t,e},hasAttribute:function(){return 1===arguments.length?null!==this.getAttribute(arguments[0]):2===arguments.length?null!==this.getAttribute(arguments[0],arguments[1]):void 0},equals:function(t){if(!(t instanceof a))return!1;var e,n,r,i,s;if(this.fullName!==t.fullName)return!1;if(this.attributes.length!==t.getAttributeCount())return!1;if(this.attributes.length!==t.attributes.length)return!1;for(e=0,n=this.attributes.length;e<n;e++){if(r=this.attributes[e].getName(),i=this.attributes[e].getNamespace(),null===(s=t.findAttribute(r,i)))return!1;if(this.attributes[e].getValue()!==s.getValue())return!1;if(this.attributes[e].getType()!==s.getType())return!1}if(this.children.length!==t.getChildCount())return!1;if(this.children.length>0){var o,l;for(e=0,n=this.children.length;e<n;e++)if(o=this.getChild(e),l=t.getChild(e),!o.equals(l))return!1;return!0}return this.content===t.content},getContent:function(){if(\"TEXT\"===this.type||\"CDATA\"===this.type)return this.content;var t=this.children;return 1!==t.length||\"TEXT\"!==t[0].type&&\"CDATA\"!==t[0].type?null:t[0].content},getAttribute:function(){var t;return 2===arguments.length?(t=this.findAttribute(arguments[0]))?t.getValue():arguments[1]:1===arguments.length?(t=this.findAttribute(arguments[0]))?t.getValue():null:3===arguments.length?(t=this.findAttribute(arguments[0],arguments[1]))?t.getValue():arguments[2]:void 0},getStringAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0]):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(t){return this.getStringAttribute(t)},getFloatAttribute:function(){return 1===arguments.length?parseFloat(this.getAttribute(arguments[0],0)):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(t){return this.getFloatAttribute(t)},getIntAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0],0):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(t){return this.getIntAttribute(t)},hasChildren:function(){return this.children.length>0},addChild:function(t){null!==t&&(t.parent=this,this.children.push(t))},insertChild:function(t,e){if(t){if(null===t.getLocalName()&&!this.hasChildren()){var n=this.children[this.children.length-1];if(null===n.getLocalName())return void n.setContent(n.getContent()+t.getContent())}t.parent=this,this.children.splice(e,0,t)}},getChild:function(t){if(\"number\"==typeof t)return this.children[t];if(-1!==t.indexOf(\"/\"))return this.getChildRecursive(t.split(\"/\"),0);for(var e,n,r=0,i=this.getChildCount();r<i;r++)if(null!==(n=(e=this.getChild(r)).getName())&&n===t)return e;return null},getChildren:function(){if(1===arguments.length){if(\"number\"==typeof arguments[0])return this.getChild(arguments[0]);if(-1!==arguments[0].indexOf(\"/\"))return this.getChildrenRecursive(arguments[0].split(\"/\"),0);for(var t,e,n=[],r=0,i=this.getChildCount();r<i;r++)null!==(e=(t=this.getChild(r)).getName())&&e===arguments[0]&&n.push(t);return n}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(t,e){if(e===t.length)return this;for(var n,r,i=t[e],s=0,o=this.getChildCount();s<o;s++)if(null!==(r=(n=this.getChild(s)).getName())&&r===i)return n.getChildRecursive(t,e+1);return null},getChildrenRecursive:function(t,e){if(e===t.length-1)return this.getChildren(t[e]);for(var n=this.getChildren(t[e]),r=[],i=0;i<n.length;i++)r=r.concat(n[i].getChildrenRecursive(t,e+1));return r},isLeaf:function(){return!this.hasChildren()},listChildren:function(){for(var t=[],e=0,n=this.children.length;e<n;e++)t.push(this.getChild(e).getName());return t},removeAttribute:function(t,e){this.namespace=e||\"\";for(var n=0,r=this.attributes.length;n<r;n++)if(this.attributes[n].getName()===t&&this.attributes[n].getNamespace()===this.namespace){this.attributes.splice(n,1);break}},removeChild:function(t){if(t)for(var e=0,n=this.children.length;e<n;e++)if(this.children[e].equals(t)){this.children.splice(e,1);break}},removeChildAtIndex:function(t){this.children.length>t&&this.children.splice(t,1)},findAttribute:function(t,e){this.namespace=e||\"\";for(var n=0,r=this.attributes.length;n<r;n++)if(this.attributes[n].getName()===t&&this.attributes[n].getNamespace()===this.namespace)return this.attributes[n];return null},setAttribute:function(){var t;if(3===arguments.length){var e=arguments[0].indexOf(\":\"),n=arguments[0].substring(e+1);(t=this.findAttribute(n,arguments[1]))?t.setValue(arguments[2]):(t=new o(arguments[0],n,arguments[1],arguments[2],\"CDATA\"),this.attributes.push(t))}else(t=this.findAttribute(arguments[0]))?t.setValue(arguments[1]):(t=new o(arguments[0],arguments[0],null,arguments[1],\"CDATA\"),this.attributes.push(t))},setString:function(t,e){this.setAttribute(t,e)},setInt:function(t,e){this.setAttribute(t,e)},setFloat:function(t,e){this.setAttribute(t,e)},setContent:function(t){this.children.length>0&&Processing.debug(\"Tried to set content for XMLElement with children\"),this.content=t},setName:function(){if(1===arguments.length)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var t=arguments[0].indexOf(\":\");null===arguments[1]||t<0?this.name=arguments[0]:this.name=arguments[0].substring(t+1),this.fullName=arguments[0],this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if(\"TEXT\"===this.type)return this.content;if(\"CDATA\"===this.type)return this.cdata;var t,e,n=this.fullName,r=\"<\"+n;for(t=0;t<this.attributes.length;t++){var i=this.attributes[t];r+=\" \"+i.getName()+'=\"'+i.getValue()+'\"'}if(0===this.children.length)\"\"===this.content?r+=\"/>\":r+=\">\"+this.content+\"</\"+n+\">\";else{for(r+=\">\",e=0;e<this.children.length;e++)r+=this.children[e].toString();r+=\"</\"+n+\">\"}return r}},a.parse=function(t){var e=new a;return e.parse(t),e},a}},{}],20:[function(t,e,n){e.exports={aliceblue:\"#f0f8ff\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",aquamarine:\"#7fffd4\",azure:\"#f0ffff\",beige:\"#f5f5dc\",bisque:\"#ffe4c4\",black:\"#000000\",blanchedalmond:\"#ffebcd\",blue:\"#0000ff\",blueviolet:\"#8a2be2\",brown:\"#a52a2a\",burlywood:\"#deb887\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",cornflowerblue:\"#6495ed\",cornsilk:\"#fff8dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkgray:\"#a9a9a9\",darkgreen:\"#006400\",darkkhaki:\"#bdb76b\",darkmagenta:\"#8b008b\",darkolivegreen:\"#556b2f\",darkorange:\"#ff8c00\",darkorchid:\"#9932cc\",darkred:\"#8b0000\",darksalmon:\"#e9967a\",darkseagreen:\"#8fbc8f\",darkslateblue:\"#483d8b\",darkslategray:\"#2f4f4f\",darkturquoise:\"#00ced1\",darkviolet:\"#9400d3\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",dimgray:\"#696969\",dodgerblue:\"#1e90ff\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",forestgreen:\"#228b22\",fuchsia:\"#ff00ff\",gainsboro:\"#dcdcdc\",ghostwhite:\"#f8f8ff\",gold:\"#ffd700\",goldenrod:\"#daa520\",gray:\"#808080\",green:\"#008000\",greenyellow:\"#adff2f\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",indianred:\"#cd5c5c\",indigo:\"#4b0082\",ivory:\"#fffff0\",khaki:\"#f0e68c\",lavender:\"#e6e6fa\",lavenderblush:\"#fff0f5\",lawngreen:\"#7cfc00\",lemonchiffon:\"#fffacd\",lightblue:\"#add8e6\",lightcoral:\"#f08080\",lightcyan:\"#e0ffff\",lightgoldenrodyellow:\"#fafad2\",lightgrey:\"#d3d3d3\",lightgreen:\"#90ee90\",lightpink:\"#ffb6c1\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",lightskyblue:\"#87cefa\",lightslategray:\"#778899\",lightsteelblue:\"#b0c4de\",lightyellow:\"#ffffe0\",lime:\"#00ff00\",limegreen:\"#32cd32\",linen:\"#faf0e6\",magenta:\"#ff00ff\",maroon:\"#800000\",mediumaquamarine:\"#66cdaa\",mediumblue:\"#0000cd\",mediumorchid:\"#ba55d3\",mediumpurple:\"#9370d8\",mediumseagreen:\"#3cb371\",mediumslateblue:\"#7b68ee\",mediumspringgreen:\"#00fa9a\",mediumturquoise:\"#48d1cc\",mediumvioletred:\"#c71585\",midnightblue:\"#191970\",mintcream:\"#f5fffa\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",navajowhite:\"#ffdead\",navy:\"#000080\",oldlace:\"#fdf5e6\",olive:\"#808000\",olivedrab:\"#6b8e23\",orange:\"#ffa500\",orangered:\"#ff4500\",orchid:\"#da70d6\",palegoldenrod:\"#eee8aa\",palegreen:\"#98fb98\",paleturquoise:\"#afeeee\",palevioletred:\"#d87093\",papayawhip:\"#ffefd5\",peachpuff:\"#ffdab9\",peru:\"#cd853f\",pink:\"#ffc0cb\",plum:\"#dda0dd\",powderblue:\"#b0e0e6\",purple:\"#800080\",red:\"#ff0000\",rosybrown:\"#bc8f8f\",royalblue:\"#4169e1\",saddlebrown:\"#8b4513\",salmon:\"#fa8072\",sandybrown:\"#f4a460\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",sienna:\"#a0522d\",silver:\"#c0c0c0\",skyblue:\"#87ceeb\",slateblue:\"#6a5acd\",slategray:\"#708090\",snow:\"#fffafa\",springgreen:\"#00ff7f\",steelblue:\"#4682b4\",tan:\"#d2b48c\",teal:\"#008080\",thistle:\"#d8bfd8\",tomato:\"#ff6347\",turquoise:\"#40e0d0\",violet:\"#ee82ee\",wheat:\"#f5deb3\",white:\"#ffffff\",whitesmoke:\"#f5f5f5\",yellow:\"#ffff00\",yellowgreen:\"#9acd32\"}},{}],21:[function(t,e,n){e.exports=function(t,e,n){return function(r,i){r.__contains=function(t,e){return\"string\"!=typeof t?t.contains.apply(t,i(arguments)):null!==t&&null!==e&&\"string\"==typeof e&&t.indexOf(e)>-1},r.__replaceAll=function(t,e,n){return\"string\"!=typeof t?t.replaceAll.apply(t,i(arguments)):t.replace(new RegExp(e,\"g\"),n)},r.__replaceFirst=function(t,e,n){return\"string\"!=typeof t?t.replaceFirst.apply(t,i(arguments)):t.replace(new RegExp(e,\"\"),n)},r.__replace=function(t,e,n){if(\"string\"!=typeof t)return t.replace.apply(t,i(arguments));if(e instanceof RegExp)return t.replace(e,n);if(\"string\"!=typeof e&&(e=e.toString()),\"\"===e)return t;var r=t.indexOf(e);if(r<0)return t;var s=0,o=\"\";do{o+=t.substring(s,r)+n,s=r+e.length}while((r=t.indexOf(e,s))>=0);return o+t.substring(s)},r.__equals=function(t,n){return t.equals instanceof Function?t.equals.apply(t,i(arguments)):e(t,n)},r.__equalsIgnoreCase=function(t,e){return\"string\"!=typeof t?t.equalsIgnoreCase.apply(t,i(arguments)):t.toLowerCase()===e.toLowerCase()},r.__toCharArray=function(t){if(\"string\"!=typeof t)return t.toCharArray.apply(t,i(arguments));for(var e=[],n=0,r=t.length;n<r;++n)e[n]=new Char(t.charAt(n));return e},r.__split=function(t,e,r){if(\"string\"!=typeof t)return t.split.apply(t,i(arguments));var s=new RegExp(e);if(r===n||r<1)return t.split(s);for(var o,a=[],l=t;-1!==(o=l.search(s))&&a.length<r-1;){var h=s.exec(l).toString();a.push(l.substring(0,o)),l=l.substring(o+h.length)}return-1===o&&\"\"===l||a.push(l),a},r.__codePointAt=function(t,e){var n=t.charCodeAt(e);return 55296<=n&&n<=56319?1024*(n-55296)+(t.charCodeAt(e+1)-56320)+65536:n},r.__matches=function(t,e){return new RegExp(e).test(t)},r.__startsWith=function(t,e,n){return\"string\"!=typeof t?t.startsWith.apply(t,i(arguments)):!((n=n||0)<0||n>t.length)&&(\"\"===e||e===t||t.indexOf(e)===n)},r.__endsWith=function(t,e){if(\"string\"!=typeof t)return t.endsWith.apply(t,i(arguments));var n=e?e.length:0;return\"\"===e||e===t||t.indexOf(e)===t.length-n},r.__hashCode=function(e){return e.hashCode instanceof Function?e.hashCode.apply(e,i(arguments)):t(e)},r.__printStackTrace=function(t){r.println(\"Exception: \"+t.toString())}}}},{}],22:[function(t,e,n){e.exports=function(t,e){var n=function(){return Math.random()};function r(t,e){var n=t||362436069,r=e||521288629,i=function(){return 4294967295&((65535&(n=36969*(65535&n)+(n>>>16)&4294967295))<<16|65535&(r=18e3*(65535&r)+(r>>>16)&4294967295))};this.doubleGenerator=function(){var t=i()/4294967296;return t<0?1+t:t},this.intGenerator=i}t.abs=Math.abs,t.ceil=Math.ceil,t.exp=Math.exp,t.floor=Math.floor,t.log=Math.log,t.pow=Math.pow,t.round=Math.round,t.sqrt=Math.sqrt,t.acos=Math.acos,t.asin=Math.asin,t.atan=Math.atan,t.atan2=Math.atan2,t.cos=Math.cos,t.sin=Math.sin,t.tan=Math.tan,t.constrain=function(t,e,n){return t>n?n:t<e?e:t},t.dist=function(){var t,e,n;return 4===arguments.length?(t=arguments[0]-arguments[2],e=arguments[1]-arguments[3],Math.sqrt(t*t+e*e)):6===arguments.length?(t=arguments[0]-arguments[3],e=arguments[1]-arguments[4],n=arguments[2]-arguments[5],Math.sqrt(t*t+e*e+n*n)):void 0},t.lerp=function(t,e,n){return(e-t)*n+t},t.mag=function(t,e,n){return n?Math.sqrt(t*t+e*e+n*n):Math.sqrt(t*t+e*e)},t.map=function(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)},t.max=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[1]:arguments[0];var t=1===arguments.length?arguments[0]:arguments;if(!(\"length\"in t&&t.length>0))throw\"Non-empty array is expected\";for(var e=t[0],n=t.length,r=1;r<n;++r)e<t[r]&&(e=t[r]);return e},t.min=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[0]:arguments[1];var t=1===arguments.length?arguments[0]:arguments;if(!(\"length\"in t&&t.length>0))throw\"Non-empty array is expected\";for(var e=t[0],n=t.length,r=1;r<n;++r)e>t[r]&&(e=t[r]);return e},t.norm=function(t,e,n){return(t-e)/(n-e)},t.sq=function(t){return t*t},t.degrees=function(t){return 180*t/Math.PI},t.random=function(){if(0===arguments.length)return n();if(1===arguments.length)return n()*arguments[0];var t=arguments[0],e=arguments[1];return n()*(e-t)+t},r.createRandomized=function(){var t=new Date;return new r(t/6e4&4294967295,4294967295&t)},t.randomSeed=function(t){n=new r(t).doubleGenerator,this.haveNextNextGaussian=!1},t.randomGaussian=function(){if(this.haveNextNextGaussian)return this.haveNextNextGaussian=!1,this.nextNextGaussian;var t,e,r;do{r=(t=2*n()-1)*t+(e=2*n()-1)*e}while(r>=1||0===r);var i=Math.sqrt(-2*Math.log(r)/r);return this.nextNextGaussian=e*i,this.haveNextNextGaussian=!0,t*i};var i={generator:e,octaves:4,fallout:.5,seed:e};t.noise=function(t,n,s){i.generator===e&&(i.generator=new function(t){var n,i,s=t!==e?new r(t):r.createRandomized(),o=new Uint8Array(512);for(n=0;n<256;++n)o[n]=n;for(n=0;n<256;++n){var a=o[i=255&s.intGenerator()];o[i]=o[n],o[n]=a}for(n=0;n<256;++n)o[n+256]=o[n];function l(t,e,n,r){var i=15&t,s=i<8?e:n,o=i<4?n:12===i||14===i?e:r;return(0==(1&i)?s:-s)+(0==(2&i)?o:-o)}function h(t,e,n){var r=0==(1&t)?e:n;return 0==(2&t)?-r:r}function u(t,e){return 0==(1&t)?-e:e}function c(t,e,n){return e+t*(n-e)}this.noise3d=function(t,e,n){var r=255&Math.floor(t),i=255&Math.floor(e),s=255&Math.floor(n),a=(3-2*(t-=Math.floor(t)))*t*t,h=(3-2*(e-=Math.floor(e)))*e*e,u=(3-2*(n-=Math.floor(n)))*n*n,f=o[r]+i,p=o[f]+s,d=o[f+1]+s,m=o[r+1]+i,g=o[m]+s,v=o[m+1]+s;return c(u,c(h,c(a,l(o[p],t,e,n),l(o[g],t-1,e,n)),c(a,l(o[d],t,e-1,n),l(o[v],t-1,e-1,n))),c(h,c(a,l(o[p+1],t,e,n-1),l(o[g+1],t-1,e,n-1)),c(a,l(o[d+1],t,e-1,n-1),l(o[v+1],t-1,e-1,n-1))))},this.noise2d=function(t,e){var n=255&Math.floor(t),r=255&Math.floor(e),i=(3-2*(t-=Math.floor(t)))*t*t,s=(3-2*(e-=Math.floor(e)))*e*e,a=o[n]+r,l=o[n+1]+r;return c(s,c(i,h(o[a],t,e),h(o[l],t-1,e)),c(i,h(o[a+1],t,e-1),h(o[l+1],t-1,e-1)))},this.noise1d=function(t){var e=255&Math.floor(t);return c((3-2*(t-=Math.floor(t)))*t*t,u(o[e],t),u(o[e+1],t-1))}}(i.seed));for(var o=i.generator,a=1,l=1,h=0,u=0;u<i.octaves;++u){switch(a*=i.fallout,arguments.length){case 1:h+=a*(1+o.noise1d(l*t))/2;break;case 2:h+=a*(1+o.noise2d(l*t,l*n))/2;break;case 3:h+=a*(1+o.noise3d(l*t,l*n,l*s))/2}l*=2}return h},t.noiseDetail=function(t,n){i.octaves=t,n!==e&&(i.fallout=n)},t.noiseSeed=function(t){i.seed=t,i.generator=e}}},{}],23:[function(t,e,n){var r,i;e.exports=i={trim:function(t){if(t instanceof Array){for(var e=[],n=0;n<t.length;n++)e.push(t[n].replace(/^\\s*/,\"\").replace(/\\s*$/,\"\").replace(/\\r*$/,\"\"));return e}return t.replace(/^\\s*/,\"\").replace(/\\s*$/,\"\").replace(/\\r*$/,\"\")},radians:function(t){return t/180*Math.PI},nfCoreScalar:function(t,e,n,i,s,o){var a=t<0?n:e,l=0===s,h=s===r||s<0?0:s,u=Math.abs(t);if(l)for(h=1,u*=10;Math.abs(Math.round(u)-u)>1e-6&&h<7;)++h,u*=10;else 0!==h&&(u*=Math.pow(10,h));var c,f=2*u;if(Math.floor(u)===u)c=u;else if(Math.floor(f)===f){var p=Math.floor(u);c=p+p%2}else c=Math.round(u);for(var d=\"\",m=i+h;m>0||c>0;)m--,d=\"\"+c%10+d,c=Math.floor(c/10);if(o!==r)for(var g=d.length-3-h;g>0;)d=d.substring(0,g)+o+d.substring(g),g-=3;return h>0?a+d.substring(0,d.length-h)+\".\"+d.substring(d.length-h,d.length):a+d},nfCore:function(t,e,n,r,s,o){if(t instanceof Array){for(var a=[],l=0,h=t.length;l<h;l++)a.push(i.nfCoreScalar(t[l],e,n,r,s,o));return a}return i.nfCoreScalar(t,e,n,r,s,o)},nf:function(t,e,n){return i.nfCore(t,\"\",\"-\",e,n)},nfs:function(t,e,n){return i.nfCore(t,\" \",\"-\",e,n)},nfp:function(t,e,n){return i.nfCore(t,\"+\",\"-\",e,n)},nfc:function(t,e){return i.nfCore(t,\"\",\"-\",0,e,\",\")},withCommonFunctions:function(t){[\"trim\",\"radians\",\"nf\",\"nfs\",\"nfp\",\"nfc\"].forEach(function(e){t[e]=i[e]})}}},{}],24:[function(t,e,n){e.exports=function(t,e,n,r,i,s){function o(e,n){var i,s,o,a,l=e,h=0,u=0;if(t.pmouseX=t.mouseX,t.pmouseY=t.mouseY,l.offsetParent)do{h+=l.offsetLeft,u+=l.offsetTop}while(l=l.offsetParent);l=e;do{h-=l.scrollLeft||0,u-=l.scrollTop||0}while(l=l.parentNode);return r.defaultView&&r.defaultView.getComputedStyle&&(i=parseInt(r.defaultView.getComputedStyle(e,null).paddingLeft,10)||0,s=parseInt(r.defaultView.getComputedStyle(e,null).paddingTop,10)||0,o=parseInt(r.defaultView.getComputedStyle(e,null).borderLeftWidth,10)||0,a=parseInt(r.defaultView.getComputedStyle(e,null).borderTopWidth,10)||0),h+=i,u+=s,h+=o,u+=a,{X:h+=window.pageXOffset,Y:u+=window.pageYOffset}}function a(e,n){var r=o(e);t.mouseX=n.pageX-r.X,t.mouseY=n.pageY-r.Y}function l(t){var e,n=o(t.changedTouches[0].target,t.changedTouches[0]);for(e=0;e<t.touches.length;e++){var r=t.touches[e];r.offsetX=r.pageX-n.X,r.offsetY=r.pageY-n.Y}for(e=0;e<t.targetTouches.length;e++){var i=t.targetTouches[e];i.offsetX=i.pageX-n.X,i.offsetY=i.pageY-n.Y}for(e=0;e<t.changedTouches.length;e++){var s=t.changedTouches[e];s.offsetX=s.pageX-n.X,s.offsetY=s.pageY-n.Y}return t}var h,u;n(e,\"touchstart\",function(r){e.setAttribute(\"style\",\"-webkit-user-select: none\"),e.setAttribute(\"onclick\",\"void(0)\"),e.setAttribute(\"style\",\"-webkit-tap-highlight-color:rgba(0,0,0,0)\");for(var o=0,h=eventHandlers.length;o<h;o++){var u=eventHandlers[o].type;\"mouseout\"!==u&&\"mousemove\"!==u&&\"mousedown\"!==u&&\"mouseup\"!==u&&\"DOMMouseScroll\"!==u&&\"mousewheel\"!==u&&\"touchstart\"!==u||detachEventHandler(eventHandlers[o])}t.touchStart!==s||t.touchMove!==s||t.touchEnd!==s||t.touchCancel!==s?(n(e,\"touchstart\",function(e){t.touchStart!==s&&(e=l(e),t.touchStart(e))}),n(e,\"touchmove\",function(e){t.touchMove!==s&&(e.preventDefault(),e=l(e),t.touchMove(e))}),n(e,\"touchend\",function(e){t.touchEnd!==s&&(e=l(e),t.touchEnd(e))}),n(e,\"touchcancel\",function(e){t.touchCancel!==s&&(e=l(e),t.touchCancel(e))})):(n(e,\"touchstart\",function(n){a(e,n.touches[0]),t.__mousePressed=!0,t.mouseDragging=!1,t.mouseButton=i.LEFT,\"function\"==typeof t.mousePressed&&t.mousePressed()}),n(e,\"touchmove\",function(n){n.preventDefault(),a(e,n.touches[0]),\"function\"!=typeof t.mouseMoved||t.__mousePressed||t.mouseMoved(),\"function\"==typeof t.mouseDragged&&t.__mousePressed&&(t.mouseDragged(),t.mouseDragging=!0)}),n(e,\"touchend\",function(e){t.__mousePressed=!1,\"function\"!=typeof t.mouseClicked||t.mouseDragging||t.mouseClicked(),\"function\"==typeof t.mouseReleased&&t.mouseReleased()})),e.dispatchEvent(r)}),h=!0,u=function(t){t.preventDefault(),t.stopPropagation()},t.disableContextMenu=function(){h&&(n(e,\"contextmenu\",u),h=!1)},t.enableContextMenu=function(){h||(detachEventHandler({elem:e,type:\"contextmenu\",fn:u}),h=!0)},n(e,\"mousemove\",function(n){a(e,n),\"function\"!=typeof t.mouseMoved||t.__mousePressed||t.mouseMoved(),\"function\"==typeof t.mouseDragged&&t.__mousePressed&&(t.mouseDragged(),t.mouseDragging=!0)}),n(e,\"mouseout\",function(e){\"function\"==typeof t.mouseOut&&t.mouseOut()}),n(e,\"mouseover\",function(n){a(e,n),\"function\"==typeof t.mouseOver&&t.mouseOver()}),e.onmousedown=function(){return e.focus(),!1},n(e,\"mousedown\",function(e){switch(t.__mousePressed=!0,t.mouseDragging=!1,e.which){case 1:t.mouseButton=i.LEFT;break;case 2:t.mouseButton=i.CENTER;break;case 3:t.mouseButton=i.RIGHT}\"function\"==typeof t.mousePressed&&t.mousePressed()}),n(e,\"mouseup\",function(e){t.__mousePressed=!1,\"function\"!=typeof t.mouseClicked||t.mouseDragging||t.mouseClicked(),\"function\"==typeof t.mouseReleased&&t.mouseReleased()});var c=function(e){var n=0;e.wheelDelta?(n=e.wheelDelta/120,window.opera&&(n=-n)):e.detail&&(n=-e.detail/3),t.mouseScroll=n,n&&\"function\"==typeof t.mouseScrolled&&t.mouseScrolled()};n(r,\"DOMMouseScroll\",c),n(r,\"mousewheel\",c)}},{}],25:[function(t,e,n){e.exports=function(t,e){var n,r=e.defaultScope,i=r.PConstants,s=e.aFunctions,o=e.Browser.document;function a(e){var o=function(){var e=[\"abs\",\"acos\",\"alpha\",\"ambient\",\"ambientLight\",\"append\",\"applyMatrix\",\"arc\",\"arrayCopy\",\"asin\",\"atan\",\"atan2\",\"background\",\"beginCamera\",\"beginDraw\",\"beginShape\",\"bezier\",\"bezierDetail\",\"bezierPoint\",\"bezierTangent\",\"bezierVertex\",\"binary\",\"blend\",\"blendColor\",\"blit_resize\",\"blue\",\"box\",\"breakShape\",\"brightness\",\"camera\",\"ceil\",\"Character\",\"color\",\"colorMode\",\"concat\",\"constrain\",\"copy\",\"cos\",\"createFont\",\"createGraphics\",\"createImage\",\"cursor\",\"curve\",\"curveDetail\",\"curvePoint\",\"curveTangent\",\"curveTightness\",\"curveVertex\",\"day\",\"degrees\",\"directionalLight\",\"disableContextMenu\",\"dist\",\"draw\",\"ellipse\",\"ellipseMode\",\"emissive\",\"enableContextMenu\",\"endCamera\",\"endDraw\",\"endShape\",\"exit\",\"exp\",\"expand\",\"externals\",\"fill\",\"filter\",\"floor\",\"focused\",\"frameCount\",\"frameRate\",\"frustum\",\"get\",\"glyphLook\",\"glyphTable\",\"green\",\"height\",\"hex\",\"hint\",\"hour\",\"hue\",\"image\",\"imageMode\",\"intersect\",\"join\",\"key\",\"keyCode\",\"keyPressed\",\"keyReleased\",\"keyTyped\",\"lerp\",\"lerpColor\",\"lightFalloff\",\"lights\",\"lightSpecular\",\"line\",\"link\",\"loadBytes\",\"loadFont\",\"loadGlyphs\",\"loadImage\",\"loadPixels\",\"loadShape\",\"loadXML\",\"loadStrings\",\"log\",\"loop\",\"mag\",\"map\",\"match\",\"matchAll\",\"max\",\"millis\",\"min\",\"minute\",\"mix\",\"modelX\",\"modelY\",\"modelZ\",\"modes\",\"month\",\"mouseButton\",\"mouseClicked\",\"mouseDragged\",\"mouseMoved\",\"mouseOut\",\"mouseOver\",\"mousePressed\",\"mouseReleased\",\"mouseScroll\",\"mouseScrolled\",\"mouseX\",\"mouseY\",\"name\",\"nf\",\"nfc\",\"nfp\",\"nfs\",\"noCursor\",\"noFill\",\"noise\",\"noiseDetail\",\"noiseSeed\",\"noLights\",\"noLoop\",\"norm\",\"normal\",\"noSmooth\",\"noStroke\",\"noTint\",\"ortho\",\"param\",\"parseBoolean\",\"parseByte\",\"parseChar\",\"parseFloat\",\"parseInt\",\"peg\",\"perspective\",\"PImage\",\"pixels\",\"PMatrix2D\",\"PMatrix3D\",\"PMatrixStack\",\"pmouseX\",\"pmouseY\",\"point\",\"pointLight\",\"popMatrix\",\"popStyle\",\"pow\",\"print\",\"printCamera\",\"println\",\"printMatrix\",\"printProjection\",\"PShape\",\"PShapeSVG\",\"pushMatrix\",\"pushStyle\",\"quad\",\"radians\",\"random\",\"randomGaussian\",\"randomSeed\",\"rect\",\"rectMode\",\"red\",\"redraw\",\"requestImage\",\"resetMatrix\",\"reverse\",\"rotate\",\"rotateX\",\"rotateY\",\"rotateZ\",\"round\",\"saturation\",\"save\",\"saveFrame\",\"saveStrings\",\"scale\",\"screenX\",\"screenY\",\"screenZ\",\"second\",\"set\",\"setup\",\"shape\",\"shapeMode\",\"shared\",\"shearX\",\"shearY\",\"shininess\",\"shorten\",\"sin\",\"size\",\"smooth\",\"sort\",\"specular\",\"sphere\",\"sphereDetail\",\"splice\",\"split\",\"splitTokens\",\"spotLight\",\"sq\",\"sqrt\",\"status\",\"str\",\"stroke\",\"strokeCap\",\"strokeJoin\",\"strokeWeight\",\"subset\",\"tan\",\"text\",\"textAlign\",\"textAscent\",\"textDescent\",\"textFont\",\"textLeading\",\"textMode\",\"textSize\",\"texture\",\"textureMode\",\"textWidth\",\"tint\",\"toImageData\",\"touchCancel\",\"touchEnd\",\"touchMove\",\"touchStart\",\"translate\",\"transform\",\"triangle\",\"trim\",\"unbinary\",\"unhex\",\"updatePixels\",\"use3DContext\",\"vertex\",\"width\",\"XMLElement\",\"XML\",\"year\",\"__contains\",\"__equals\",\"__equalsIgnoreCase\",\"__frameRate\",\"__hashCode\",\"__int_cast\",\"__instanceof\",\"__keyPressed\",\"__mousePressed\",\"__printStackTrace\",\"__replace\",\"__replaceAll\",\"__replaceFirst\",\"__toCharArray\",\"__split\",\"__codePointAt\",\"__startsWith\",\"__endsWith\",\"__matches\"];s&&Object.keys(s).forEach(function(t){e.push(t)});var n,r,i={};for(n=0,r=e.length;n<r;++n)i[e[n]]=null;for(var o in t.lib)if(t.lib.hasOwnProperty(o)&&t.lib[o].exports){var a=t.lib[o].exports;for(n=0,r=a.length;n<r;++n)i[a[n]]=null}return i}();function a(t){var e,n=/^\\s*/.exec(t);if(n[0].length===t.length)e={left:n[0],middle:\"\",right:\"\"};else{var r=/\\s*$/.exec(t);e={left:n[0],middle:t.substring(n[0].length,r.index),right:r[0]}}return e.untrim=function(t){return this.left+t+this.right},e}function l(t){return t.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")}function h(t,e){for(var n=0,r=e.length;n<r;++n)t[e[n]]=null;return t}function u(t){return t.substring(2,t.length-1)}var c,f=[],p=e.replace(/\\r\\n?|\\n\\r/g,\"\\n\").replace(/(\"(?:[^\"\\\\\\n]|\\\\.)*\")|('(?:[^'\\\\\\n]|\\\\.)*')|(([\\[\\(=|&!\\^:?]\\s*)(\\/(?![*\\/])(?:[^\\/\\\\\\n]|\\\\.)*\\/[gim]*)\\b)|(\\/\\/[^\\n]*\\n)|(\\/\\*(?:(?!\\*\\/)(?:.|\\n))*\\*\\/)/g,function(t,e,n,r,i,s,o,a){var l;return e||n?(l=f.length,f.push(t),\"'\"+l+\"'\"):r?(l=f.length,f.push(s),i+\"'\"+l+\"'\"):\"\"!==a?\" \":\"\\n\"}),d=p=(p=(p=p.replace(/__x([0-9A-F]{4})/g,function(t,e){return\"__x005F_x\"+e})).replace(/\\$/g,\"__x0024\")).replace(/return\\s*[\\n\\r]+/g,\"return \"),m=function(t,e,n,r){return e||r?t:(c=!0,\"\")};do{c=!1,d=d.replace(/([<]?)<\\s*((?:\\?|[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*)(?:\\[\\])*(?:\\s+(?:extends|super)\\s+[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*)?(?:\\s*,\\s*(?:\\?|[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*)(?:\\[\\])*(?:\\s+(?:extends|super)\\s+[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*)?)*)\\s*>([=]?)/g,m)}while(c);var g,v,y,b,w,x,A,E=function(t){for(var e=[],n=t.split(/([\\{\\[\\(\\)\\]\\}])/),r=n[0],i=[],s=1;s<n.length;s+=2){var o=n[s];if(\"[\"===o||\"{\"===o||\"(\"===o)i.push(r),r=o;else if(\"]\"===o||\"}\"===o||\")\"===o){var a=\"}\"===o?\"A\":\")\"===o?\"B\":\"C\",l=e.length;e.push(r+o),r=i.pop()+'\"'+a+(l+1)+'\"'}r+=n[s+1]}return e.unshift(r),e}(d),S={},M=0;function _(t,e){var n=E.length;return E.push(t),'\"'+e+n+'\"'}function P(){return\"class\"+ ++M}function C(t,e,n){t.classId=e,t.scopeId=n,S[e]=t}var T=/\\b((?:(?:public|private|final|protected|static|abstract)\\s+)*)(class|interface)\\s+([A-Za-z_$][\\w$]*\\b)(\\s+extends\\s+[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*(?:\\s*,\\s*[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*\\b)*)?(\\s+implements\\s+[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*(?:\\s*,\\s*[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*\\b)*)?\\s*(\"A\\d+\")/g,R=/\\b((?:(?:public|private|final|protected|static|abstract|synchronized)\\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\\b)[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*(?:\\s*\"C\\d+\")*)\\s*([A-Za-z_$][\\w$]*\\b)\\s*(\"B\\d+\")(\\s*throws\\s+[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*(?:\\s*,\\s*[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*)*)?\\s*(\"A\\d+\"|;)/g,L=/^((?:(?:public|private|final|protected|static)\\s+)*)((?!(?:else|new|return|throw)\\b)[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*(?:\\s*\"C\\d+\")*)\\s*([A-Za-z_$][\\w$]*\\b)\\s*(?:\"C\\d+\"\\s*)*([=,]|$)/,I=/\\b((?:(?:public|private|final|protected|static|abstract)\\s+)*)((?!(?:new|return|throw)\\b)[A-Za-z_$][\\w$]*\\b)\\s*(\"B\\d+\")(\\s*throws\\s+[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*(?:\\s*,\\s*[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*)*)?\\s*(\"A\\d+\")/g,D=/^((?:(?:public|private|final|protected|static)\\s+)*)((?!(?:new|return|throw)\\b)[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*(?:\\s*\"C\\d+\")*)\\s*/,O=/\\bfunction(?:\\s+([A-Za-z_$][\\w$]*))?\\s*(\"B\\d+\")\\s*(\"A\\d+\")/g;function F(t){var e=t;return e=(e=(e=e.replace(T,function(t){return _(t,\"E\")})).replace(R,function(t){return _(t,\"D\")})).replace(O,function(t){return _(t,\"H\")})}function N(t,e){return t.replace(I,function(t,n,r,i,s,o){return r!==e?t:_(t,\"G\")})}function k(t){this.name=t}function B(t,e){this.params=t,this.methodArgsParam=e}function z(t){var e=l(t.substring(1,t.length-1)),n=[],r=null;if(\"\"!==e)for(var i=e.split(\",\"),s=0;s<i.length;++s){var o=/\\b([A-Za-z_$][\\w$]*\\b)(\\s*\"[ABC][\\d]*\")*\\s*$/.exec(i[s]);if(s===i.length-1&&i[s].indexOf(\"...\")>=0){r=new k(o[1]);break}n.push(new k(o[1]))}return new B(n,r)}function V(t,e){this.baseInterfaceName=t,this.body=e,e.owner=this}function G(t,e,n){this.name=t,this.params=e,this.body=n}function $(t){var e=new RegExp(/\\b([A-Za-z_$][\\w$]*)\\s*\"B(\\d+)\"\\s*\"A(\\d+)\"/).exec(t);return new G(\"function\"!==e[1]?e[1]:null,z(E[e[2]]),w(E[e[3]]))}function H(t){this.members=t}function U(t){if(\"(\"===t.charAt(0)||\"[\"===t.charAt(0))return t.charAt(0)+U(t.substring(1,t.length-1))+t.charAt(t.length-1);if(\"{\"===t.charAt(0))return/^\\{\\s*(?:[A-Za-z_$][\\w$]*|'\\d+')\\s*:/.test(t)?\"{\"+_(t.substring(1,t.length-1),\"I\")+\"}\":\"[\"+U(t.substring(1,t.length-1))+\"]\";var e=a(t),n=function(t){var e,n=t;function r(t,n,r,i){var s=E[i];e=!0;var o=a(s.substring(1,s.length-1));return\"__\"+r+(\"\"===o.middle?_(\"(\"+n.replace(/\\.\\s*$/,\"\")+\")\",\"B\"):_(\"(\"+n.replace(/\\.\\s*$/,\"\")+\",\"+o.middle+\")\",\"B\"))}n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace(/\\bnew\\s+([A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*)(?:\\s*\"C\\d+\")+\\s*(\"A\\d+\")/g,function(t,e,n){return n})).replace(/\\bnew\\s+([A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*)(?:\\s*\"B\\d+\")\\s*(\"A\\d+\")/g,function(t,e,n){return _(t,\"F\")})).replace(O,function(t){return _(t,\"H\")})).replace(/\\bnew\\s+([A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*)\\s*(\"C\\d+\"(?:\\s*\"C\\d+\")*)/g,function(t,e,n){var r=n.replace(/\"C(\\d+)\"/g,function(t,e){return E[e]}).replace(/\\[\\s*\\]/g,\"[null]\").replace(/\\s*\\]\\s*\\[\\s*/g,\", \");return\"$p.createJavaArray\"+_(\"('\"+e+\"', \"+_(\"{\"+r.substring(1,r.length-1)+\"}\",\"A\")+\")\",\"B\")})).replace(/(\\.\\s*length)\\s*\"B\\d+\"/g,\"$1\")).replace(/#([0-9A-Fa-f]{6})\\b/g,function(t,e){return\"0xFF\"+e})).replace(/\"B(\\d+)\"(\\s*(?:[\\w$']|\"B))/g,function(t,e,n){var r=E[e];if(!/^\\(\\s*[A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*\\s*(?:\"C\\d+\"\\s*)*\\)$/.test(r))return t;if(/^\\(\\s*int\\s*\\)$/.test(r))return\"(int)\"+n;var i=r.split(/\"C(\\d+)\"/g);return i.length>1&&!/^\\[\\s*\\]$/.test(E[i[1]])?t:\"\"+n})).replace(/\\(int\\)([^,\\]\\)\\}\\?\\:\\*\\+\\-\\/\\^\\|\\%\\&\\~<\\>\\=]+)/g,function(t,e){var n=a(e);return n.untrim(\"__int_cast(\"+n.middle+\")\")})).replace(/\\bsuper(\\s*\"B\\d+\")/g,\"$$superCstr$1\").replace(/\\bsuper(\\s*\\.)/g,\"$$super$1\")).replace(/\\b0+((\\d*)(?:\\.[\\d*])?(?:[eE][\\-\\+]?\\d+)?[fF]?)\\b/,function(t,e,n){return e===n?t:\"\"===n?\"0\"+e:e})).replace(/\\b(\\.?\\d+\\.?)[fF]\\b/g,\"$1\")).replace(/([^\\s])%([^=\\s])/g,\"$1 % $2\")).replace(/\\b(frameRate|keyPressed|mousePressed)\\b(?!\\s*\"B)/g,\"__$1\")).replace(/\\b(boolean|byte|char|float|int)\\s*\"B/g,function(t,e){return\"parse\"+e.substring(0,1).toUpperCase()+e.substring(1)+'\"B'})).replace(/\\bpixels\\b\\s*((\"C(\\d+)\")|\\.length)?(\\s*=(?!=)([^,\\]\\)\\}]+))?/g,function(t,e,n,r,i,s){if(n){var o=E[r];return i?\"pixels.setPixel\"+_(\"(\"+o.substring(1,o.length-1)+\",\"+s+\")\",\"B\"):\"pixels.getPixel\"+_(\"(\"+o.substring(1,o.length-1)+\")\",\"B\")}return e?\"pixels.getLength\"+_(\"()\",\"B\"):i?\"pixels.set\"+_(\"(\"+s+\")\",\"B\"):\"pixels.toArray\"+_(\"()\",\"B\")});do{e=!1,n=n.replace(/((?:'\\d+'|\\b[A-Za-z_$][\\w$]*\\s*(?:\"[BC]\\d+\")*)\\s*\\.\\s*(?:[A-Za-z_$][\\w$]*\\s*(?:\"[BC]\\d+\"\\s*)*\\.\\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\\s*\"B(\\d+)\"/g,r)}while(e);function i(t,n,r){return e=!0,\"__instanceof\"+_(\"(\"+n+\", \"+r+\")\",\"B\")}do{e=!1,n=n.replace(/((?:'\\d+'|\\b[A-Za-z_$][\\w$]*\\s*(?:\"[BC]\\d+\")*)\\s*(?:\\.\\s*[A-Za-z_$][\\w$]*\\s*(?:\"[BC]\\d+\"\\s*)*)*)instanceof\\s+([A-Za-z_$][\\w$]*\\s*(?:\\.\\s*[A-Za-z_$][\\w$]*)*)/g,i)}while(e);return n=n.replace(/\\bthis(\\s*\"B\\d+\")/g,\"$$constr$1\")}(e.middle);return n=n.replace(/\"[ABC](\\d+)\"/g,function(t,e){return U(E[e])}),e.untrim(n)}function X(t,e){this.expr=t,this.transforms=e}function j(t,e,n){this.name=t,this.value=e,this.isDefault=n}function Y(t,e){var n,r,i,s=t.indexOf(\"=\");return s<0?(n=t,r=e,i=!0):(n=t.substring(0,s),r=A(t.substring(s+1)),i=!1),new j(l(n.replace(/(\\s*\"C\\d+\")+/g,\"\")),r,i)}function K(t){return\"int\"===t||\"float\"===t?\"0\":\"boolean\"===t?\"false\":\"color\"===t?\"0x00000000\":\"null\"}function q(t,e){this.definitions=t,this.varType=e}function W(t){this.expression=t}function Z(t){if(L.test(t)){for(var e=D.exec(t),n=t.substring(e[0].length).split(\",\"),r=K(e[2]),i=0;i<n.length;++i)n[i]=Y(n[i],r);return new q(n,e[2])}return new W(A(t))}function J(t,e,n){this.initStatement=t,this.condition=e,this.step=n}function Q(t,e){this.initStatement=t,this.container=e}function tt(t,e){this.initStatement=t,this.container=e}function et(t){t.sort(function(t,e){return e.weight-t.weight})}function nt(t,e,n){this.name=t,this.body=e,this.isStatic=n,e.owner=this}function rt(t,e,n){this.name=t,this.body=e,this.isStatic=n,e.owner=this}function it(t){var e=T.exec(t);T.lastIndex=0;var n,r=e[1].indexOf(\"static\")>=0,i=E[u(e[6])],s=v,o=P();return v=o,C(n=\"interface\"===e[2]?new nt(e[3],b(i,e[3],e[4]),r):new rt(e[3],y(i,e[3],e[4],e[5]),r),o,s),v=s,n}function st(t,e,n,r){this.name=t,this.params=e,this.body=n,this.isStatic=r}function ot(t){var e=R.exec(t);R.lastIndex=0;var n=e[1].indexOf(\"static\")>=0,r=\";\"!==e[6]?E[u(e[6])]:\"{}\";return new st(e[3],z(E[u(e[4])]),w(r),n)}function at(t,e,n){this.definitions=t,this.fieldType=e,this.isStatic=n}function lt(t){for(var e=D.exec(t),n=e[1].indexOf(\"static\")>=0,r=t.substring(e[0].length).split(/,\\s*/g),i=K(e[2]),s=0;s<r.length;++s)r[s]=Y(r[s],i);return new at(r,e[2],n)}function ht(t,e){this.params=t,this.body=e}function ut(t,e,n,r,i,s){var o,a;for(this.name=t,this.interfacesNames=e,this.methodsNames=n,this.fields=r,this.innerClasses=i,this.misc=s,o=0,a=r.length;o<a;++o)r[o].owner=this}function ct(t,e,n,r,i,s,o,a,l){var h,u;for(this.name=t,this.baseClassName=e,this.interfacesNames=n,this.functions=r,this.methods=i,this.fields=s,this.cstrs=o,this.innerClasses=a,this.misc=l,h=0,u=s.length;h<u;++h)s[h].owner=this}function ft(t,e){this.name=t,this.body=e,e.owner=this}function pt(t,e){this.name=t,this.body=e,e.owner=this}function dt(t){var e=T.exec(t);T.lastIndex=0;var n,r=E[u(e[6])],i=v,s=P();return v=s,C(n=\"interface\"===e[2]?new ft(e[3],b(r,e[3],e[4])):new pt(e[3],y(r,e[3],e[4],e[5])),s,i),v=i,n}function mt(t,e,n){this.name=t,this.params=e,this.body=n}function gt(t){var e=R.exec(t);R.lastIndex=0;return new mt(e[3],z(E[u(e[4])]),w(E[u(e[6])]))}function vt(t,e){this.argument=t,this.misc=e}function yt(t,e){this.argument=t,this.misc=e}function bt(t,e,n){this.name=t,this.argument=e,this.misc=n}function wt(t){this.expr=t}function xt(t){this.label=t}function At(t){for(var e=[],n=0,r=t.length;n<r;++n){var i=t[n];i instanceof q?e=e.concat(i.getNames()):i instanceof vt&&i.argument.initStatement instanceof q?e=e.concat(i.argument.initStatement.getNames()):(i instanceof nt||i instanceof rt||i instanceof ft||i instanceof pt||i instanceof mt||i instanceof G)&&e.push(i.name)}return h({},e)}function Et(t){this.statements=t}function St(t){this.statements=t}k.prototype.toString=function(){return this.name},B.prototype.getNames=function(){for(var t=[],e=0,n=this.params.length;e<n;++e)t.push(this.params[e].name);return t},B.prototype.prependMethodArgs=function(t){return this.methodArgsParam?\"{\\nvar \"+this.methodArgsParam.name+\" = Array.prototype.slice.call(arguments, \"+this.params.length+\");\\n\"+t.substring(1):t},B.prototype.toString=function(){if(0===this.params.length)return\"()\";for(var t=\"(\",e=0,n=this.params.length;e<n;++e)t+=this.params[e]+\", \";return t.substring(0,t.length-2)+\")\"},V.prototype.toString=function(){return\"new (\"+this.body+\")\"},G.prototype.toString=function(){var t=g,e=h({this:null},this.params.getNames());g=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=\"function\";this.name&&(n+=\" \"+this.name);var r=this.params.prependMethodArgs(this.body.toString());return n+=this.params+\" \"+r,g=t,n},H.prototype.toString=function(){var t=g;g=function(e){return\"this\"===e.name?\"this\":t(e)};for(var e=\"\",n=0,r=this.members.length;n<r;++n)this.members[n].label&&(e+=this.members[n].label+\": \"),e+=this.members[n].value.toString()+\", \";return g=t,e.substring(0,e.length-2)},X.prototype.toString=function(){var t=this.transforms;return function(t){return t.replace(/(\\.\\s*)?((?:\\b[A-Za-z_]|\\$)[\\w$]*)(\\s*\\.\\s*([A-Za-z_$][\\w$]*)(\\s*\\()?)?/g,function(t,e,r,i,s,o){return e?t:g({name:r,member:s,callSign:!!o})+(i===n?\"\":i)})}(this.expr).replace(/\"!(\\d+)\"/g,function(e,n){return t[n].toString()})},A=function(t){var e=[],n=U(t);return new X(n=(n=(n=n.replace(/\"H(\\d+)\"/g,function(t,n){return e.push($(E[n])),'\"!'+(e.length-1)+'\"'})).replace(/\"F(\\d+)\"/g,function(t,n){return e.push(function(t){var e=new RegExp(/\\bnew\\s*([A-Za-z_$][\\w$]*\\s*(?:\\.\\s*[A-Za-z_$][\\w$]*)*)\\s*\"B\\d+\"\\s*\"A(\\d+)\"/).exec(t),n=v,r=P();v=r;var i=e[1]+\"$\"+r,s=new V(i,y(E[e[2]],i,\"\",\"implements \"+e[1]));return C(s,r,n),v=n,s}(E[n])),'\"!'+(e.length-1)+'\"'})).replace(/\"I(\\d+)\"/g,function(t,n){return e.push(function(t){for(var e=t.split(\",\"),n=0;n<e.length;++n){var r=e[n].indexOf(\":\");e[n]=r<0?{value:A(e[n])}:{label:l(e[n].substring(0,r)),value:A(l(e[n].substring(r+1)))}}return new H(e)}(E[n])),'\"!'+(e.length-1)+'\"'}),e)},j.prototype.toString=function(){return this.name+\" = \"+this.value},q.prototype.getNames=function(){for(var t=[],e=0,n=this.definitions.length;e<n;++e)t.push(this.definitions[e].name);return t},q.prototype.toString=function(){return\"var \"+this.definitions.join(\",\")},W.prototype.toString=function(){return this.expression.toString()},J.prototype.toString=function(){return\"(\"+this.initStatement+\"; \"+this.condition+\"; \"+this.step+\")\"},Q.prototype.toString=function(){var t=this.initStatement.toString();return t.indexOf(\"=\")>=0&&(t=t.substring(0,t.indexOf(\"=\"))),\"(\"+t+\" in \"+this.container+\")\"},tt.iteratorId=0,tt.prototype.toString=function(){var t=this.initStatement.toString(),e=\"$it\"+tt.iteratorId++,n=t.replace(/^\\s*var\\s*/,\"\").split(\"=\")[0];return\"(\"+(\"var \"+e+\" = new $p.ObjectIterator(\"+this.container+\"), \"+n+\" = void(0)\")+\"; \"+(e+\".hasNext() && ((\"+n+\" = \"+e+\".next()) || true)\")+\";)\"},nt.prototype.toString=function(){return\"\"+this.body},rt.prototype.toString=function(){return\"\"+this.body},st.prototype.toString=function(){var t=h({},this.params.getNames()),e=g;g=function(n){return t.hasOwnProperty(n.name)?n.name:e(n)};var n=this.params.prependMethodArgs(this.body.toString()),r=\"function \"+this.methodId+this.params+\" \"+n+\"\\n\";return g=e,r},at.prototype.getNames=function(){for(var t=[],e=0,n=this.definitions.length;e<n;++e)t.push(this.definitions[e].name);return t},at.prototype.toString=function(){var t=g({name:\"[this]\"});if(this.isStatic){for(var e=this.owner.name,n=[],r=0,i=this.definitions.length;r<i;++r){var s=this.definitions[r],o=s.name,a=e+\".\"+o,l=\"if(\"+a+\" === void(0)) {\\n \"+a+\" = \"+s.value+\"; }\\n$p.defineProperty(\"+t+\", '\"+o+\"', { get: function(){return \"+a+\";}, set: function(val){\"+a+\" = val;} });\\n\";n.push(l)}return n.join(\"\")}return t+\".\"+this.definitions.join(\"; \"+t+\".\")},ht.prototype.toString=function(){var t=h({},this.params.getNames()),e=g;g=function(n){return t.hasOwnProperty(n.name)?n.name:e(n)};var n=\"function $constr_\"+this.params.params.length+this.params.toString(),r=this.params.prependMethodArgs(this.body.toString());return/\\$(superCstr|constr)\\b/.test(r)||(r=\"{\\n$superCstr();\\n\"+r.substring(1)),g=e,n+r+\"\\n\"},ut.prototype.getMembers=function(t,e,n){var r,i,s,o;for(this.owner.base&&this.owner.base.body.getMembers(t,e,n),r=0,s=this.fields.length;r<s;++r){var a=this.fields[r].getNames();for(i=0,o=a.length;i<o;++i)t[a[i]]=this.fields[r]}for(r=0,s=this.methodsNames.length;r<s;++r){e[this.methodsNames[r]]=!0}for(r=0,s=this.innerClasses.length;r<s;++r){var l=this.innerClasses[r];n[l.name]=l}},ut.prototype.toString=function(){!function(t){for(var e=0;t;)++e,t=t.scope}(this.owner);var t,e,n=this.name,r=\"\",i=\"\";if(this.getMembers({},{},{}),this.owner.interfaces){var s,o=[];for(t=0,e=this.interfacesNames.length;t<e;++t)this.owner.interfaces[t]&&(s=g({name:this.interfacesNames[t]}),o.push(s),r+=\"$p.extendInterfaceMembers(\"+n+\", \"+s+\");\\n\");i+=n+\".$interfaces = [\"+o.join(\", \")+\"];\\n\"}for(i+=n+\".$isInterface = true;\\n\",i+=n+\".$methods = ['\"+this.methodsNames.join(\"', '\")+\"'];\\n\",et(this.innerClasses),t=0,e=this.innerClasses.length;t<e;++t){var a=this.innerClasses[t];a.isStatic&&(r+=n+\".\"+a.name+\" = \"+a+\";\\n\")}for(t=0,e=this.fields.length;t<e;++t){var l=this.fields[t];l.isStatic&&(r+=n+\".\"+l.definitions.join(\";\\n\"+n+\".\")+\";\\n\")}return\"(function() {\\nfunction \"+n+\"() { throw 'Unable to create the interface'; }\\n\"+r+i+\"return \"+n+\";\\n})()\"},b=function(t,e,r){var i,s,o,l=t.substring(1,t.length-1),h=[],u=[],c=(l=(l=N(l=F(l),e)).replace(/\"([DE])(\\d+)\"/g,function(t,e,n){return\"D\"===e?h.push(n):\"E\"===e&&u.push(n),\"\"})).split(/;(?:\\s*;)*/g);for(r!==n&&(i=r.replace(/^\\s*extends\\s+(.+?)\\s*$/g,\"$1\").split(/\\s*,\\s*/g)),s=0,o=h.length;s<o;++s){var f=ot(E[h[s]]);h[s]=f.name}for(s=0,o=c.length-1;s<o;++s){var p=a(c[s]);c[s]=lt(p.middle)}var d=c.pop();for(s=0,o=u.length;s<o;++s)u[s]=it(E[u[s]]);return new ut(e,i,h,c,u,{tail:d})},ct.prototype.getMembers=function(t,e,n){var r,i,s,o;for(this.owner.base&&this.owner.base.body.getMembers(t,e,n),r=0,s=this.fields.length;r<s;++r){var a=this.fields[r].getNames();for(i=0,o=a.length;i<o;++i)t[a[i]]=this.fields[r]}for(r=0,s=this.methods.length;r<s;++r){var l=this.methods[r];e[l.name]=l}for(r=0,s=this.innerClasses.length;r<s;++r){var h=this.innerClasses[r];n[h.name]=h}},ct.prototype.toString=function(){var t=\"$this_\"+function(t){for(var e=0;t;)++e,t=t.scope;return e}(this.owner),e=this.name,n=\"var \"+t+\" = this;\\n\",r=\"\",i=\"\",s={},o={},a={};this.getMembers(s,o,a);var h,u,c,f,p,d=g;if(g=function(n){var r=n.name;return\"this\"===r?n.callSign||!n.member?t+\".$self\":t:s.hasOwnProperty(r)?s[r].isStatic?e+\".\"+r:t+\".\"+r:a.hasOwnProperty(r)?t+\".\"+r:o.hasOwnProperty(r)?o[r].isStatic?e+\".\"+r:t+\".$self.\"+r:d(n)},this.baseClassName?(h=d({name:this.baseClassName}),n+=\"var $super = { $upcast: \"+t+\" };\\n\",n+=\"function $superCstr(){\"+h+\".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\\n\",i+=e+\".$base = \"+h+\";\\n\"):n+=\"function $superCstr(){$p.extendClassChain(\"+t+\")}\\n\",this.owner.base&&(r+=\"$p.extendStaticMembers(\"+e+\", \"+h+\");\\n\"),this.owner.interfaces){var m,v=[];for(u=0,c=this.interfacesNames.length;u<c;++u)this.owner.interfaces[u]&&(m=d({name:this.interfacesNames[u]}),v.push(m),r+=\"$p.extendInterfaceMembers(\"+e+\", \"+m+\");\\n\");i+=e+\".$interfaces = [\"+v.join(\", \")+\"];\\n\"}for(this.functions.length>0&&(n+=this.functions.join(\"\\n\")+\"\\n\"),et(this.innerClasses),u=0,c=this.innerClasses.length;u<c;++u){var y=this.innerClasses[u];y.isStatic?(r+=e+\".\"+y.name+\" = \"+y+\";\\n\",n+=t+\".\"+y.name+\" = \"+e+\".\"+y.name+\";\\n\"):n+=t+\".\"+y.name+\" = \"+y+\";\\n\"}for(u=0,c=this.fields.length;u<c;++u){var b=this.fields[u];if(b.isStatic)for(r+=e+\".\"+b.definitions.join(\";\\n\"+e+\".\")+\";\\n\",f=0,p=b.definitions.length;f<p;++f){var w=b.definitions[f].name,x=e+\".\"+w;n+=\"$p.defineProperty(\"+t+\", '\"+w+\"', {get: function(){return \"+x+\"}, set: function(val){\"+x+\" = val}});\\n\"}else n+=t+\".\"+b.definitions.join(\";\\n\"+t+\".\")+\";\\n\"}var A={};for(u=0,c=this.methods.length;u<c;++u){var E=this.methods[u],S=A[E.name],M=E.name+\"$\"+E.params.params.length,_=!!E.params.methodArgsParam;S?M+=\"_\"+ ++S:S=1,E.methodId=M,A[E.name]=S,E.isStatic?(r+=E,r+=\"$p.addMethod(\"+e+\", '\"+E.name+\"', \"+M+\", \"+_+\");\\n\",n+=\"$p.addMethod(\"+t+\", '\"+E.name+\"', \"+M+\", \"+_+\");\\n\"):(n+=E,n+=\"$p.addMethod(\"+t+\", '\"+E.name+\"', \"+M+\", \"+_+\");\\n\")}n+=l(this.misc.tail),this.cstrs.length>0&&(n+=this.cstrs.join(\"\\n\")+\"\\n\"),n+=\"function $constr() {\\n\";var P=[];for(u=0,c=this.cstrs.length;u<c;++u){var C=this.cstrs[u].params.params.length,T=!!this.cstrs[u].params.methodArgsParam;P.push(\"if(arguments.length \"+(T?\">=\":\"===\")+\" \"+C+\") { $constr_\"+C+\".apply(\"+t+\", arguments); }\")}return P.length>0&&(n+=P.join(\" else \")+\" else \"),n+=\"$superCstr();\\n}\\n\",g=d,\"(function() {\\nfunction \"+e+\"() {\\n\"+(n+=\"$constr.apply(null, arguments);\\n\")+\"}\\n\"+r+i+\"return \"+e+\";\\n})()\"},y=function(t,e,r,i){var s,o,l,h=t.substring(1,t.length-1),u=[],c=[],f=[],p=[],d=(h=(h=N(h=F(h),e)).replace(/\"([DEGH])(\\d+)\"/g,function(t,e,n){return\"D\"===e?u.push(n):\"E\"===e?c.push(n):\"H\"===e?p.push(n):f.push(n),\"\"})).replace(/^(?:\\s*;)+/,\"\").split(/;(?:\\s*;)*/g);for(r!==n&&(s=r.replace(/^\\s*extends\\s+([A-Za-z_$][\\w$]*\\b(?:\\s*\\.\\s*[A-Za-z_$][\\w$]*\\b)*)\\s*$/g,\"$1\")),i!==n&&(o=i.replace(/^\\s*implements\\s+(.+?)\\s*$/g,\"$1\").split(/\\s*,\\s*/g)),l=0;l<p.length;++l)p[l]=$(E[p[l]]);for(l=0;l<u.length;++l)u[l]=ot(E[u[l]]);for(l=0;l<d.length-1;++l){var m=a(d[l]);d[l]=lt(m.middle)}var g,v,y=d.pop();for(l=0;l<f.length;++l)f[l]=(g=E[f[l]],void 0,v=new RegExp(/\"B(\\d+)\"\\s*\"A(\\d+)\"/).exec(g),new ht(z(E[v[1]]),w(E[v[2]])));for(l=0;l<c.length;++l)c[l]=it(E[c[l]]);return new ct(e,s,o,p,u,d,f,c,{tail:y})},ft.prototype.toString=function(){return\"var \"+this.name+\" = \"+this.body+\";\\n$p.\"+this.name+\" = \"+this.name+\";\\n\"},pt.prototype.toString=function(){return\"var \"+this.name+\" = \"+this.body+\";\\n$p.\"+this.name+\" = \"+this.name+\";\\n\"},mt.prototype.toString=function(){var t=h({},this.params.getNames()),e=g;g=function(n){return t.hasOwnProperty(n.name)?n.name:e(n)};var n=this.params.prependMethodArgs(this.body.toString()),r=\"function \"+this.name+this.params+\" \"+n+\"\\n$p.\"+this.name+\" = \"+this.name+\";\\n\"+this.name+\" = \"+this.name+\".bind($p);\";return g=e,r},vt.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},yt.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},bt.prototype.toString=function(){var t=this.misc.prefix;return this.argument!==n&&(t+=this.argument.toString()),t},wt.prototype.toString=function(){return\"case \"+this.expr+\":\"},xt.prototype.toString=function(){return this.label},x=function(t,e,r){var i=new RegExp(/\\b(catch|for|if|switch|while|with)\\s*\"B(\\d+)\"|\\b(do|else|finally|return|throw|try|break|continue)\\b|(\"[ADEH](\\d+)\")|\\b(case)\\s+([^:]+):|\\b([A-Za-z_$][\\w$]*\\s*:)|(;)/g),s=[];t=function(t){var e=t;return e=e.replace(/\\b(catch\\s*\"B\\d+\"\\s*\"A\\d+\")(\\s*catch\\s*\"B\\d+\"\\s*\"A\\d+\")+/g,\"$1\")}(t);for(var o,h,u,c,f=0;null!==(o=i.exec(t));){if(o[1]!==n){var p=t.lastIndexOf('\"B',i.lastIndex),d=t.substring(f,p);\"for\"===o[1]?s.push(new vt((u=E[o[2]],c=void 0,/\\bin\\b/.test(u)?new Q(Z(l((c=u.substring(1,u.length-1).split(/\\bin\\b/g))[0])),A(c[1])):u.indexOf(\":\")>=0&&u.indexOf(\";\")<0?new tt(Z(l((c=u.substring(1,u.length-1).split(\":\"))[0])),A(c[1])):new J(Z(l((c=u.substring(1,u.length-1).split(\";\"))[0])),A(c[1]),A(c[2]))),{prefix:d})):\"catch\"===o[1]?s.push(new yt(z(E[o[2]]),{prefix:d})):s.push(new bt(o[1],A(E[o[2]]),{prefix:d}))}else if(o[3]!==n)s.push(new bt(o[3],n,{prefix:t.substring(f,i.lastIndex)}));else if(o[4]!==n){if(0!==l(h=t.substring(f,i.lastIndex-o[4].length)).length)continue;s.push(h);var m=o[4].charAt(1),g=o[5];\"D\"===m?s.push(e(E[g])):\"E\"===m?s.push(r(E[g])):\"H\"===m?s.push($(E[g])):s.push(w(E[g]))}else if(o[6]!==n)s.push(new wt(A(l(o[7]))));else if(o[8]!==n){if(0!==l(h=t.substring(f,i.lastIndex-o[8].length)).length)continue;s.push(new xt(t.substring(f,i.lastIndex)))}else{var v=a(t.substring(f,i.lastIndex-1));s.push(v.left),s.push(Z(v.middle)),s.push(v.right+\";\")}f=i.lastIndex}var y=a(t.substring(f));return s.push(y.left),\"\"!==y.middle&&(s.push(Z(y.middle)),s.push(\";\"+y.right)),s},Et.prototype.toString=function(){var t=At(this.statements),e=g;(function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0})(t)||(g=function(n){return t.hasOwnProperty(n.name)?n.name:e(n)});var n=\"{\\n\"+this.statements.join(\"\")+\"\\n}\";return g=e,n},w=function(t){var e=a(t.substring(1,t.length-1));return new Et(x(e.middle))},St.prototype.toString=function(){for(var t,e=[],n=[],s=0,a=this.statements.length;s<a;++s)(t=this.statements[s])instanceof pt||t instanceof ft?e.push(t):n.push(t);et(e);var l=At(this.statements);g=function(t){var e=t.name;return l.hasOwnProperty(e)?e:o.hasOwnProperty(e)||i.hasOwnProperty(e)||r.hasOwnProperty(e)?\"$p.\"+e:e};var h=\"// this code was autogenerated from PJS\\n(function($p) {\\n\"+e.join(\"\")+\"\\n\"+n.join(\"\")+\"\\n})\";return g=null,h};var Mt=function(){var t=F(E[0]);return t=t.replace(/\\bimport\\s+[^;]+;/g,\"\"),new St(x(t,gt,dt))}();!function(t){var e,r,i={};for(e in S)if(S.hasOwnProperty(e)){var s=(r=S[e]).scopeId,o=r.name;if(s){var a=S[s];r.scope=a,a.inScope===n&&(a.inScope={}),a.inScope[o]=r}else i[o]=r}function l(t,e){for(var r,s=e.split(\".\"),o=t.scope;o;){if(o.hasOwnProperty(s[0])){r=o[s[0]];break}o=o.scope}r===n&&(r=i[s[0]]);for(var a=1,l=s.length;a<l&&r;++a)r=r.inScope[s[a]];return r}for(e in S)if(S.hasOwnProperty(e)){var h=(r=S[e]).body.baseClassName;if(h){var u=l(r,h);u&&(r.base=u,u.derived||(u.derived=[]),u.derived.push(r))}var c,f,p=r.body.interfacesNames,d=[];if(p&&p.length>0){for(c=0,f=p.length;c<f;++c){var m=l(r,p[c]);d.push(m),m&&(m.derived||(m.derived=[]),m.derived.push(r))}d.length>0&&(r.interfaces=d)}}}(),function(t){var e,n,r,i=[],s={};for(e in S)if(S.hasOwnProperty(e))if((r=S[e]).inScope||r.derived){var o=[];if(r.inScope)for(n in r.inScope)r.inScope.hasOwnProperty(n)&&o.push(r.inScope[n]);r.derived&&(o=o.concat(r.derived)),s[e]=o}else i.push(e),r.weight=0;function a(t,e){var n=s[t];if(!n)return!1;var r=n.indexOf(e);return!(r<0||(n.splice(r,1),n.length>0||(delete s[t],0)))}for(;i.length>0;){var l,h;if(e=i.shift(),(r=S[e]).scopeId&&a(r.scopeId,r)&&(i.push(r.scopeId),S[r.scopeId].weight=r.weight+1),r.base&&a(r.base.classId,r)&&(i.push(r.base.classId),r.base.weight=r.weight+1),r.interfaces)for(l=0,h=r.interfaces.length;l<h;++l)r.interfaces[l]&&a(r.interfaces[l].classId,r)&&(i.push(r.interfaces[l].classId),r.interfaces[l].weight=r.weight+1)}}();var _t=Mt.toString();return function(t,e){return t.replace(/'(\\d+)'/g,function(t,n){var r=e[n];return\"/\"===r.charAt(0)?r:/^'((?:[^'\\\\\\n])|(?:\\\\.[0-9A-Fa-f]*))'$/.test(r)?\"(new $p.Character(\"+r+\"))\":r})}(_t=(_t=_t.replace(/\\s*\\n(?:[\\t ]*\\n)+/g,\"\\n\\n\")).replace(/__x([0-9A-F]{4})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}),f)}t.compile=function(e){var n=new t.Sketch,r=a(function(t,e){var n=new RegExp(/\\/\\*\\s*@pjs\\s+((?:[^\\*]|\\*+[^\\*\\/])*)\\*\\//g).exec(t);if(n&&2===n.length)for(var r=[],i=n.splice(1,2)[0].replace(/\\{([\\s\\S]*?)\\}/g,function(t,e){return r.push(e),\"{\"+(r.length-1)+\"}\"}).replace(\"\\n\",\"\").replace(\"\\r\",\"\").split(\";\"),s=function(t){return t.replace(/^\\s*[\"']?/,\"\").replace(/[\"']?\\s*$/,\"\")},o=0,a=i.length;o<a;o++){var l=i[o].split(\"=\");if(l&&2===l.length){var h=s(l[0]),u=s(l[1]),c=[];if(\"preload\"===h)for(var f=0,p=(c=u.split(\",\")).length;f<p;f++){var d=s(c[f]);e.imageCache.add(d)}else if(\"font\"===h)for(var m=0,g=(c=u.split(\",\")).length;m<g;m++){var v=s(c[m]),y=/^\\{(\\d*?)\\}$/.exec(v);PFont.preloading.add(y?JSON.parse(\"{\"+r[y[1]]+\"}\"):v)}else\"pauseOnBlur\"===h?e.options.pauseOnBlur=\"true\"===u:\"globalKeyEvents\"===h?e.options.globalKeyEvents=\"true\"===u:\"param-\"===h.substring(0,6)?e.params[h.substring(6)]=u:e.options[h]=u}}return t}(e,n));return n.sourceCode=r,n};return t.logger=new function(t){var e={};return e.BufferMax=200,e.wrapper=t.createElement(\"div\"),e.wrapper.setAttribute(\"style\",\"opacity:.75;display:block;position:fixed;bottom:0px;left:0px;right:0px;height:50px;background-color:#aaa\"),e.dragger=t.createElement(\"div\"),e.dragger.setAttribute(\"style\",\"display:block;border:3px black raised;cursor:n-resize;position:absolute;top:0px;left:0px;right:0px;height:5px;background-color:#333\"),e.closer=t.createElement(\"div\"),e.closer.onmouseover=function(){e.closer.style.setProperty(\"background-color\",\"#ccc\")},e.closer.onmouseout=function(){e.closer.style.setProperty(\"background-color\",\"#ddd\")},e.closer.innerHTML=\"&#10006;\",e.closer.setAttribute(\"style\",\"opacity:.5;display:block;border:3px black raised;position:absolute;top:10px;right:30px;height:20px;width:20px;background-color:#ddd;color:#000;line-height:20px;text-align:center;cursor:pointer;\"),e.javaconsole=t.createElement(\"div\"),e.javaconsole.setAttribute(\"style\",\"overflow-x: auto;display:block;position:absolute;left:10px;right:0px;bottom:5px;top:10px;overflow-y:scroll;height:40px;\"),e.wrapper.appendChild(e.dragger),e.wrapper.appendChild(e.javaconsole),e.wrapper.appendChild(e.closer),e.dragger.onmousedown=function(n){e.divheight=e.wrapper.style.height,t.selection?t.selection.empty():window.getSelection().removeAllRanges();var r=n.screenY;window.onmousemove=function(t){e.wrapper.style.height=parseFloat(e.divheight)+(r-t.screenY)+\"px\",e.javaconsole.style.height=parseFloat(e.divheight)+(r-t.screenY)-10+\"px\"},window.onmouseup=function(n){t.selection?t.selection.empty():window.getSelection().removeAllRanges(),e.wrapper.style.height=parseFloat(e.divheight)+(r-n.screenY)+\"px\",e.javaconsole.style.height=parseFloat(e.divheight)+(r-n.screenY)-10+\"px\",window.onmousemove=null,window.onmouseup=null}},e.BufferArray=[],e.print=e.log=function(t){e.BufferArray[e.BufferArray.length-1]?e.BufferArray[e.BufferArray.length-1]+=t+\"\":e.BufferArray.push(t),e.javaconsole.innerHTML=e.BufferArray.join(\"\"),\"hidden\"===e.wrapper.style.visibility&&(e.wrapper.style.visibility=\"visible\"),\"hidden\"===e.wrapper.style.visibility&&(e.wrapper.style.visibility=\"visible\")},e.println=function(n){t.body.appendChild(e.wrapper),e.print(n),e.BufferArray.push(\"<br/>\"),e.javaconsole.innerHTML=e.BufferArray.join(\"\"),\"hidden\"===e.wrapper.style.visibility&&(e.wrapper.style.visibility=\"visible\"),e.BufferArray.length>e.BufferMax?e.BufferArray.splice(0,1):e.javaconsole.scrollTop=e.javaconsole.scrollHeight,\"hidden\"===e.wrapper.style.visibility&&(e.wrapper.style.visibility=\"visible\")},e.showconsole=function(){e.wrapper.style.visibility=\"visible\"},e.hideconsole=function(){e.wrapper.style.visibility=\"hidden\"},e.closer.onclick=function(){e.hideconsole()},e.hideconsole(),e}(o),t}},{}],26:[function(t,e,n){e.exports=function(t,e){var n=t.defaultScope,r=t.extend,i=t.Browser,s=i.ajax,o=i.navigator,a=i.window,l=(a.XMLHttpRequest,i.document),h=t.noop,u=n.PConstants;PFont=n.PFont,PShapeSVG=n.PShapeSVG,PVector=n.PVector,Char=Character=n.Char,ObjectIterator=n.ObjectIterator,XMLElement=n.XMLElement,XML=n.XML;var c=a.HTMLCanvasElement,f=a.HTMLImageElement,p=a.localStorage;\"document\"in this&&this.document;l.head||(l.head=l.getElementsByTagName(\"head\")[0]);var d=y(\"Float32Array\",\"WebGLFloatArray\"),m=y(\"Int32Array\",\"WebGLIntArray\"),g=y(\"Uint16Array\",\"WebGLUnsignedShortArray\"),v=y(\"Uint8Array\",\"WebGLUnsignedByteArray\");function y(t,e){return t in a?a[t]:\"function\"==typeof a[e]?a[e]:function(t){if(t instanceof Array)return t;if(\"number\"==typeof t){var e=[];return e.length=t,e}}}if(l.documentMode>=9&&!l.doctype)throw\"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>\";var b=[],w={},x=this.Processing=function(t,i,y){if(!(this instanceof x))throw\"called Processing constructor as if it were a function: missing 'new'.\";var A={},E=t===e&&i===e;if(!(\"getContext\"in(A=E?l.createElement(\"canvas\"):\"string\"==typeof t?l.getElementById(t):t)))throw\"called Processing constructor without passing canvas element reference or id.\";var S=[];function M(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent(\"on\"+e,n),S.push({elem:t,type:e,fn:n})}var _=this;_.Char=_.Character=Char,r.withCommonFunctions(_),r.withMath(_),r.withProxyFunctions(_,function(t){return Array.prototype.slice.call(t,1)}),r.withTouch(_,A,M,l,u),y&&Object.keys(y).forEach(function(t){_[t]=y[t]}),_.externals={canvas:A,context:e,sketch:e,window:a},_.name=\"Processing.js Instance\",_.use3DContext=!1,_.focused=!1,_.breakShape=!1,_.glyphTable={},_.pmouseX=0,_.pmouseY=0,_.mouseX=0,_.mouseY=0,_.mouseButton=0,_.mouseScroll=0,_.mouseClicked=e,_.mouseDragged=e,_.mouseMoved=e,_.mousePressed=e,_.mouseReleased=e,_.mouseScrolled=e,_.mouseOver=e,_.mouseOut=e,_.touchStart=e,_.touchEnd=e,_.touchMove=e,_.touchCancel=e,_.key=e,_.keyCode=e,_.keyPressed=h,_.keyReleased=h,_.keyTyped=h,_.draw=e,_.setup=e,_.__mousePressed=!1,_.__keyPressed=!1,_.__frameRate=60,_.frameCount=0,_.width=100,_.height=100;var P,C,T,R,L,I,D,O,F,N,k,B,z,V,G,$,H,U,X,j,Y,K,q,W,Z,J,Q,tt,et,nt,rt,it,st,ot,at,lt,ht,ut,ct,ft,pt,dt=!0,mt=[1,1,1,1],gt=4294967295,vt=!0,yt=!0,bt=[0,0,0,1],wt=4278190080,xt=!0,At=1,Et=!1,St=!1,Mt=!0,_t=0,Pt=u.CORNER,Ct=u.CENTER,Tt=0,Rt=0,Lt=0,It=u.NORMAL_MODE_AUTO,Dt=60,Ot=1e3/Dt,Ft=(u.ARROW,A.style.cursor),Nt=u.POLYGON,kt=0,Bt=20,zt=!1,Vt=-3355444,Gt=20,$t=255,Ht=255,Ut=255,Xt=255,jt=0,Yt=0,Kt=u.RGB,qt=null,Wt=null,Zt=Date.now(),Jt=Zt,Qt=0,te={attributes:{},locations:{}},ee={width:0,height:0},ne=u.IMAGE,re=!1,ie=u.LEFT,se=u.BASELINE,oe=u.MODEL,ae=\"Arial\",le=12,he=9,ue=2,ce=14,fe=PFont.get(ae,le),pe=null,de=!1,me=1e3,ge=[],ve=null,ye=[u.SHIFT,u.CONTROL,u.ALT,u.CAPSLK,u.PGUP,u.PGDN,u.END,u.HOME,u.LEFT,u.UP,u.RIGHT,u.DOWN,u.NUMLK,u.INSERT,u.F1,u.F2,u.F3,u.F4,u.F5,u.F6,u.F7,u.F8,u.F9,u.F10,u.F11,u.F12,u.META],be=0,we=0,xe=0,Ae=[],Ee=[],Se=[],Me=new d(u.SINCOS_LENGTH),_e=new d(u.SINCOS_LENGTH),Pe=!1,Ce=Math.PI/180*60,Te=_.width/2,Re=_.height/2,Le=Re/Math.tan(Ce/2),Ie=Le/10,De=10*Le,Oe=_.width/_.height,Fe=[],Ne=[],ke=0,Be=!1,ze=!1,Ve=!0,Ge=u.CORNER,$e=[],He=new d([.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5]),Ue=new d([.5,.5,.5,.5,-.5,.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5]),Xe=new d([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),je=new d([0,0,0,0,1,0,1,1,0,1,0,0]),Ye=new d([0,0,1,0,0,1,0,0,1,0,0,1]),Ke=\"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );\"+(/Windows/.test(o.userAgent)?\"  spotAttenuation = 1.0; \":\"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;\")+\"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );  if( nDotVP != 0.0 ) {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0 );  vec3 finalDiffuse = vec3( 0.0 );  vec3 finalSpecular = vec3( 0.0 );  vec4 col = uColor;  if ( uColor[0] == -1.0 ){    col = aColor;  }  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  if( uLightCount == 0 ) {    vFrontColor = col + vec4(uMaterialSpecular, 1.0);  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= uLightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( uUsingMat == false ) {     vFrontColor = vec4(       vec3( col ) * finalAmbient +       vec3( col ) * finalDiffuse +       vec3( col ) * finalSpecular,       col[3] );   }   else{     vFrontColor = vec4(        uMaterialEmissive +        (vec3(col) * uMaterialAmbient * finalAmbient ) +        (vec3(col) * finalDiffuse) +        (uMaterialSpecular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );}\";function qe(t,n,r,i){var s=te.locations[t];s===e&&(s=P.getUniformLocation(n,r),te.locations[t]=s),null!==s&&(4===i.length?P.uniform4fv(s,i):3===i.length?P.uniform3fv(s,i):2===i.length?P.uniform2fv(s,i):P.uniform1f(s,i))}function We(t,n,r,i){var s=te.locations[t];s===e&&(s=P.getUniformLocation(n,r),te.locations[t]=s),null!==s&&(4===i.length?P.uniform4iv(s,i):3===i.length?P.uniform3iv(s,i):2===i.length?P.uniform2iv(s,i):P.uniform1i(s,i))}function Ze(t,n,r,i,s){var o=te.locations[t];o===e&&(o=P.getUniformLocation(n,r),te.locations[t]=o),-1!==o&&(16===s.length?P.uniformMatrix4fv(o,i,s):9===s.length?P.uniformMatrix3fv(o,i,s):P.uniformMatrix2fv(o,i,s))}function Je(t,n,r,i,s){var o=te.attributes[t];o===e&&(o=P.getAttribLocation(n,r),te.attributes[t]=o),-1!==o&&(P.bindBuffer(P.ARRAY_BUFFER,s),P.vertexAttribPointer(o,i,P.FLOAT,!1,0,0),P.enableVertexAttribArray(o))}function Qe(t,n,r){var i=te.attributes[t];i===e&&(i=P.getAttribLocation(n,r),te.attributes[t]=i),-1!==i&&P.disableVertexAttribArray(i)}var tn=function(t,e,n){var r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw t.getShaderInfoLog(r);var i=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw t.getShaderInfoLog(i);var s=t.createProgram();if(t.attachShader(s,r),t.attachShader(s,i),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS))throw\"Error linking shaders.\";return s},en=function(t,e,n,r,i){return{x:t,y:e,w:n,h:r}},nn=en,rn=function(t,e,n,r,i){return{x:t,y:e,w:i?n:n-t,h:i?r:r-e}},sn=function(t,e,n,r,i){return{x:t-n/2,y:e-r/2,w:n,h:r}},on=function(){},an=function(){},ln=function(){},hn=function(){};an.prototype=new on,an.prototype.constructor=an,ln.prototype=new on,ln.prototype.constructor=ln,hn.prototype=new on,hn.prototype.constructor=hn,on.prototype.a3DOnlyFunction=h,_.shape=function(t,e,n,r,i){arguments.length>=1&&null!==arguments[0]&&t.isVisible()&&(_.pushMatrix(),Ge===u.CENTER?5===arguments.length?(_.translate(e-r/2,n-i/2),_.scale(r/t.getWidth(),i/t.getHeight())):3===arguments.length?_.translate(e-t.getWidth()/2,-t.getHeight()/2):_.translate(-t.getWidth()/2,-t.getHeight()/2):Ge===u.CORNER?5===arguments.length?(_.translate(e,n),_.scale(r/t.getWidth(),i/t.getHeight())):3===arguments.length&&_.translate(e,n):Ge===u.CORNERS&&(5===arguments.length?(r-=e,i-=n,_.translate(e,n),_.scale(r/t.getWidth(),i/t.getHeight())):3===arguments.length&&_.translate(e,n)),t.draw(_),(1===arguments.length&&Ge===u.CENTER||arguments.length>1)&&_.popMatrix())},_.shapeMode=function(t){Ge=t},_.loadShape=function(t){return 1===arguments.length&&t.indexOf(\".svg\")>-1?new PShapeSVG(null,t):null},_.loadXML=function(t){return new XML(_,t)};var un=function(t){for(var e=0,n=0;n<t.length;n++)e=0!==n?Math.max(e,Math.abs(t[n])):Math.abs(t[n]);var r=(e+\"\").indexOf(\".\");return 0===r?r=1:-1===r&&(r=(e+\"\").length),r},cn=_.PMatrix2D=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof cn?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};cn.prototype={set:function(){if(6===arguments.length){var t=arguments;this.set([t[0],t[1],t[2],t[3],t[4],t[5]])}else 1===arguments.length&&arguments[0]instanceof cn?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var t=new cn;return t.set(this.elements),t},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(t,e){this.elements[2]=t*this.elements[0]+e*this.elements[1]+this.elements[2],this.elements[5]=t*this.elements[3]+e*this.elements[4]+this.elements[5]},invTranslate:function(t,e){this.translate(-t,-e)},transpose:function(){},mult:function(t,e){var n,r;return t instanceof PVector?(n=t.x,r=t.y,e||(e=new PVector)):t instanceof Array&&(n=t[0],r=t[1],e||(e=[])),e instanceof Array?(e[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2],e[1]=this.elements[3]*n+this.elements[4]*r+this.elements[5]):e instanceof PVector&&(e.x=this.elements[0]*n+this.elements[1]*r+this.elements[2],e.y=this.elements[3]*n+this.elements[4]*r+this.elements[5],e.z=0),e},multX:function(t,e){return t*this.elements[0]+e*this.elements[1]+this.elements[2]},multY:function(t,e){return t*this.elements[3]+e*this.elements[4]+this.elements[5]},skewX:function(t){this.apply(1,0,1,t,0,0)},skewY:function(t){this.apply(1,0,1,0,t,0)},shearX:function(t){this.apply(1,0,1,Math.tan(t),0,0)},shearY:function(t){this.apply(1,0,1,0,Math.tan(t),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var t=this.determinant();if(Math.abs(t)>u.MIN_INT){var e=this.elements[0],n=this.elements[1],r=this.elements[2],i=this.elements[3],s=this.elements[4],o=this.elements[5];return this.elements[0]=s/t,this.elements[3]=-i/t,this.elements[1]=-n/t,this.elements[4]=e/t,this.elements[2]=(n*o-s*r)/t,this.elements[5]=(i*r-e*o)/t,!0}return!1},scale:function(t,e){t&&!e&&(e=t),t&&e&&(this.elements[0]*=t,this.elements[1]*=e,this.elements[3]*=t,this.elements[4]*=e)},invScale:function(t,e){t&&!e&&(e=t),this.scale(1/t,1/e)},apply:function(){var t;1===arguments.length&&arguments[0]instanceof cn?t=arguments[0].array():6===arguments.length?t=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(t=arguments[0]);for(var e=[0,0,this.elements[2],0,0,this.elements[5]],n=0,r=0;r<2;r++)for(var i=0;i<3;i++,n++)e[n]+=this.elements[3*r+0]*t[i+0]+this.elements[3*r+1]*t[i+3];this.elements=e.slice()},preApply:function(){var t;1===arguments.length&&arguments[0]instanceof cn?t=arguments[0].array():6===arguments.length?t=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(t=arguments[0]);var e=[0,0,t[2],0,0,t[5]];e[2]=t[2]+this.elements[2]*t[0]+this.elements[5]*t[1],e[5]=t[5]+this.elements[2]*t[3]+this.elements[5]*t[4],e[0]=this.elements[0]*t[0]+this.elements[3]*t[1],e[3]=this.elements[0]*t[3]+this.elements[3]*t[4],e[1]=this.elements[1]*t[0]+this.elements[4]*t[1],e[4]=this.elements[1]*t[3]+this.elements[4]*t[4],this.elements=e.slice()},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=this.elements[0],i=this.elements[1];this.elements[0]=e*r+n*i,this.elements[1]=-n*r+e*i,r=this.elements[3],i=this.elements[4],this.elements[3]=e*r+n*i,this.elements[4]=-n*r+e*i},rotateZ:function(t){this.rotate(t)},invRotateZ:function(t){this.rotateZ(t-Math.PI)},print:function(){var t=un(this.elements),e=_.nfs(this.elements[0],t,4)+\" \"+_.nfs(this.elements[1],t,4)+\" \"+_.nfs(this.elements[2],t,4)+\"\\n\"+_.nfs(this.elements[3],t,4)+\" \"+_.nfs(this.elements[4],t,4)+\" \"+_.nfs(this.elements[5],t,4)+\"\\n\\n\";_.println(e)}};var fn=_.PMatrix3D=function(){this.reset()};fn.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof fn?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var t=new fn;return t.set(this.elements),t},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(t,n,r){r===e&&(r=0),this.elements[3]+=t*this.elements[0]+n*this.elements[1]+r*this.elements[2],this.elements[7]+=t*this.elements[4]+n*this.elements[5]+r*this.elements[6],this.elements[11]+=t*this.elements[8]+n*this.elements[9]+r*this.elements[10],this.elements[15]+=t*this.elements[12]+n*this.elements[13]+r*this.elements[14]},transpose:function(){var t=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=t,t=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=t,t=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=t,t=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=t,t=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=t,t=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=t},mult:function(t,e){var n,r,i,s;return t instanceof PVector?(n=t.x,r=t.y,i=t.z,s=1,e||(e=new PVector)):t instanceof Array&&(n=t[0],r=t[1],i=t[2],s=t[3]||1,(!e||3!==e.length&&4!==e.length)&&(e=[0,0,0])),e instanceof Array&&(3===e.length?(e[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3],e[1]=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7],e[2]=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]):4===e.length&&(e[0]=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3]*s,e[1]=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7]*s,e[2]=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]*s,e[3]=this.elements[12]*n+this.elements[13]*r+this.elements[14]*i+this.elements[15]*s)),e instanceof PVector&&(e.x=this.elements[0]*n+this.elements[1]*r+this.elements[2]*i+this.elements[3],e.y=this.elements[4]*n+this.elements[5]*r+this.elements[6]*i+this.elements[7],e.z=this.elements[8]*n+this.elements[9]*r+this.elements[10]*i+this.elements[11]),e},preApply:function(){var t;1===arguments.length&&arguments[0]instanceof fn?t=arguments[0].array():16===arguments.length?t=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(t=arguments[0]);for(var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,r=0;r<4;r++)for(var i=0;i<4;i++,n++)e[n]+=this.elements[i+0]*t[4*r+0]+this.elements[i+4]*t[4*r+1]+this.elements[i+8]*t[4*r+2]+this.elements[i+12]*t[4*r+3];this.elements=e.slice()},apply:function(){var t;1===arguments.length&&arguments[0]instanceof fn?t=arguments[0].array():16===arguments.length?t=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(t=arguments[0]);for(var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,r=0;r<4;r++)for(var i=0;i<4;i++,n++)e[n]+=this.elements[4*r+0]*t[i+0]+this.elements[4*r+1]*t[i+4]+this.elements[4*r+2]*t[i+8]+this.elements[4*r+3]*t[i+12];this.elements=e.slice()},rotate:function(t,e,n,r){if(arguments.length<4)this.rotateZ(t);else{var i=new PVector(e,n,r),s=i.mag();if(0===s)return;1!=s&&(i.normalize(),e=i.x,n=i.y,r=i.z);var o=_.cos(t),a=_.sin(t),l=1-o;this.apply(l*e*e+o,l*e*n-a*r,l*e*r+a*n,0,l*e*n+a*r,l*n*n+o,l*n*r-a*e,0,l*e*r-a*n,l*n*r+a*e,l*r*r+o,0,0,0,0,1)}},invApply:function(){ft===e&&(ft=new fn);var t=arguments;return ft.set(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),!!ft.invert()&&(this.preApply(ft),!0)},rotateX:function(t){var e=_.cos(t),n=_.sin(t);this.apply([1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1])},rotateY:function(t){var e=_.cos(t),n=_.sin(t);this.apply([e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1])},rotateZ:function(t){var e=Math.cos(t),n=Math.sin(t);this.apply([e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1])},scale:function(t,e,n){!t||e||n?t&&e&&!n&&(n=1):e=n=t,t&&e&&n&&(this.elements[0]*=t,this.elements[1]*=e,this.elements[2]*=n,this.elements[4]*=t,this.elements[5]*=e,this.elements[6]*=n,this.elements[8]*=t,this.elements[9]*=e,this.elements[10]*=n,this.elements[12]*=t,this.elements[13]*=e,this.elements[14]*=n)},skewX:function(t){var e=Math.tan(t);this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(t){var e=Math.tan(t);this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(t){var e=Math.tan(t);this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(t){var e=Math.tan(t);this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},multX:function(t,e,n,r){return n?r?this.elements[0]*t+this.elements[1]*e+this.elements[2]*n+this.elements[3]*r:this.elements[0]*t+this.elements[1]*e+this.elements[2]*n+this.elements[3]:this.elements[0]*t+this.elements[1]*e+this.elements[3]},multY:function(t,e,n,r){return n?r?this.elements[4]*t+this.elements[5]*e+this.elements[6]*n+this.elements[7]*r:this.elements[4]*t+this.elements[5]*e+this.elements[6]*n+this.elements[7]:this.elements[4]*t+this.elements[5]*e+this.elements[7]},multZ:function(t,e,n,r){return r?this.elements[8]*t+this.elements[9]*e+this.elements[10]*n+this.elements[11]*r:this.elements[8]*t+this.elements[9]*e+this.elements[10]*n+this.elements[11]},multW:function(t,e,n,r){return r?this.elements[12]*t+this.elements[13]*e+this.elements[14]*n+this.elements[15]*r:this.elements[12]*t+this.elements[13]*e+this.elements[14]*n+this.elements[15]},invert:function(){var t=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],e=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],n=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],r=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],i=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],s=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],o=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],a=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],l=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],h=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],u=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],c=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],f=t*c-e*u+n*h+r*l-i*a+s*o;if(Math.abs(f)<=1e-9)return!1;var p=[];p[0]=+this.elements[5]*c-this.elements[6]*u+this.elements[7]*h,p[4]=-this.elements[4]*c+this.elements[6]*l-this.elements[7]*a,p[8]=+this.elements[4]*u-this.elements[5]*l+this.elements[7]*o,p[12]=-this.elements[4]*h+this.elements[5]*a-this.elements[6]*o,p[1]=-this.elements[1]*c+this.elements[2]*u-this.elements[3]*h,p[5]=+this.elements[0]*c-this.elements[2]*l+this.elements[3]*a,p[9]=-this.elements[0]*u+this.elements[1]*l-this.elements[3]*o,p[13]=+this.elements[0]*h-this.elements[1]*a+this.elements[2]*o,p[2]=+this.elements[13]*s-this.elements[14]*i+this.elements[15]*r,p[6]=-this.elements[12]*s+this.elements[14]*n-this.elements[15]*e,p[10]=+this.elements[12]*i-this.elements[13]*n+this.elements[15]*t,p[14]=-this.elements[12]*r+this.elements[13]*e-this.elements[14]*t,p[3]=-this.elements[9]*s+this.elements[10]*i-this.elements[11]*r,p[7]=+this.elements[8]*s-this.elements[10]*n+this.elements[11]*e,p[11]=-this.elements[8]*i+this.elements[9]*n-this.elements[11]*t,p[15]=+this.elements[8]*r-this.elements[9]*e+this.elements[10]*t;var d=1/f;return p[0]*=d,p[1]*=d,p[2]*=d,p[3]*=d,p[4]*=d,p[5]*=d,p[6]*=d,p[7]*=d,p[8]*=d,p[9]*=d,p[10]*=d,p[11]*=d,p[12]*=d,p[13]*=d,p[14]*=d,p[15]*=d,this.elements=p.slice(),!0},toString:function(){for(var t=\"\",e=0;e<15;e++)t+=this.elements[e]+\", \";return t+=this.elements[15]},print:function(){var t=un(this.elements),e=_.nfs(this.elements[0],t,4)+\" \"+_.nfs(this.elements[1],t,4)+\" \"+_.nfs(this.elements[2],t,4)+\" \"+_.nfs(this.elements[3],t,4)+\"\\n\"+_.nfs(this.elements[4],t,4)+\" \"+_.nfs(this.elements[5],t,4)+\" \"+_.nfs(this.elements[6],t,4)+\" \"+_.nfs(this.elements[7],t,4)+\"\\n\"+_.nfs(this.elements[8],t,4)+\" \"+_.nfs(this.elements[9],t,4)+\" \"+_.nfs(this.elements[10],t,4)+\" \"+_.nfs(this.elements[11],t,4)+\"\\n\"+_.nfs(this.elements[12],t,4)+\" \"+_.nfs(this.elements[13],t,4)+\" \"+_.nfs(this.elements[14],t,4)+\" \"+_.nfs(this.elements[15],t,4)+\"\\n\\n\";_.println(e)},invTranslate:function(t,e,n){this.preApply(1,0,0,-t,0,1,0,-e,0,0,1,-n,0,0,0,1)},invRotateX:function(t){var e=Math.cos(-t),n=Math.sin(-t);this.preApply([1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1])},invRotateY:function(t){var e=Math.cos(-t),n=Math.sin(-t);this.preApply([e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1])},invRotateZ:function(t){var e=Math.cos(-t),n=Math.sin(-t);this.preApply([e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1])},invScale:function(t,e,n){this.preApply([1/t,0,0,0,0,1/e,0,0,0,0,1/n,0,0,0,0,1])}};var pn=_.PMatrixStack=function(){this.matrixStack=[]};function dn(t,e,n,r){var i,s,o,a;if(Kt===u.HSB){var l=_.color.toRGB(t,e,n);i=l[0],s=l[1],o=l[2]}else i=Math.round(t/Ht*255),s=Math.round(e/Ut*255),o=Math.round(n/Xt*255);return a=Math.round(r/$t*255),i=i<0?0:i,s=s<0?0:s,o=o<0?0:o,a=a<0?0:a,i=i>255?255:i,s=s>255?255:s,o=o>255?255:o,(a=a>255?255:a)<<24&u.ALPHA_MASK|i<<16&u.RED_MASK|s<<8&u.GREEN_MASK|o&u.BLUE_MASK}function mn(t){var e,n,r;e=((t&u.RED_MASK)>>>16)/255,n=((t&u.GREEN_MASK)>>>8)/255,r=(t&u.BLUE_MASK)/255;var i,s=_.max(_.max(e,n),r),o=_.min(_.min(e,n),r);return o===s?[0,0,s*Xt]:(i=e===s?(n-r)/(s-o):n===s?2+(r-e)/(s-o):4+(e-n)/(s-o),(i/=6)<0?i+=1:i>1&&(i-=1),[i*Ht,(s-o)/s*Ut,s*Xt])}function gn(){P.save()}function vn(){P.restore(),xt=!0,vt=!0}function yn(){var t=(Date.now()-Jt)/1e3,e=++Qt/t;t>.5&&(Jt=Date.now(),Qt=0,_.__frameRate=e),_.frameCount++}pn.prototype.load=function(){var t=T.$newPMatrix();1===arguments.length?t.set(arguments[0]):t.set(arguments),this.matrixStack.push(t)},an.prototype.$newPMatrix=function(){return new cn},ln.prototype.$newPMatrix=function(){return new fn},pn.prototype.push=function(){this.matrixStack.push(this.peek())},pn.prototype.pop=function(){return this.matrixStack.pop()},pn.prototype.peek=function(){var t=T.$newPMatrix();return t.set(this.matrixStack[this.matrixStack.length-1]),t},pn.prototype.mult=function(t){this.matrixStack[this.matrixStack.length-1].apply(t)},_.split=function(t,e){return t.split(e)},_.splitTokens=function(t,n){if(n===e)return t.split(/\\s+/g);var r,i,s=n.split(/()/g),o=\"\",a=t.length,l=[];for(r=0;r<a;r++)i=t[r],s.indexOf(i)>-1?(\"\"!==o&&l.push(o),o=\"\"):o+=i;return\"\"!==o&&l.push(o),l},_.append=function(t,e){return t[t.length]=e,t},_.concat=function(t,e){return t.concat(e)},_.sort=function(t,e){var n=[];if(t.length>0){for(var r=e>0?e:t.length,i=0;i<r;i++)n.push(t[i]);if(\"string\"==typeof t[0]?n.sort():n.sort(function(t,e){return t-e}),e>0)for(var s=n.length;s<t.length;s++)n.push(t[s])}return n},_.splice=function(t,e,n){if(0===e.length)return t;if(e instanceof Array)for(var r=0,i=n;r<e.length;i++,r++)t.splice(i,0,e[r]);else t.splice(n,0,e);return t},_.subset=function(t,n,r){var i=r!==e?n+r:t.length;return t.slice(n,i)},_.join=function(t,e){return t.join(e)},_.shorten=function(t){for(var e=[],n=t.length,r=0;r<n;r++)e[r]=t[r];return e.pop(),e},_.expand=function(t,e){var n=t.slice(0),r=e||2*t.length;return n.length=r,n},_.arrayCopy=function(){var t,n,r,i=0,s=0;2===arguments.length?(t=arguments[0],n=arguments[1],r=t.length):3===arguments.length?(t=arguments[0],n=arguments[1],r=arguments[2]):5===arguments.length&&(t=arguments[0],i=arguments[1],n=arguments[2],s=arguments[3],r=arguments[4]);for(var o=i,a=s;o<r+i;o++,a++){if(n[a]===e)throw\"array index out of bounds exception\";n[a]=t[o]}},_.reverse=function(t){return t.reverse()},_.mix=function(t,e,n){return t+((e-t)*n>>8)},_.peg=function(t){return t<0?0:t>255?255:t},_.modes=function(){var t=u.ALPHA_MASK,e=u.RED_MASK,n=u.GREEN_MASK,r=u.BLUE_MASK,i=Math.min,s=Math.max;function o(t,e,n,r,s,o,a,l,h,u,c){var f=n+((h-n)*e>>8),p=r+((u-r)*e>>8),d=s+((c-s)*e>>8);return i(((4278190080&t)>>>24)+e,255)<<24|(f=(f<0?0:f>255?255:f)<<16)|(p=(p<0?0:p>255?255:p)<<8)|(d=d<0?0:d>255?255:d)}return{replace:function(t,e){return e},blend:function(s,o){var a=(o&t)>>>24,l=s&e,h=s&n,u=s&r,c=o&e,f=o&n,p=o&r;return i(((s&t)>>>24)+a,255)<<24|l+((c-l)*a>>8)&e|h+((f-h)*a>>8)&n|u+((p-u)*a>>8)&r},add:function(s,o){var a=(o&t)>>>24;return i(((s&t)>>>24)+a,255)<<24|i((s&e)+((o&e)>>8)*a,e)&e|i((s&n)+((o&n)>>8)*a,n)&n|i((s&r)+((o&r)*a>>8),r)},subtract:function(o,a){var l=(a&t)>>>24;return i(((o&t)>>>24)+l,255)<<24|s((o&e)-((a&e)>>8)*l,n)&e|s((o&n)-((a&n)>>8)*l,r)&n|s((o&r)-((a&r)*l>>8),0)},lightest:function(o,a){var l=(a&t)>>>24;return i(((o&t)>>>24)+l,255)<<24|s(o&e,((a&e)>>8)*l)&e|s(o&n,((a&n)>>8)*l)&n|s(o&r,(a&r)*l>>8)},darkest:function(s,o){var a=(o&t)>>>24,l=s&e,h=s&n,u=s&r,c=i(s&e,((o&e)>>8)*a),f=i(s&n,((o&n)>>8)*a),p=i(s&r,(o&r)*a>>8);return i(((s&t)>>>24)+a,255)<<24|l+((c-l)*a>>8)&e|h+((f-h)*a>>8)&n|u+((p-u)*a>>8)&r},difference:function(i,s){var a=(i&e)>>16,l=(i&n)>>8,h=i&r,u=(s&e)>>16,c=(s&n)>>8,f=s&r;return o(i,(s&t)>>>24,a,l,h,0,0,0,a>u?a-u:u-a,l>c?l-c:c-l,h>f?h-f:f-h)},exclusion:function(i,s){var a=(i&e)>>16,l=(i&n)>>8,h=i&r,u=(s&e)>>16,c=(s&n)>>8,f=s&r;return o(i,(s&t)>>>24,a,l,h,0,0,0,a+u-(a*u>>7),l+c-(l*c>>7),h+f-(h*f>>7))},multiply:function(i,s){var a=(i&e)>>16,l=(i&n)>>8,h=i&r,u=(s&e)>>16,c=(s&n)>>8,f=s&r;return o(i,(s&t)>>>24,a,l,h,0,0,0,a*u>>8,l*c>>8,h*f>>8)},screen:function(i,s){var a=(i&e)>>16,l=(i&n)>>8,h=i&r,u=(s&e)>>16,c=(s&n)>>8,f=s&r;return o(i,(s&t)>>>24,a,l,h,0,0,0,255-((255-a)*(255-u)>>8),255-((255-l)*(255-c)>>8),255-((255-h)*(255-f)>>8))},hard_light:function(i,s){var a=(i&e)>>16,l=(i&n)>>8,h=i&r,u=(s&e)>>16,c=(s&n)>>8,f=s&r;return o(i,(s&t)>>>24,a,l,h,0,0,0,u<128?a*u>>7:255-((255-a)*(255-u)>>7),c<128?l*c>>7:255-((255-l)*(255-c)>>7),f<128?h*f>>7:255-((255-h)*(255-f)>>7))},soft_light:function(i,s){var a=(i&e)>>16,l=(i&n)>>8,h=i&r,u=(s&e)>>16,c=(s&n)>>8,f=s&r;return o(i,(s&t)>>>24,a,l,h,0,0,0,(a*u>>7)+(a*a>>8)-(a*a*u>>15),(l*c>>7)+(l*l>>8)-(l*l*c>>15),(h*f>>7)+(h*h>>8)-(h*h*f>>15))},overlay:function(i,s){var a=(i&e)>>16,l=(i&n)>>8,h=i&r,u=(s&e)>>16,c=(s&n)>>8,f=s&r;return o(i,(s&t)>>>24,a,l,h,0,0,0,a<128?a*u>>7:255-((255-a)*(255-u)>>7),l<128?l*c>>7:255-((255-l)*(255-c)>>7),h<128?h*f>>7:255-((255-h)*(255-f)>>7))},dodge:function(i,s){var a=(i&e)>>16,l=(i&n)>>8,h=i&r,u=(s&e)>>16,c=(s&n)>>8,f=s&r,p=255;255!==u&&(p=(p=(a<<8)/(255-u))<0?0:p>255?255:p);var d=255;255!==c&&(d=(d=(l<<8)/(255-c))<0?0:d>255?255:d);var m=255;return 255!==f&&(m=(m=(h<<8)/(255-f))<0?0:m>255?255:m),o(i,(s&t)>>>24,a,l,h,0,0,0,p,d,m)},burn:function(i,s){var a=(i&e)>>16,l=(i&n)>>8,h=i&r,u=(s&e)>>16,c=(s&n)>>8,f=s&r,p=0;0!==u&&(p=255-((p=(255-a<<8)/u)<0?0:p>255?255:p));var d=0;0!==c&&(d=255-((d=(255-l<<8)/c)<0?0:d>255?255:d));var m=0;return 0!==f&&(m=255-((m=(255-h<<8)/f)<0?0:m>255?255:m)),o(i,(s&t)>>>24,a,l,h,0,0,0,p,d,m)}}}(),_.color=function(t,n,r,i){return t!==e&&n!==e&&r!==e&&i!==e?dn(t,n,r,i):t!==e&&n!==e&&r!==e?dn(t,n,r,$t):t!==e&&n!==e?function(t,e){var n;return t&u.ALPHA_MASK?(n=(n=(n=Math.round(e/$t*255))>255?255:n)<0?0:n,t-(t&u.ALPHA_MASK)+(n<<24&u.ALPHA_MASK)):Kt===u.RGB?dn(t,t,t,e):Kt===u.HSB?dn(0,0,t/Ht*Xt,e):void 0}(t,n):\"number\"==typeof t?function(t){if(t<=Ht&&t>=0){if(Kt===u.RGB)return dn(t,t,t,$t);if(Kt===u.HSB)return dn(0,0,t/Ht*Xt,$t)}if(t)return t>2147483647&&(t-=4294967296),t}(t):dn(Ht,Ut,Xt,$t)},_.color.toString=function(t){return\"rgba(\"+((t&u.RED_MASK)>>>16)+\",\"+((t&u.GREEN_MASK)>>>8)+\",\"+(t&u.BLUE_MASK)+\",\"+((t&u.ALPHA_MASK)>>>24)/255+\")\"},_.color.toInt=function(t,e,n,r){return r<<24&u.ALPHA_MASK|t<<16&u.RED_MASK|e<<8&u.GREEN_MASK|n&u.BLUE_MASK},_.color.toArray=function(t){return[(t&u.RED_MASK)>>>16,(t&u.GREEN_MASK)>>>8,t&u.BLUE_MASK,(t&u.ALPHA_MASK)>>>24]},_.color.toGLArray=function(t){return[((t&u.RED_MASK)>>>16)/255,((t&u.GREEN_MASK)>>>8)/255,(t&u.BLUE_MASK)/255,((t&u.ALPHA_MASK)>>>24)/255]},_.color.toRGB=function(t,e,n){t=(t=t>Ht?Ht:t)/Ht*360,e=(e=e>Ut?Ut:e)/Ut*100,n=(n=n>Xt?Xt:n)/Xt*100;var r=Math.round(n/100*255);if(0===e)return[r,r,r];var i=t%360,s=i%60,o=Math.round(n*(100-e)/1e4*255),a=Math.round(n*(6e3-e*s)/6e5*255),l=Math.round(n*(6e3-e*(60-s))/6e5*255);switch(Math.floor(i/60)){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}},_.brightness=function(t){return mn(t)[2]},_.saturation=function(t){return mn(t)[1]},_.hue=function(t){return mn(t)[0]},_.red=function(t){return((t&u.RED_MASK)>>>16)/255*Ht},_.green=function(t){return((t&u.GREEN_MASK)>>>8)/255*Ut},_.blue=function(t){return(t&u.BLUE_MASK)/255*Xt},_.alpha=function(t){return((t&u.ALPHA_MASK)>>>24)/255*$t},_.lerpColor=function(t,e,n){var r,i,s,o,a,l,h,c,f,p,d,m,g,v,y,b,w=_.color(t),x=_.color(e);return Kt===u.HSB?(m=mn(w),h=((w&u.ALPHA_MASK)>>>24)/$t,g=mn(x),d=((x&u.ALPHA_MASK)>>>24)/$t,y=_.lerp(m[0],g[0],n),b=_.lerp(m[1],g[1],n),s=_.lerp(m[2],g[2],n),v=_.color.toRGB(y,b,s),_.lerp(h,d,n)*$t<<24&u.ALPHA_MASK|v[0]<<16&u.RED_MASK|v[1]<<8&u.GREEN_MASK|v[2]&u.BLUE_MASK):(o=(w&u.RED_MASK)>>>16,a=(w&u.GREEN_MASK)>>>8,l=w&u.BLUE_MASK,h=((w&u.ALPHA_MASK)>>>24)/$t,c=(x&u.RED_MASK)>>>16,f=(x&u.GREEN_MASK)>>>8,p=x&u.BLUE_MASK,d=((x&u.ALPHA_MASK)>>>24)/$t,r=0|_.lerp(o,c,n),i=0|_.lerp(a,f,n),s=0|_.lerp(l,p,n),_.lerp(h,d,n)*$t<<24&u.ALPHA_MASK|r<<16&u.RED_MASK|i<<8&u.GREEN_MASK|s&u.BLUE_MASK)},_.colorMode=function(){Kt=arguments[0],arguments.length>1&&(Ht=arguments[1],Ut=arguments[2]||arguments[1],Xt=arguments[3]||arguments[1],$t=arguments[4]||arguments[1])},_.blendColor=function(t,e,n){return n===u.REPLACE?_.modes.replace(t,e):n===u.BLEND?_.modes.blend(t,e):n===u.ADD?_.modes.add(t,e):n===u.SUBTRACT?_.modes.subtract(t,e):n===u.LIGHTEST?_.modes.lightest(t,e):n===u.DARKEST?_.modes.darkest(t,e):n===u.DIFFERENCE?_.modes.difference(t,e):n===u.EXCLUSION?_.modes.exclusion(t,e):n===u.MULTIPLY?_.modes.multiply(t,e):n===u.SCREEN?_.modes.screen(t,e):n===u.HARD_LIGHT?_.modes.hard_light(t,e):n===u.SOFT_LIGHT?_.modes.soft_light(t,e):n===u.OVERLAY?_.modes.overlay(t,e):n===u.DODGE?_.modes.dodge(t,e):n===u.BURN?_.modes.burn(t,e):void 0},_.printMatrix=function(){lt.print()},an.prototype.translate=function(t,e){lt.translate(t,e),ht.invTranslate(t,e),P.translate(t,e)},ln.prototype.translate=function(t,e,n){lt.translate(t,e,n),ht.invTranslate(t,e,n)},an.prototype.scale=function(t,e){lt.scale(t,e),ht.invScale(t,e),P.scale(t,e||t)},ln.prototype.scale=function(t,e,n){lt.scale(t,e,n),ht.invScale(t,e,n)},an.prototype.transform=function(t){var e=t.array();P.transform(e[0],e[3],e[1],e[4],e[2],e[5])},ln.prototype.transformm=function(t){throw\"p.transform is currently not supported in 3D mode\"},an.prototype.pushMatrix=function(){ut.load(lt),ct.load(ht),gn()},ln.prototype.pushMatrix=function(){ut.load(lt),ct.load(ht)},an.prototype.popMatrix=function(){lt.set(ut.pop()),ht.set(ct.pop()),vn()},ln.prototype.popMatrix=function(){lt.set(ut.pop()),ht.set(ct.pop())},an.prototype.resetMatrix=function(){lt.reset(),ht.reset(),P.setTransform(1,0,0,1,0,0)},ln.prototype.resetMatrix=function(){lt.reset(),ht.reset()},on.prototype.applyMatrix=function(){var t=arguments;lt.apply(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),ht.invApply(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},an.prototype.applyMatrix=function(){for(var t=arguments,e=t.length;e<16;e++)t[e]=0;t[10]=t[15]=1,on.prototype.applyMatrix.apply(this,t)},_.rotateX=function(t){lt.rotateX(t),ht.invRotateX(t)},an.prototype.rotateZ=function(){throw\"rotateZ() is not supported in 2D mode. Use rotate(float) instead.\"},ln.prototype.rotateZ=function(t){lt.rotateZ(t),ht.invRotateZ(t)},_.rotateY=function(t){lt.rotateY(t),ht.invRotateY(t)},an.prototype.rotate=function(t){lt.rotateZ(t),ht.invRotateZ(t),P.rotate(t)},ln.prototype.rotate=function(t){arguments.length<4?_.rotateZ(t):(lt.rotate(t,arguments[1],arguments[2],arguments[3]),ht.rotate(-t,arguments[1],arguments[2],arguments[3]))},an.prototype.shearX=function(t){lt.shearX(t),P.transform(1,0,t,1,0,0)},ln.prototype.shearX=function(t){lt.shearX(t)},an.prototype.shearY=function(t){lt.shearY(t),P.transform(1,t,0,1,0,0)},ln.prototype.shearY=function(t){lt.shearY(t)},_.pushStyle=function(){gn(),_.pushMatrix();var t={doFill:dt,currentFillColor:gt,doStroke:yt,currentStrokeColor:wt,curTint:qt,curRectMode:Pt,curColorMode:Kt,colorModeX:Ht,colorModeZ:Xt,colorModeY:Ut,colorModeA:$t,curTextFont:fe,horizontalTextAlignment:ie,verticalTextAlignment:se,textMode:oe,curFontName:ae,curTextSize:le,curTextAscent:he,curTextDescent:ue,curTextLeading:ce};$e.push(t)},_.popStyle=function(){var t=$e.pop();if(!t)throw\"Too many popStyle() without enough pushStyle()\";vn(),_.popMatrix(),dt=t.doFill,gt=t.currentFillColor,yt=t.doStroke,wt=t.currentStrokeColor,qt=t.curTint,Pt=t.curRectMode,Kt=t.curColorMode,Ht=t.colorModeX,Xt=t.colorModeZ,Ut=t.colorModeY,$t=t.colorModeA,fe=t.curTextFont,ae=t.curFontName,le=t.curTextSize,ie=t.horizontalTextAlignment,se=t.verticalTextAlignment,oe=t.textMode,he=t.curTextAscent,ue=t.curTextDescent,ce=t.curTextLeading},_.year=function(){return(new Date).getFullYear()},_.month=function(){return(new Date).getMonth()+1},_.day=function(){return(new Date).getDate()},_.hour=function(){return(new Date).getHours()},_.minute=function(){return(new Date).getMinutes()},_.second=function(){return(new Date).getSeconds()},_.millis=function(){return Date.now()-Zt},an.prototype.redraw=function(){yn(),P.lineWidth=At;var t=_.pmouseX,e=_.pmouseY;_.pmouseX=jt,_.pmouseY=Yt,gn(),_.draw(),vn(),jt=_.mouseX,Yt=_.mouseY,_.pmouseX=t,_.pmouseY=e},ln.prototype.redraw=function(){yn();var t=_.pmouseX,e=_.pmouseY;_.pmouseX=jt,_.pmouseY=Yt,P.clear(P.DEPTH_BUFFER_BIT),te={attributes:{},locations:{}},_.noLights(),_.lightFalloff(1,0,0),_.shininess(1),_.ambient(255,255,255),_.specular(0,0,0),_.emissive(0,0,0),_.camera(),_.draw(),jt=_.mouseX,Yt=_.mouseY,_.pmouseX=t,_.pmouseY=e},_.noLoop=function(){Mt=!1,Et=!1,clearInterval(_t),C.onPause()},_.loop=function(){Et||(Jt=Date.now(),Qt=0,_t=a.setInterval(function(){try{C.onFrameStart(),_.redraw(),C.onFrameEnd()}catch(t){throw a.clearInterval(_t),t}},Ot),Mt=!0,Et=!0,C.onLoop())},_.frameRate=function(t){Ot=1e3/(Dt=t),Mt&&(_.noLoop(),_.loop())},_.exit=function(){var t;for(var e in a.clearInterval(_t),t=_.externals.canvas.id,b.splice(w[t],1),delete w[t],delete A.onmousedown,x.lib)x.lib.hasOwnProperty(e)&&x.lib[e].hasOwnProperty(\"detach\")&&x.lib[e].detach(_);for(var n,r,i,s,o=S.length;o--;)n=S[o],r=void 0,void 0,void 0,r=n.elem,i=n.type,s=n.fn,r.removeEventListener?r.removeEventListener(i,s,!1):r.detachEvent&&r.detachEvent(\"on\"+i,s);C.onExit()},_.cursor=function(){if(arguments.length>1||1===arguments.length&&arguments[0]instanceof _.PImage){var t,e,n=arguments[0];if(arguments.length>=3){if(t=arguments[1],e=arguments[2],t<0||e<0||e>=n.height||t>=n.width)throw\"x and y must be non-negative and less than the dimensions of the image\"}else t=n.width>>>1,e=n.height>>>1;var r='url(\"'+n.toDataURL()+'\") '+t+\" \"+e+\", default\";A.style.cursor=r}else if(1===arguments.length){var i=arguments[0];A.style.cursor=i}else A.style.cursor=Ft},_.noCursor=function(){A.style.cursor=u.NOCURSOR},_.link=function(t,n){n!==e?a.open(t,n):a.location=t},_.beginDraw=h,_.endDraw=h,an.prototype.toImageData=function(t,n,r,i){return t=t!==e?t:0,n=n!==e?n:0,r=r!==e?r:_.width,i=i!==e?i:_.height,P.getImageData(t,n,r,i)},ln.prototype.toImageData=function(t,n,r,i){t=t!==e?t:0,n=n!==e?n:0,r=r!==e?r:_.width,i=i!==e?i:_.height;var s=l.createElement(\"canvas\").getContext(\"2d\").createImageData(r,i),o=new v(r*i*4);P.readPixels(t,n,r,i,P.RGBA,P.UNSIGNED_BYTE,o);for(var a=0,h=o.length,u=s.data;a<h;a++)u[a]=o[(i-1-Math.floor(a/4/r))*r*4+a%(4*r)];return s},_.status=function(t){a.status=t},_.binary=function(t,e){var n;if(e>0)n=e;else if(t instanceof Char)n=16,t|=0;else for(n=32;n>1&&!(t>>>n-1&1);)n--;for(var r=\"\";n>0;)r+=t>>>--n&1?\"1\":\"0\";return r},_.unbinary=function(t){for(var e=t.length-1,n=1,r=0;e>=0;){var i=t[e--];if(\"0\"!==i&&\"1\"!==i)throw\"the value passed into unbinary was not an 8 bit binary number\";\"1\"===i&&(r+=n),n<<=1}return r};function bn(t){var e=parseInt(\"0x\"+t,16);return e>2147483647&&(e-=4294967296),e}_.hex=function(t,n){return 1===arguments.length&&(n=t instanceof Char?4:8),function(t,n){n=n===e||null===n?n=8:n,t<0&&(t=4294967295+t+1);for(var r=Number(t).toString(16).toUpperCase();r.length<n;)r=\"0\"+r;return r.length>=n&&(r=r.substring(r.length-n,r.length)),r}(t,n)},_.unhex=function(t){if(t instanceof Array){for(var e=[],n=0;n<t.length;n++)e.push(bn(t[n]));return e}return bn(t)},_.loadStrings=function(t){if(p[t])return p[t].split(\"\\n\");var e=s(t);return\"string\"!=typeof e||\"\"===e?[]:(e=e.replace(/(\\r\\n?)/g,\"\\n\").replace(/\\n$/,\"\")).split(\"\\n\")},_.saveStrings=function(t,e){p[t]=e.join(\"\\n\")},_.loadBytes=function(t){for(var e=s(t),n=[],r=0;r<e.length;r++)n.push(e.charCodeAt(r));return n},_.matchAll=function(t,e){for(var n,r=[],i=new RegExp(e,\"g\");null!==(n=i.exec(t));)r.push(n),0===n[0].length&&++i.lastIndex;return r.length>0?r:null},_.match=function(t,e){return t.match(e)};var wn;function xn(t){return\"number\"==typeof t?0!==t:\"boolean\"==typeof t?t:\"string\"==typeof t?\"true\"===t.toLowerCase():t instanceof Char?49===t.code||84===t.code||116===t.code:void 0}function An(t){return\"number\"==typeof t?t:\"boolean\"==typeof t?t?1:0:\"string\"==typeof t?parseFloat(t):t instanceof Char?t.code:void 0}function En(t,e){return\"number\"==typeof t?4294967295&t:\"boolean\"==typeof t?t?1:0:\"string\"==typeof t?4294967295&parseInt(t,e||10):t instanceof Char?t.code:void 0}_.println=function(t){x.logger.println(t)},_.print=function(t){x.logger.print(t)},_.str=function(t){if(t instanceof Array){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString()+\"\");return e}return t.toString()+\"\"},_.parseBoolean=function(t){if(t instanceof Array){for(var e=[],n=0;n<t.length;n++)e.push(xn(t[n]));return e}return xn(t)},_.parseByte=function(t){if(t instanceof Array){for(var e=[],n=0;n<t.length;n++)e.push(0-(128&t[n])|127&t[n]);return e}return 0-(128&t)|127&t},_.parseChar=function(t){if(\"number\"==typeof t)return new Char(String.fromCharCode(65535&t));if(t instanceof Array){for(var e=[],n=0;n<t.length;n++)e.push(new Char(String.fromCharCode(65535&t[n])));return e}throw\"char() may receive only one argument of type int, byte, int[], or byte[].\"},_.parseFloat=function(t){if(t instanceof Array){for(var e=[],n=0;n<t.length;n++)e.push(An(t[n]));return e}return An(t)},_.parseInt=function(t,e){if(t instanceof Array){for(var n=[],r=0;r<t.length;r++)\"string\"!=typeof t[r]||/^\\s*[+\\-]?\\d+\\s*$/.test(t[r])?n.push(En(t[r],e)):n.push(0);return n}return En(t,e)},_.__int_cast=function(t){return 0|t},_.__instanceof=function(t,e){if(\"function\"!=typeof e)throw\"Function is expected as type argument for instanceof operator\";if(\"string\"==typeof t)return e===Object||e===String;if(t instanceof e)return!0;if(\"object\"!=typeof t||null===t)return!1;var n=t.constructor;if(e.$isInterface){for(var r=[];n;)n.$interfaces&&(r=r.concat(n.$interfaces)),n=n.$base;for(;r.length>0;){var i=r.shift();if(i===e)return!0;i.$interfaces&&(r=r.concat(i.$interfaces))}return!1}for(;n.hasOwnProperty(\"$base\");)if((n=n.$base)===e)return!0;return!1},on.prototype.size=function(t,e,n){yt&&_.stroke(0),dt&&_.fill(255);var r={fillStyle:P.fillStyle,strokeStyle:P.strokeStyle,lineCap:P.lineCap,lineJoin:P.lineJoin};for(var i in A.style.length>0&&(A.style.removeProperty(\"width\"),A.style.removeProperty(\"height\")),A.width=_.width=t||100,A.height=_.height=e||100,r)r.hasOwnProperty(i)&&(P[i]=r[i]);_.textFont(fe),_.background(),me=Math.max(1e3,t*e*.05),_.externals.context=P;for(var s=0;s<u.SINCOS_LENGTH;s++)Me[s]=_.sin(s*(u.PI/180)*.5),_e[s]=_.cos(s*(u.PI/180)*.5)},an.prototype.size=function(t,n,r){P===e&&(P=A.getContext(\"2d\"),ut=new pn,ct=new pn,lt=new cn,ht=new cn),on.prototype.size.apply(this,arguments)},ln.prototype.size=(wn=!1,function(t,e,n){if(wn)throw\"Multiple calls to size() for 3D renders are not allowed.\";wn=!0;try{A.width=_.width=t||100,A.height=_.height=e||100,P=function(t){for(var e,n=[\"experimental-webgl\",\"webgl\",\"webkit-3d\"],r=0,i=n.length;r<i&&!(e=t.getContext(n[r],{antialias:!1,preserveDrawingBuffer:!0}));r++);return e}(A),J=P.createTexture(),Q=P.createTexture()}catch(t){x.debug(t)}if(!P)throw\"WebGL context is not supported on this browser.\";P.viewport(0,0,A.width,A.height),P.enable(P.DEPTH_TEST),P.enable(P.BLEND),P.blendFunc(P.SRC_ALPHA,P.ONE_MINUS_SRC_ALPHA),B=tn(P,\"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}\",\"#ifdef GL_ES\\nprecision highp float;\\n#endif\\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}\"),z=tn(P,\"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}\",\"#ifdef GL_ES\\nprecision highp float;\\n#endif\\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}\"),_.strokeWeight(1),k=tn(P,Ke,\"#ifdef GL_ES\\nprecision highp float;\\n#endif\\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}\"),P.useProgram(k),We(\"usingTexture3d\",k,\"usingTexture\",re),_.lightFalloff(1,0,0),_.shininess(1),_.ambient(255,255,255),_.specular(0,0,0),_.emissive(0,0,0),V=P.createBuffer(),P.bindBuffer(P.ARRAY_BUFFER,V),P.bufferData(P.ARRAY_BUFFER,He,P.STATIC_DRAW),G=P.createBuffer(),P.bindBuffer(P.ARRAY_BUFFER,G),P.bufferData(P.ARRAY_BUFFER,Xe,P.STATIC_DRAW),$=P.createBuffer(),P.bindBuffer(P.ARRAY_BUFFER,$),P.bufferData(P.ARRAY_BUFFER,Ue,P.STATIC_DRAW),H=P.createBuffer(),P.bindBuffer(P.ARRAY_BUFFER,H),P.bufferData(P.ARRAY_BUFFER,je,P.STATIC_DRAW),U=P.createBuffer(),P.bindBuffer(P.ARRAY_BUFFER,U),P.bufferData(P.ARRAY_BUFFER,Ye,P.STATIC_DRAW),X=P.createBuffer(),j=P.createBuffer(),Y=P.createBuffer(),K=P.createBuffer(),q=P.createBuffer(),Z=P.createBuffer(),W=P.createBuffer(),P.bindBuffer(P.ARRAY_BUFFER,W),P.bufferData(P.ARRAY_BUFFER,new d([0,0,0]),P.STATIC_DRAW),tt=P.createBuffer(),P.bindBuffer(P.ARRAY_BUFFER,tt),P.bufferData(P.ARRAY_BUFFER,new d([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),P.STATIC_DRAW),et=P.createBuffer(),P.bindBuffer(P.ARRAY_BUFFER,et),P.bufferData(P.ARRAY_BUFFER,new d([0,0,1,0,1,1,0,1]),P.STATIC_DRAW),nt=P.createBuffer(),P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,nt),P.bufferData(P.ELEMENT_ARRAY_BUFFER,new g([0,1,2,2,3,0]),P.STATIC_DRAW),ot=new fn,at=new fn,lt=new fn,ht=new fn,pt=new fn,_.camera(),_.perspective(),ut=new pn,ct=new pn,L=new fn,I=new fn,D=new fn,O=new fn,F=new fn,(N=new fn).set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0),on.prototype.size.apply(this,arguments)}),an.prototype.ambientLight=on.prototype.a3DOnlyFunction,ln.prototype.ambientLight=function(t,e,n,r,i,s){if(be===u.MAX_LIGHTS)throw\"can only create \"+u.MAX_LIGHTS+\" lights\";var o=new PVector(r,i,s),a=new fn;a.scale(1,-1,1),a.apply(lt.array()),a.mult(o,o);var l=dn(t,e,n,0),h=[((l&u.RED_MASK)>>>16)/255,((l&u.GREEN_MASK)>>>8)/255,(l&u.BLUE_MASK)/255];P.useProgram(k),qe(\"uLights.color.3d.\"+be,k,\"uLights\"+be+\".color\",h),qe(\"uLights.position.3d.\"+be,k,\"uLights\"+be+\".position\",o.array()),We(\"uLights.type.3d.\"+be,k,\"uLights\"+be+\".type\",0),We(\"uLightCount3d\",k,\"uLightCount\",++be)},an.prototype.directionalLight=on.prototype.a3DOnlyFunction,ln.prototype.directionalLight=function(t,e,n,r,i,s){if(be===u.MAX_LIGHTS)throw\"can only create \"+u.MAX_LIGHTS+\" lights\";P.useProgram(k);var o=new fn;o.scale(1,-1,1),o.apply(lt.array());var a=[(o=o.array())[0]*r+o[4]*i+o[8]*s,o[1]*r+o[5]*i+o[9]*s,o[2]*r+o[6]*i+o[10]*s],l=dn(t,e,n,0),h=[((l&u.RED_MASK)>>>16)/255,((l&u.GREEN_MASK)>>>8)/255,(l&u.BLUE_MASK)/255];qe(\"uLights.color.3d.\"+be,k,\"uLights\"+be+\".color\",h),qe(\"uLights.position.3d.\"+be,k,\"uLights\"+be+\".position\",a),We(\"uLights.type.3d.\"+be,k,\"uLights\"+be+\".type\",1),We(\"uLightCount3d\",k,\"uLightCount\",++be)},an.prototype.lightFalloff=on.prototype.a3DOnlyFunction,ln.prototype.lightFalloff=function(t,e,n){P.useProgram(k),qe(\"uFalloff3d\",k,\"uFalloff\",[t,e,n])},an.prototype.lightSpecular=on.prototype.a3DOnlyFunction,ln.prototype.lightSpecular=function(t,e,n){var r=dn(t,e,n,0),i=[((r&u.RED_MASK)>>>16)/255,((r&u.GREEN_MASK)>>>8)/255,(r&u.BLUE_MASK)/255];P.useProgram(k),qe(\"uSpecular3d\",k,\"uSpecular\",i)},_.lights=function(){_.ambientLight(128,128,128),_.directionalLight(128,128,128,0,0,-1),_.lightFalloff(1,0,0),_.lightSpecular(0,0,0)},an.prototype.pointLight=on.prototype.a3DOnlyFunction,ln.prototype.pointLight=function(t,e,n,r,i,s){if(be===u.MAX_LIGHTS)throw\"can only create \"+u.MAX_LIGHTS+\" lights\";var o=new PVector(r,i,s),a=new fn;a.scale(1,-1,1),a.apply(lt.array()),a.mult(o,o);var l=dn(t,e,n,0),h=[((l&u.RED_MASK)>>>16)/255,((l&u.GREEN_MASK)>>>8)/255,(l&u.BLUE_MASK)/255];P.useProgram(k),qe(\"uLights.color.3d.\"+be,k,\"uLights\"+be+\".color\",h),qe(\"uLights.position.3d.\"+be,k,\"uLights\"+be+\".position\",o.array()),We(\"uLights.type.3d.\"+be,k,\"uLights\"+be+\".type\",2),We(\"uLightCount3d\",k,\"uLightCount\",++be)},an.prototype.noLights=on.prototype.a3DOnlyFunction,ln.prototype.noLights=function(){be=0,P.useProgram(k),We(\"uLightCount3d\",k,\"uLightCount\",be)},an.prototype.spotLight=on.prototype.a3DOnlyFunction,ln.prototype.spotLight=function(t,e,n,r,i,s,o,a,l,h,c){if(be===u.MAX_LIGHTS)throw\"can only create \"+u.MAX_LIGHTS+\" lights\";P.useProgram(k);var f=new PVector(r,i,s),p=new fn;p.scale(1,-1,1),p.apply(lt.array()),p.mult(f,f);var d=[(p=p.array())[0]*o+p[4]*a+p[8]*l,p[1]*o+p[5]*a+p[9]*l,p[2]*o+p[6]*a+p[10]*l],m=dn(t,e,n,0),g=[((m&u.RED_MASK)>>>16)/255,((m&u.GREEN_MASK)>>>8)/255,(m&u.BLUE_MASK)/255];qe(\"uLights.color.3d.\"+be,k,\"uLights\"+be+\".color\",g),qe(\"uLights.position.3d.\"+be,k,\"uLights\"+be+\".position\",f.array()),qe(\"uLights.direction.3d.\"+be,k,\"uLights\"+be+\".direction\",d),qe(\"uLights.concentration.3d.\"+be,k,\"uLights\"+be+\".concentration\",c),qe(\"uLights.angle.3d.\"+be,k,\"uLights\"+be+\".angle\",h),We(\"uLights.type.3d.\"+be,k,\"uLights\"+be+\".type\",3),We(\"uLightCount3d\",k,\"uLightCount\",++be)},an.prototype.beginCamera=function(){throw\"beginCamera() is not available in 2D mode\"},ln.prototype.beginCamera=function(){if(Pe)throw\"You cannot call beginCamera() again before calling endCamera()\";Pe=!0,lt=at,ht=ot},an.prototype.endCamera=function(){throw\"endCamera() is not available in 2D mode\"},ln.prototype.endCamera=function(){if(!Pe)throw\"You cannot call endCamera() before calling beginCamera()\";lt.set(ot),ht.set(at),Pe=!1},_.camera=function(t,n,r,i,s,o,a,l,h){t===e&&(Te=_.width/2,Re=_.height/2,Le=Re/Math.tan(Ce/2),t=Te,n=Re,r=Le,i=Te,s=Re,o=0,a=0,l=1,h=0);var u=new PVector(t-i,n-s,r-o),c=new PVector(a,l,h);u.normalize();var f=PVector.cross(c,u);c=PVector.cross(u,f),f.normalize(),c.normalize();var p=f.x,d=f.y,m=f.z,g=c.x,v=c.y,y=c.z,b=u.x,w=u.y,x=u.z;ot.set(p,d,m,0,g,v,y,0,b,w,x,0,0,0,0,1),ot.translate(-t,-n,-r),at.reset(),at.invApply(p,d,m,0,g,v,y,0,b,w,x,0,0,0,0,1),at.translate(t,n,r),lt.set(ot),ht.set(at)},_.perspective=function(t,e,n,r){var i,s,o,a;0===arguments.length&&(Re=A.height/2,Le=Re/Math.tan(Ce/2),Ie=Le/10,De=10*Le,Oe=_.width/_.height,t=Ce,e=Oe,n=Ie,r=De),o=(i=n*Math.tan(t/2))*e,a=(s=-i)*e,_.frustum(a,o,s,i,n,r)},an.prototype.frustum=function(){throw\"Processing.js: frustum() is not supported in 2D mode\"},ln.prototype.frustum=function(t,e,n,r,i,s){!0,(pt=new fn).set(2*i/(e-t),0,(e+t)/(e-t),0,0,2*i/(r-n),(r+n)/(r-n),0,0,0,-(s+i)/(s-i),-2*s*i/(s-i),0,0,-1,0);var o=new fn;o.set(pt),o.transpose(),P.useProgram(B),Ze(\"projection2d\",B,\"uProjection\",!1,o.array()),P.useProgram(k),Ze(\"projection3d\",k,\"uProjection\",!1,o.array()),P.useProgram(z),Ze(\"uProjectionUS\",z,\"uProjection\",!1,o.array())},_.ortho=function(t,e,n,r,i,s){0===arguments.length&&(t=0,e=_.width,n=0,r=_.height,i=-10,s=10);var o=2/(e-t),a=2/(r-n),l=-2/(s-i),h=-(e+t)/(e-t),u=-(r+n)/(r-n),c=-(s+i)/(s-i);(pt=new fn).set(o,0,0,h,0,a,0,u,0,0,l,c,0,0,0,1);var f=new fn;f.set(pt),f.transpose(),P.useProgram(B),Ze(\"projection2d\",B,\"uProjection\",!1,f.array()),P.useProgram(k),Ze(\"projection3d\",k,\"uProjection\",!1,f.array()),P.useProgram(z),Ze(\"uProjectionUS\",z,\"uProjection\",!1,f.array()),!1},_.printProjection=function(){pt.print()},_.printCamera=function(){ot.print()},an.prototype.box=on.prototype.a3DOnlyFunction,ln.prototype.box=function(t,e,n){e&&n||(e=n=t);var r=new fn;r.scale(t,e,n);var i=new fn;if(i.scale(1,-1,1),i.apply(lt.array()),i.transpose(),dt){if(P.useProgram(k),Ze(\"model3d\",k,\"uModel\",!1,r.array()),Ze(\"view3d\",k,\"uView\",!1,i.array()),P.enable(P.POLYGON_OFFSET_FILL),P.polygonOffset(1,1),qe(\"color3d\",k,\"uColor\",mt),be>0){var s=new fn;s.set(i);var o=new fn;o.set(r),s.mult(o);var a=new fn;a.set(s),a.invert(),a.transpose(),Ze(\"uNormalTransform3d\",k,\"uNormalTransform\",!1,a.array()),Je(\"aNormal3d\",k,\"aNormal\",3,G)}else Qe(\"aNormal3d\",k,\"aNormal\");Je(\"aVertex3d\",k,\"aVertex\",3,V),Qe(\"aColor3d\",k,\"aColor\"),Qe(\"aTexture3d\",k,\"aTexture\"),P.drawArrays(P.TRIANGLES,0,He.length/3),P.disable(P.POLYGON_OFFSET_FILL)}At>0&&yt&&(P.useProgram(B),Ze(\"uModel2d\",B,\"uModel\",!1,r.array()),Ze(\"uView2d\",B,\"uView\",!1,i.array()),qe(\"uColor2d\",B,\"uColor\",bt),We(\"uIsDrawingText2d\",B,\"uIsDrawingText\",!1),Je(\"vertex2d\",B,\"aVertex\",3,$),Qe(\"aTextureCoord2d\",B,\"aTextureCoord\"),P.drawArrays(P.LINES,0,Ue.length/3))};function Sn(){dt&&(vt&&(P.fillStyle=_.color.toString(gt),vt=!1),P.fill())}function Mn(){yt&&(xt&&(P.strokeStyle=_.color.toString(wt),xt=!1),P.stroke())}_.sphereDetail=function(t,e){var n;if(1===arguments.length&&(t=e=arguments[0]),t<3&&(t=3),e<2&&(e=2),t!==xe||e!==we){var r=u.SINCOS_LENGTH/t,i=new d(t),s=new d(t);for(n=0;n<t;n++)i[n]=_e[n*r%u.SINCOS_LENGTH|0],s[n]=Me[n*r%u.SINCOS_LENGTH|0];var o=t*(e-1)+2,a=0;Ae=new d(o),Ee=new d(o),Se=new d(o);var l=.5*u.SINCOS_LENGTH/e,h=l;for(n=1;n<e;n++){for(var c=Me[h%u.SINCOS_LENGTH|0],f=-_e[h%u.SINCOS_LENGTH|0],p=0;p<t;p++)Ae[a]=i[p]*c,Ee[a]=f,Se[a++]=s[p]*c;h+=l}xe=t,we=e,function(){var t,e,n,r;for(st=[],t=0;t<xe;t++)st.push(0),st.push(-1),st.push(0),st.push(Ae[t]),st.push(Ee[t]),st.push(Se[t]);st.push(0),st.push(-1),st.push(0),st.push(Ae[0]),st.push(Ee[0]),st.push(Se[0]);var i=0;for(t=2;t<we;t++){e=n=i,r=i+=xe;for(var s=0;s<xe;s++)st.push(Ae[e]),st.push(Ee[e]),st.push(Se[e++]),st.push(Ae[r]),st.push(Ee[r]),st.push(Se[r++]);e=n,r=i,st.push(Ae[e]),st.push(Ee[e]),st.push(Se[e]),st.push(Ae[r]),st.push(Ee[r]),st.push(Se[r])}for(t=0;t<xe;t++)r=i+t,st.push(Ae[r]),st.push(Ee[r]),st.push(Se[r]),st.push(0),st.push(1),st.push(0);st.push(Ae[i]),st.push(Ee[i]),st.push(Se[i]),st.push(0),st.push(1),st.push(0),P.bindBuffer(P.ARRAY_BUFFER,X),P.bufferData(P.ARRAY_BUFFER,new d(st),P.STATIC_DRAW)}()}},an.prototype.sphere=on.prototype.a3DOnlyFunction,ln.prototype.sphere=function(){var t=arguments[0];(xe<3||we<2)&&_.sphereDetail(30);var e=new fn;e.scale(t,t,t);var n=new fn;if(n.scale(1,-1,1),n.apply(lt.array()),n.transpose(),dt){if(be>0){var r=new fn;r.set(n);var i=new fn;i.set(e),r.mult(i);var s=new fn;s.set(r),s.invert(),s.transpose(),Ze(\"uNormalTransform3d\",k,\"uNormalTransform\",!1,s.array()),Je(\"aNormal3d\",k,\"aNormal\",3,X)}else Qe(\"aNormal3d\",k,\"aNormal\");P.useProgram(k),Qe(\"aTexture3d\",k,\"aTexture\"),Ze(\"uModel3d\",k,\"uModel\",!1,e.array()),Ze(\"uView3d\",k,\"uView\",!1,n.array()),Je(\"aVertex3d\",k,\"aVertex\",3,X),Qe(\"aColor3d\",k,\"aColor\"),P.enable(P.POLYGON_OFFSET_FILL),P.polygonOffset(1,1),qe(\"uColor3d\",k,\"uColor\",mt),P.drawArrays(P.TRIANGLE_STRIP,0,st.length/3),P.disable(P.POLYGON_OFFSET_FILL)}At>0&&yt&&(P.useProgram(B),Ze(\"uModel2d\",B,\"uModel\",!1,e.array()),Ze(\"uView2d\",B,\"uView\",!1,n.array()),Je(\"aVertex2d\",B,\"aVertex\",3,X),Qe(\"aTextureCoord2d\",B,\"aTextureCoord\"),qe(\"uColor2d\",B,\"uColor\",bt),We(\"uIsDrawingText\",B,\"uIsDrawingText\",!1),P.drawArrays(P.LINE_STRIP,0,st.length/3))},_.modelX=function(t,e,n){var r=lt.array(),i=at.array(),s=r[0]*t+r[1]*e+r[2]*n+r[3],o=r[4]*t+r[5]*e+r[6]*n+r[7],a=r[8]*t+r[9]*e+r[10]*n+r[11],l=r[12]*t+r[13]*e+r[14]*n+r[15],h=i[0]*s+i[1]*o+i[2]*a+i[3]*l,u=i[12]*s+i[13]*o+i[14]*a+i[15]*l;return 0!==u?h/u:h},_.modelY=function(t,e,n){var r=lt.array(),i=at.array(),s=r[0]*t+r[1]*e+r[2]*n+r[3],o=r[4]*t+r[5]*e+r[6]*n+r[7],a=r[8]*t+r[9]*e+r[10]*n+r[11],l=r[12]*t+r[13]*e+r[14]*n+r[15],h=i[4]*s+i[5]*o+i[6]*a+i[7]*l,u=i[12]*s+i[13]*o+i[14]*a+i[15]*l;return 0!==u?h/u:h},_.modelZ=function(t,e,n){var r=lt.array(),i=at.array(),s=r[0]*t+r[1]*e+r[2]*n+r[3],o=r[4]*t+r[5]*e+r[6]*n+r[7],a=r[8]*t+r[9]*e+r[10]*n+r[11],l=r[12]*t+r[13]*e+r[14]*n+r[15],h=i[8]*s+i[9]*o+i[10]*a+i[11]*l,u=i[12]*s+i[13]*o+i[14]*a+i[15]*l;return 0!==u?h/u:h},an.prototype.ambient=on.prototype.a3DOnlyFunction,ln.prototype.ambient=function(t,e,n){P.useProgram(k),We(\"uUsingMat3d\",k,\"uUsingMat\",!0);var r=_.color(t,e,n);qe(\"uMaterialAmbient3d\",k,\"uMaterialAmbient\",_.color.toGLArray(r).slice(0,3))},an.prototype.emissive=on.prototype.a3DOnlyFunction,ln.prototype.emissive=function(t,e,n){P.useProgram(k),We(\"uUsingMat3d\",k,\"uUsingMat\",!0);var r=_.color(t,e,n);qe(\"uMaterialEmissive3d\",k,\"uMaterialEmissive\",_.color.toGLArray(r).slice(0,3))},an.prototype.shininess=on.prototype.a3DOnlyFunction,ln.prototype.shininess=function(t){P.useProgram(k),We(\"uUsingMat3d\",k,\"uUsingMat\",!0),qe(\"uShininess3d\",k,\"uShininess\",t)},an.prototype.specular=on.prototype.a3DOnlyFunction,ln.prototype.specular=function(t,e,n){P.useProgram(k),We(\"uUsingMat3d\",k,\"uUsingMat\",!0);var r=_.color(t,e,n);qe(\"uMaterialSpecular3d\",k,\"uMaterialSpecular\",_.color.toGLArray(r).slice(0,3))},_.screenX=function(t,e,n){var r=lt.array();if(16===r.length){var i=r[0]*t+r[1]*e+r[2]*n+r[3],s=r[4]*t+r[5]*e+r[6]*n+r[7],o=r[8]*t+r[9]*e+r[10]*n+r[11],a=r[12]*t+r[13]*e+r[14]*n+r[15],l=pt.array(),h=l[0]*i+l[1]*s+l[2]*o+l[3]*a,u=l[12]*i+l[13]*s+l[14]*o+l[15]*a;return 0!==u&&(h/=u),_.width*(1+h)/2}return lt.multX(t,e)},_.screenY=function(t,e,n){var r=lt.array();if(16===r.length){var i=r[0]*t+r[1]*e+r[2]*n+r[3],s=r[4]*t+r[5]*e+r[6]*n+r[7],o=r[8]*t+r[9]*e+r[10]*n+r[11],a=r[12]*t+r[13]*e+r[14]*n+r[15],l=pt.array(),h=l[4]*i+l[5]*s+l[6]*o+l[7]*a,u=l[12]*i+l[13]*s+l[14]*o+l[15]*a;return 0!==u&&(h/=u),_.height*(1+h)/2}return lt.multY(t,e)},_.screenZ=function(t,e,n){var r=lt.array();if(16!==r.length)return 0;var i=pt.array(),s=r[0]*t+r[1]*e+r[2]*n+r[3],o=r[4]*t+r[5]*e+r[6]*n+r[7],a=r[8]*t+r[9]*e+r[10]*n+r[11],l=r[12]*t+r[13]*e+r[14]*n+r[15],h=i[8]*s+i[9]*o+i[10]*a+i[11]*l,u=i[12]*s+i[13]*o+i[14]*a+i[15]*l;return 0!==u&&(h/=u),(h+1)/2},on.prototype.fill=function(){var t=_.color.apply(this,arguments);t===gt&&dt||(dt=!0,gt=t)},an.prototype.fill=function(){on.prototype.fill.apply(this,arguments),vt=!0},ln.prototype.fill=function(){on.prototype.fill.apply(this,arguments),mt=_.color.toGLArray(gt)},_.noFill=function(){dt=!1},on.prototype.stroke=function(){var t=_.color.apply(this,arguments);t===wt&&yt||(yt=!0,wt=t)},an.prototype.stroke=function(){on.prototype.stroke.apply(this,arguments),xt=!0},ln.prototype.stroke=function(){on.prototype.stroke.apply(this,arguments),bt=_.color.toGLArray(wt)},_.noStroke=function(){yt=!1},on.prototype.strokeWeight=function(t){At=t},an.prototype.strokeWeight=function(t){on.prototype.strokeWeight.apply(this,arguments),P.lineWidth=t},ln.prototype.strokeWeight=function(t){on.prototype.strokeWeight.apply(this,arguments),P.useProgram(B),qe(\"pointSize2d\",B,\"uPointSize\",t),P.useProgram(z),qe(\"pointSizeUnlitShape\",z,\"uPointSize\",t),P.lineWidth(t)},_.strokeCap=function(t){T.$ensureContext().lineCap=t},_.strokeJoin=function(t){T.$ensureContext().lineJoin=t},an.prototype.smooth=function(){St=!0;var t=A.style;t.setProperty(\"image-rendering\",\"optimizeQuality\",\"important\"),t.setProperty(\"-ms-interpolation-mode\",\"bicubic\",\"important\"),P.hasOwnProperty(\"mozImageSmoothingEnabled\")&&(P.mozImageSmoothingEnabled=!0)},ln.prototype.smooth=function(){St=!0},an.prototype.noSmooth=function(){St=!1;var t=A.style;t.setProperty(\"image-rendering\",\"optimizeSpeed\",\"important\"),t.setProperty(\"image-rendering\",\"-moz-crisp-edges\",\"important\"),t.setProperty(\"image-rendering\",\"-webkit-optimize-contrast\",\"important\"),t.setProperty(\"image-rendering\",\"optimize-contrast\",\"important\"),t.setProperty(\"-ms-interpolation-mode\",\"nearest-neighbor\",\"important\"),P.hasOwnProperty(\"mozImageSmoothingEnabled\")&&(P.mozImageSmoothingEnabled=!1)},ln.prototype.noSmooth=function(){St=!1},an.prototype.point=function(t,e){yt&&(t=Math.round(t),e=Math.round(e),P.fillStyle=_.color.toString(wt),vt=!0,At>1?(P.beginPath(),P.arc(t,e,At/2,0,u.TWO_PI,!1),P.fill()):P.fillRect(t,e,1,1))},ln.prototype.point=function(t,e,n){var r=new fn;r.translate(t,e,n||0),r.transpose();var i=new fn;i.scale(1,-1,1),i.apply(lt.array()),i.transpose(),P.useProgram(B),Ze(\"uModel2d\",B,\"uModel\",!1,r.array()),Ze(\"uView2d\",B,\"uView\",!1,i.array()),At>0&&yt&&(qe(\"uColor2d\",B,\"uColor\",bt),We(\"uIsDrawingText2d\",B,\"uIsDrawingText\",!1),We(\"uSmooth2d\",B,\"uSmooth\",St),Je(\"aVertex2d\",B,\"aVertex\",3,W),Qe(\"aTextureCoord2d\",B,\"aTextureCoord\"),P.drawArrays(P.POINTS,0,1))},_.beginShape=function(t){Nt=t,[],Fe=[]},an.prototype.vertex=function(t,e,n){var r=[];Ve&&(Ve=!1),r.isVert=!0,r[0]=t,r[1]=e,r[2]=0,r[3]=0,r[4]=0,r[5]=gt,r[6]=wt,Fe.push(r),n&&(Fe[Fe.length-1].moveTo=n)},ln.prototype.vertex=function(t,n,r,i,s){var o=[];Ve&&(Ve=!1),o.isVert=!0,s===e&&re&&(s=i,i=r,r=0),i!==e&&s!==e&&(ne===u.IMAGE&&(i/=ee.width,s/=ee.height),i=(i=i>1?1:i)<0?0:i,s=(s=s>1?1:s)<0?0:s),o[0]=t,o[1]=n,o[2]=r||0,o[3]=i||0,o[4]=s||0,o[5]=mt[0],o[6]=mt[1],o[7]=mt[2],o[8]=mt[3],o[9]=bt[0],o[10]=bt[1],o[11]=bt[2],o[12]=bt[3],o[13]=Tt,o[14]=Rt,o[15]=Lt,Fe.push(o)};var _n=function(t,e){var n=new fn;n.scale(1,-1,1),n.apply(lt.array()),n.transpose(),P.useProgram(z),Ze(\"uViewUS\",z,\"uView\",!1,n.array()),We(\"uSmoothUS\",z,\"uSmooth\",St),Je(\"aVertexUS\",z,\"aVertex\",3,W),P.bufferData(P.ARRAY_BUFFER,new d(t),P.STREAM_DRAW),Je(\"aColorUS\",z,\"aColor\",4,K),P.bufferData(P.ARRAY_BUFFER,new d(e),P.STREAM_DRAW),P.drawArrays(P.POINTS,0,t.length/3)},Pn=function(t,e,n){var r;r=\"LINES\"===e?P.LINES:\"LINE_LOOP\"===e?P.LINE_LOOP:P.LINE_STRIP;var i=new fn;i.scale(1,-1,1),i.apply(lt.array()),i.transpose(),P.useProgram(z),Ze(\"uViewUS\",z,\"uView\",!1,i.array()),Je(\"aVertexUS\",z,\"aVertex\",3,j),P.bufferData(P.ARRAY_BUFFER,new d(t),P.STREAM_DRAW),Je(\"aColorUS\",z,\"aColor\",4,q),P.bufferData(P.ARRAY_BUFFER,new d(n),P.STREAM_DRAW),P.drawArrays(r,0,t.length/3)},Cn=function(t,e,n,r){var i;i=\"TRIANGLES\"===e?P.TRIANGLES:\"TRIANGLE_FAN\"===e?P.TRIANGLE_FAN:P.TRIANGLE_STRIP;var s=new fn;s.scale(1,-1,1),s.apply(lt.array()),s.transpose(),P.useProgram(k),Ze(\"model3d\",k,\"uModel\",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Ze(\"view3d\",k,\"uView\",!1,s.array()),P.enable(P.POLYGON_OFFSET_FILL),P.polygonOffset(1,1),qe(\"color3d\",k,\"uColor\",[-1,0,0,0]),Je(\"vertex3d\",k,\"aVertex\",3,Y),P.bufferData(P.ARRAY_BUFFER,new d(t),P.STREAM_DRAW),re&&null!==qt&&Wt(n),Je(\"aColor3d\",k,\"aColor\",4,K),P.bufferData(P.ARRAY_BUFFER,new d(n),P.STREAM_DRAW),Qe(\"aNormal3d\",k,\"aNormal\"),re&&(We(\"uUsingTexture3d\",k,\"uUsingTexture\",re),Je(\"aTexture3d\",k,\"aTexture\",2,Z),P.bufferData(P.ARRAY_BUFFER,new d(r),P.STREAM_DRAW)),P.drawArrays(i,0,t.length/3),P.disable(P.POLYGON_OFFSET_FILL)};function Tn(){Sn(),Mn(),P.closePath()}an.prototype.endShape=function(t){if(0!==Fe.length){var n=t===u.CLOSE;n&&Fe.push(Fe[0]);var r,i,s,o=[],a=[],l=[],h=[];Ve=!0;var c=Fe.length;for(i=0;i<c;i++)for(r=Fe[i],s=0;s<3;s++)o.push(r[s]);for(i=0;i<c;i++)for(r=Fe[i],s=5;s<9;s++)a.push(r[s]);for(i=0;i<c;i++)for(r=Fe[i],s=9;s<13;s++)l.push(r[s]);for(i=0;i<c;i++)r=Fe[i],h.push(r[3]),h.push(r[4]);if(!Be||Nt!==u.POLYGON&&Nt!==e)if(!ze||Nt!==u.POLYGON&&Nt!==e)if(Nt===u.POINTS)for(i=0;i<c;i++)r=Fe[i],yt&&_.stroke(r[6]),_.point(r[0],r[1]);else if(Nt===u.LINES)for(i=0;i+1<c;i+=2)r=Fe[i],yt&&_.stroke(Fe[i+1][6]),_.line(r[0],r[1],Fe[i+1][0],Fe[i+1][1]);else if(Nt===u.TRIANGLES)for(i=0;i+2<c;i+=3)r=Fe[i],P.beginPath(),P.moveTo(r[0],r[1]),P.lineTo(Fe[i+1][0],Fe[i+1][1]),P.lineTo(Fe[i+2][0],Fe[i+2][1]),P.lineTo(r[0],r[1]),dt&&(_.fill(Fe[i+2][5]),Sn()),yt&&(_.stroke(Fe[i+2][6]),Mn()),P.closePath();else if(Nt===u.TRIANGLE_STRIP)for(i=0;i+1<c;i++)r=Fe[i],P.beginPath(),P.moveTo(Fe[i+1][0],Fe[i+1][1]),P.lineTo(r[0],r[1]),yt&&_.stroke(Fe[i+1][6]),dt&&_.fill(Fe[i+1][5]),i+2<c&&(P.lineTo(Fe[i+2][0],Fe[i+2][1]),yt&&_.stroke(Fe[i+2][6]),dt&&_.fill(Fe[i+2][5])),Tn();else if(Nt===u.TRIANGLE_FAN){if(c>2)for(P.beginPath(),P.moveTo(Fe[0][0],Fe[0][1]),P.lineTo(Fe[1][0],Fe[1][1]),P.lineTo(Fe[2][0],Fe[2][1]),dt&&(_.fill(Fe[2][5]),Sn()),yt&&(_.stroke(Fe[2][6]),Mn()),P.closePath(),i=3;i<c;i++)r=Fe[i],P.beginPath(),P.moveTo(Fe[0][0],Fe[0][1]),P.lineTo(Fe[i-1][0],Fe[i-1][1]),P.lineTo(r[0],r[1]),dt&&(_.fill(r[5]),Sn()),yt&&(_.stroke(r[6]),Mn()),P.closePath()}else if(Nt===u.QUADS)for(i=0;i+3<c;i+=4){for(r=Fe[i],P.beginPath(),P.moveTo(r[0],r[1]),s=1;s<4;s++)P.lineTo(Fe[i+s][0],Fe[i+s][1]);P.lineTo(r[0],r[1]),dt&&(_.fill(Fe[i+3][5]),Sn()),yt&&(_.stroke(Fe[i+3][6]),Mn()),P.closePath()}else if(Nt===u.QUAD_STRIP){if(c>3)for(i=0;i+1<c;i+=2)r=Fe[i],P.beginPath(),i+3<c?(P.moveTo(Fe[i+2][0],Fe[i+2][1]),P.lineTo(r[0],r[1]),P.lineTo(Fe[i+1][0],Fe[i+1][1]),P.lineTo(Fe[i+3][0],Fe[i+3][1]),dt&&_.fill(Fe[i+3][5]),yt&&_.stroke(Fe[i+3][6])):(P.moveTo(r[0],r[1]),P.lineTo(Fe[i+1][0],Fe[i+1][1])),Tn()}else{for(P.beginPath(),P.moveTo(Fe[0][0],Fe[0][1]),i=1;i<c;i++)(r=Fe[i]).isVert&&(r.moveTo?P.moveTo(r[0],r[1]):P.lineTo(r[0],r[1]));Tn()}else{for(P.beginPath(),i=0;i<c;i++)r=Fe[i],Fe[i].isVert?Fe[i].moveTo?P.moveTo(r[0],r[1]):P.lineTo(r[0],r[1]):P.bezierCurveTo(Fe[i][0],Fe[i][1],Fe[i][2],Fe[i][3],Fe[i][4],Fe[i][5]);Tn()}else if(c>3){var f=[],p=1-kt;for(P.beginPath(),P.moveTo(Fe[1][0],Fe[1][1]),i=1;i+2<c;i++)r=Fe[i],f[0]=[r[0],r[1]],f[1]=[r[0]+(p*Fe[i+1][0]-p*Fe[i-1][0])/6,r[1]+(p*Fe[i+1][1]-p*Fe[i-1][1])/6],f[2]=[Fe[i+1][0]+(p*Fe[i][0]-p*Fe[i+2][0])/6,Fe[i+1][1]+(p*Fe[i][1]-p*Fe[i+2][1])/6],f[3]=[Fe[i+1][0],Fe[i+1][1]],P.bezierCurveTo(f[1][0],f[1][1],f[2][0],f[2][1],f[3][0],f[3][1]);Tn()}Be=!1,ze=!1,Ne=[],ke=0,n&&Fe.pop()}},ln.prototype.endShape=function(t){if(0!==Fe.length){var n,r,i,s,o=t===u.CLOSE,a=[],l=[],h=[],c=[],f=[];Ve=!0;var p=Fe.length;for(r=0;r<p;r++)for(n=Fe[r],i=0;i<3;i++)l.push(n[i]);for(r=0;r<p;r++)for(n=Fe[r],i=5;i<9;i++)h.push(n[i]);for(r=0;r<p;r++)for(n=Fe[r],i=9;i<13;i++)c.push(n[i]);for(r=0;r<p;r++)n=Fe[r],f.push(n[3]),f.push(n[4]);if(o){for(l.push(Fe[0][0]),l.push(Fe[0][1]),l.push(Fe[0][2]),r=5;r<9;r++)h.push(Fe[0][r]);for(r=9;r<13;r++)c.push(Fe[0][r]);f.push(Fe[0][3]),f.push(Fe[0][4])}if(!Be||Nt!==u.POLYGON&&Nt!==e)if(!ze||Nt!==u.POLYGON&&Nt!==e){if(Nt===u.POINTS){for(r=0;r<p;r++)for(n=Fe[r],i=0;i<3;i++)a.push(n[i]);_n(a,c)}else if(Nt===u.LINES){for(r=0;r<p;r++)for(n=Fe[r],i=0;i<3;i++)a.push(n[i]);for(r=0;r<p;r++)for(n=Fe[r],i=5;i<9;i++)h.push(n[i]);Pn(a,\"LINES\",c)}else if(Nt===u.TRIANGLES){if(p>2)for(r=0;r+2<p;r+=3){for(l=[],f=[],a=[],h=[],c=[],i=0;i<3;i++)for(s=0;s<3;s++)a.push(Fe[r+i][s]),l.push(Fe[r+i][s]);for(i=0;i<3;i++)for(s=3;s<5;s++)f.push(Fe[r+i][s]);for(i=0;i<3;i++)for(s=5;s<9;s++)h.push(Fe[r+i][s]),c.push(Fe[r+i][s+4]);yt&&Pn(a,\"LINE_LOOP\",c),(dt||re)&&Cn(l,\"TRIANGLES\",h,f)}}else if(Nt===u.TRIANGLE_STRIP){if(p>2)for(r=0;r+2<p;r++){for(a=[],l=[],c=[],h=[],f=[],i=0;i<3;i++)for(s=0;s<3;s++)a.push(Fe[r+i][s]),l.push(Fe[r+i][s]);for(i=0;i<3;i++)for(s=3;s<5;s++)f.push(Fe[r+i][s]);for(i=0;i<3;i++)for(s=5;s<9;s++)c.push(Fe[r+i][s+4]),h.push(Fe[r+i][s]);(dt||re)&&Cn(l,\"TRIANGLE_STRIP\",h,f),yt&&Pn(a,\"LINE_LOOP\",c)}}else if(Nt===u.TRIANGLE_FAN){if(p>2){for(r=0;r<3;r++)for(n=Fe[r],i=0;i<3;i++)a.push(n[i]);for(r=0;r<3;r++)for(n=Fe[r],i=9;i<13;i++)c.push(n[i]);for(yt&&Pn(a,\"LINE_LOOP\",c),r=2;r+1<p;r++){for(c=[],(a=[]).push(Fe[0][0]),a.push(Fe[0][1]),a.push(Fe[0][2]),c.push(Fe[0][9]),c.push(Fe[0][10]),c.push(Fe[0][11]),c.push(Fe[0][12]),i=0;i<2;i++)for(s=0;s<3;s++)a.push(Fe[r+i][s]);for(i=0;i<2;i++)for(s=9;s<13;s++)c.push(Fe[r+i][s]);yt&&Pn(a,\"LINE_STRIP\",c)}(dt||re)&&Cn(l,\"TRIANGLE_FAN\",h,f)}}else if(Nt===u.QUADS)for(r=0;r+3<p;r+=4){for(a=[],i=0;i<4;i++)for(n=Fe[r+i],s=0;s<3;s++)a.push(n[s]);if(yt&&Pn(a,\"LINE_LOOP\",c),dt){for(l=[],h=[],f=[],i=0;i<3;i++)l.push(Fe[r][i]);for(i=5;i<9;i++)h.push(Fe[r][i]);for(i=0;i<3;i++)l.push(Fe[r+1][i]);for(i=5;i<9;i++)h.push(Fe[r+1][i]);for(i=0;i<3;i++)l.push(Fe[r+3][i]);for(i=5;i<9;i++)h.push(Fe[r+3][i]);for(i=0;i<3;i++)l.push(Fe[r+2][i]);for(i=5;i<9;i++)h.push(Fe[r+2][i]);re&&(f.push(Fe[r+0][3]),f.push(Fe[r+0][4]),f.push(Fe[r+1][3]),f.push(Fe[r+1][4]),f.push(Fe[r+3][3]),f.push(Fe[r+3][4]),f.push(Fe[r+2][3]),f.push(Fe[r+2][4])),Cn(l,\"TRIANGLE_STRIP\",h,f)}}else if(Nt===u.QUAD_STRIP){if(p>3){for(r=0;r<2;r++)for(n=Fe[r],i=0;i<3;i++)a.push(n[i]);for(r=0;r<2;r++)for(n=Fe[r],i=9;i<13;i++)c.push(n[i]);for(Pn(a,\"LINE_STRIP\",c),p>4&&p%2>0&&(l.splice(l.length-3),Fe.pop()),r=0;r+3<p;r+=2){for(a=[],c=[],i=0;i<3;i++)a.push(Fe[r+1][i]);for(i=0;i<3;i++)a.push(Fe[r+3][i]);for(i=0;i<3;i++)a.push(Fe[r+2][i]);for(i=0;i<3;i++)a.push(Fe[r+0][i]);for(i=9;i<13;i++)c.push(Fe[r+1][i]);for(i=9;i<13;i++)c.push(Fe[r+3][i]);for(i=9;i<13;i++)c.push(Fe[r+2][i]);for(i=9;i<13;i++)c.push(Fe[r+0][i]);yt&&Pn(a,\"LINE_STRIP\",c)}(dt||re)&&Cn(l,\"TRIANGLE_LIST\",h,f)}}else if(1===p){for(i=0;i<3;i++)a.push(Fe[0][i]);for(i=9;i<13;i++)c.push(Fe[0][i]);_n(a,c)}else{for(r=0;r<p;r++){for(n=Fe[r],i=0;i<3;i++)a.push(n[i]);for(i=5;i<9;i++)c.push(n[i])}yt&&o?Pn(a,\"LINE_LOOP\",c):yt&&!o&&Pn(a,\"LINE_STRIP\",c),(dt||re)&&Cn(l,\"TRIANGLE_FAN\",h,f)}re=!1,P.useProgram(k),We(\"usingTexture3d\",k,\"uUsingTexture\",re)}else(a=l).splice(a.length-3),c.splice(c.length-4),yt&&Pn(a,null,c),dt&&Cn(l,\"TRIANGLES\",h);else a=l,yt&&Pn(a,null,c),dt&&Cn(l,null,h);Be=!1,ze=!1,Ne=[],ke=0}};var Rn=function(t,e){var n=1/t,r=n*n,i=r*n;e.set(0,0,0,1,i,r,n,0,6*i,2*r,0,0,6*i,0,0,0)},Ln=function(){D||(L=new fn,D=new fn,zt=!0);var t=kt;L.set((t-1)/2,(t+3)/2,(-3-t)/2,(1-t)/2,1-t,(-5-t)/2,t+2,(t-1)/2,(t-1)/2,0,(1-t)/2,0,0,1,0,0),Rn(Bt,D),F||(I=new fn),I.set(L),I.preApply(F),D.apply(L)};an.prototype.bezierVertex=function(){ze=!0;var t=[];if(Ve)throw\"vertex() must be used at least once before calling bezierVertex()\";for(var e=0;e<arguments.length;e++)t[e]=arguments[e];Fe.push(t),Fe[Fe.length-1].isVert=!1},ln.prototype.bezierVertex=function(){ze=!0;if(Ve)throw\"vertex() must be used at least once before calling bezierVertex()\";if(9===arguments.length){O===e&&(O=new fn);var t=Fe.length-1;Rn(Gt,O),O.apply(N);for(var n=O.array(),r=Fe[t][0],i=Fe[t][1],s=Fe[t][2],o=n[4]*r+n[5]*arguments[0]+n[6]*arguments[3]+n[7]*arguments[6],a=n[8]*r+n[9]*arguments[0]+n[10]*arguments[3]+n[11]*arguments[6],l=n[12]*r+n[13]*arguments[0]+n[14]*arguments[3]+n[15]*arguments[6],h=n[4]*i+n[5]*arguments[1]+n[6]*arguments[4]+n[7]*arguments[7],u=n[8]*i+n[9]*arguments[1]+n[10]*arguments[4]+n[11]*arguments[7],c=n[12]*i+n[13]*arguments[1]+n[14]*arguments[4]+n[15]*arguments[7],f=n[4]*s+n[5]*arguments[2]+n[6]*arguments[5]+n[7]*arguments[8],p=n[8]*s+n[9]*arguments[2]+n[10]*arguments[5]+n[11]*arguments[8],d=n[12]*s+n[13]*arguments[2]+n[14]*arguments[5]+n[15]*arguments[8],m=0;m<Gt;m++)r+=o,o+=a,a+=l,i+=h,h+=u,u+=c,s+=f,f+=p,p+=d,_.vertex(r,i,s);_.vertex(arguments[6],arguments[7],arguments[8])}},_.texture=function(t){var e=T.$ensureContext();if(t.__texture)e.bindTexture(e.TEXTURE_2D,t.__texture);else if(\"canvas\"===t.localName)e.bindTexture(e.TEXTURE_2D,J),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.generateMipmap(e.TEXTURE_2D),ee.width=t.width,ee.height=t.height;else{var n,r=e.createTexture(),i=l.createElement(\"canvas\"),s=i.getContext(\"2d\");if(t.width&t.width-1==0)i.width=t.width;else{for(n=1;n<t.width;)n*=2;i.width=n}if(t.height&t.height-1==0)i.height=t.height;else{for(n=1;n<t.height;)n*=2;i.height=n}s.drawImage(t.sourceImg,0,0,t.width,t.height,0,0,i.width,i.height),e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i),e.generateMipmap(e.TEXTURE_2D),t.__texture=r,ee.width=t.width,ee.height=t.height}re=!0,e.useProgram(k),We(\"usingTexture3d\",k,\"uUsingTexture\",re)},_.textureMode=function(t){ne=t};an.prototype.curveVertex=function(t,e){Be=!0,_.vertex(t,e)},ln.prototype.curveVertex=function(t,e,n){Be=!0,zt||Ln();var r=[];r[0]=t,r[1]=e,r[2]=n,Ne.push(r),++ke>3&&function(t,e,n,r,i,s,o,a,l,h,u,c){var f=r,p=i,d=s,m=D.array(),g=m[4]*t+m[5]*r+m[6]*o+m[7]*h,v=m[8]*t+m[9]*r+m[10]*o+m[11]*h,y=m[12]*t+m[13]*r+m[14]*o+m[15]*h,b=m[4]*e+m[5]*i+m[6]*a+m[7]*u,w=m[8]*e+m[9]*i+m[10]*a+m[11]*u,x=m[12]*e+m[13]*i+m[14]*a+m[15]*u,A=m[4]*n+m[5]*s+m[6]*l+m[7]*c,E=m[8]*n+m[9]*s+m[10]*l+m[11]*c,S=m[12]*n+m[13]*s+m[14]*l+m[15]*c;_.vertex(f,p,d);for(var M=0;M<Bt;M++)f+=g,g+=v,v+=y,p+=b,b+=w,w+=x,d+=A,A+=E,E+=S,_.vertex(f,p,d)}(Ne[ke-4][0],Ne[ke-4][1],Ne[ke-4][2],Ne[ke-3][0],Ne[ke-3][1],Ne[ke-3][2],Ne[ke-2][0],Ne[ke-2][1],Ne[ke-2][2],Ne[ke-1][0],Ne[ke-1][1],Ne[ke-1][2])},an.prototype.curve=function(t,e,n,r,i,s,o,a){_.beginShape(),_.curveVertex(t,e),_.curveVertex(n,r),_.curveVertex(i,s),_.curveVertex(o,a),_.endShape()},ln.prototype.curve=function(t,n,r,i,s,o,a,l,h,u,c,f){if(f!==e)return _.beginShape(),_.curveVertex(t,n,r),_.curveVertex(i,s,o),_.curveVertex(a,l,h),_.curveVertex(u,c,f),void _.endShape();_.beginShape(),_.curveVertex(t,n),_.curveVertex(r,i),_.curveVertex(s,o),_.curveVertex(a,l),_.endShape()},_.curveTightness=function(t){kt=t},_.curveDetail=function(t){Bt=t,Ln()},_.rectMode=function(t){Pt=t},_.imageMode=function(t){switch(t){case u.CORNER:nn=en;break;case u.CORNERS:nn=rn;break;case u.CENTER:nn=sn;break;default:throw\"Invalid imageMode\"}},_.ellipseMode=function(t){Ct=t},_.arc=function(t,e,n,r,i,s){if(!(n<=0||s<i)){for(Ct===u.CORNERS?(n-=t,r-=e):Ct===u.RADIUS?(t-=n,e-=r,n*=2,r*=2):Ct===u.CENTER&&(t-=n/2,e-=r/2);i<0;)i+=u.TWO_PI,s+=u.TWO_PI;s-i>u.TWO_PI&&(i=0,s=u.TWO_PI);var o,a,l=n/2,h=r/2,c=t+l,f=e+h,p=0|.5+i*_.RAD_TO_DEG*2,d=0|.5+s*_.RAD_TO_DEG*2;if(dt){var m=yt;for(yt=!1,_.beginShape(),_.vertex(c,f),o=p;o<=d;o++)a=o%u.SINCOS_LENGTH,_.vertex(c+_e[a]*l,f+Me[a]*h);_.endShape(u.CLOSE),yt=m}if(yt){var g=dt;for(dt=!1,_.beginShape(),o=p;o<=d;o++)a=o%u.SINCOS_LENGTH,_.vertex(c+_e[a]*l,f+Me[a]*h);_.endShape(),dt=g}}},an.prototype.line=function(t,n,r,i){if(yt)if(t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i),t!==r||n!==i){for(var s=e,o=e,a=!0,l=lt.array(),h=[1,0,0,0,1,0],u=0;u<6&&a;u++)a=l[u]===h[u];a&&(t===r?(n>i&&(s=n,n=i,i=s),i++,At%2==1&&P.translate(.5,0)):n===i&&(t>r&&(s=t,t=r,r=s),r++,At%2==1&&P.translate(0,.5)),1===At&&(o=P.lineCap,P.lineCap=\"butt\")),P.beginPath(),P.moveTo(t||0,n||0),P.lineTo(r||0,i||0),Mn(),a&&(t===r&&At%2==1?P.translate(-.5,0):n===i&&At%2==1&&P.translate(0,-.5),1===At&&(P.lineCap=o))}else _.point(t,n)},ln.prototype.line=function(t,n,r,i,s,o){if(s!==e&&o!==e||(o=0,s=i,i=r,r=0),t!==i||n!==s||r!==o){var a=[t,n,r,i,s,o],l=new fn;l.scale(1,-1,1),l.apply(lt.array()),l.transpose(),At>0&&yt&&(P.useProgram(B),Ze(\"uModel2d\",B,\"uModel\",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Ze(\"uView2d\",B,\"uView\",!1,l.array()),qe(\"uColor2d\",B,\"uColor\",bt),We(\"uIsDrawingText\",B,\"uIsDrawingText\",!1),Je(\"aVertex2d\",B,\"aVertex\",3,j),Qe(\"aTextureCoord2d\",B,\"aTextureCoord\"),P.bufferData(P.ARRAY_BUFFER,new d(a),P.STREAM_DRAW),P.drawArrays(P.LINES,0,2))}else _.point(t,n,r)},an.prototype.bezier=function(){if(8!==arguments.length)throw\"You must use 8 parameters for bezier() in 2D mode\";_.beginShape(),_.vertex(arguments[0],arguments[1]),_.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]),_.endShape()},ln.prototype.bezier=function(){if(12!==arguments.length)throw\"You must use 12 parameters for bezier() in 3D mode\";_.beginShape(),_.vertex(arguments[0],arguments[1],arguments[2]),_.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]),_.endShape()},_.bezierDetail=function(t){Gt=t},_.bezierPoint=function(t,e,n,r,i){return(1-i)*(1-i)*(1-i)*t+3*(1-i)*(1-i)*i*e+3*(1-i)*i*i*n+i*i*i*r},_.bezierTangent=function(t,e,n,r,i){return 3*i*i*(3*e-t-3*n+r)+6*i*(t-2*e+n)+3*(-t+e)},_.curvePoint=function(t,e,n,r,i){return.5*(2*e+(-t+n)*i+(2*t-5*e+4*n-r)*i*i+(3*e-t-3*n+r)*i*i*i)},_.curveTangent=function(t,e,n,r,i){return.5*(-t+n+2*(2*t-5*e+4*n-r)*i+3*(3*e-t-3*n+r)*i*i)},_.triangle=function(t,e,n,r,i,s){_.beginShape(u.TRIANGLES),_.vertex(t,e,0),_.vertex(n,r,0),_.vertex(i,s,0),_.endShape()},_.quad=function(t,e,n,r,i,s,o,a){_.beginShape(u.QUADS),_.vertex(t,e,0),_.vertex(n,r,0),_.vertex(i,s,0),_.vertex(o,a,0),_.endShape()};an.prototype.rect=function(t,n,r,i,s,o,a,l){(r||i)&&(Pt===u.CORNERS?(r-=t,i-=n):Pt===u.RADIUS?(t-=(r*=2)/2,n-=(i*=2)/2):Pt===u.CENTER&&(t-=r/2,n-=i/2),t=Math.round(t),n=Math.round(n),r=Math.round(r),i=Math.round(i),s===e?(yt&&At%2==1&&P.translate(.5,.5),P.beginPath(),P.rect(t,n,r,i),Sn(),Mn(),yt&&At%2==1&&P.translate(-.5,-.5)):function(t,n,r,i,s,o,a,l){l===e&&(o=s,a=s,l=s);var h=r/2,u=i/2;(s>h||s>u)&&(s=Math.min(h,u)),(o>h||o>u)&&(o=Math.min(h,u)),(a>h||a>u)&&(a=Math.min(h,u)),(l>h||l>u)&&(l=Math.min(h,u)),dt&&!yt||P.translate(.5,.5),P.beginPath(),P.moveTo(t+s,n),P.lineTo(t+r-o,n),P.quadraticCurveTo(t+r,n,t+r,n+o),P.lineTo(t+r,n+i-a),P.quadraticCurveTo(t+r,n+i,t+r-a,n+i),P.lineTo(t+l,n+i),P.quadraticCurveTo(t,n+i,t,n+i-l),P.lineTo(t,n+s),P.quadraticCurveTo(t,n,t+s,n),dt&&!yt||P.translate(-.5,-.5),Sn(),Mn()}(t,n,r,i,s,o,a,l))},ln.prototype.rect=function(t,n,r,i,s,o,a,l){if(s!==e)throw\"rect() with rounded corners is not supported in 3D mode\";Pt===u.CORNERS?(r-=t,i-=n):Pt===u.RADIUS?(t-=(r*=2)/2,n-=(i*=2)/2):Pt===u.CENTER&&(t-=r/2,n-=i/2);var h=new fn;h.translate(t,n,0),h.scale(r,i,1),h.transpose();var c=new fn;if(c.scale(1,-1,1),c.apply(lt.array()),c.transpose(),At>0&&yt&&(P.useProgram(B),Ze(\"uModel2d\",B,\"uModel\",!1,h.array()),Ze(\"uView2d\",B,\"uView\",!1,c.array()),qe(\"uColor2d\",B,\"uColor\",bt),We(\"uIsDrawingText2d\",B,\"uIsDrawingText\",!1),Je(\"aVertex2d\",B,\"aVertex\",3,H),Qe(\"aTextureCoord2d\",B,\"aTextureCoord\"),P.drawArrays(P.LINE_LOOP,0,je.length/3)),dt){if(P.useProgram(k),Ze(\"uModel3d\",k,\"uModel\",!1,h.array()),Ze(\"uView3d\",k,\"uView\",!1,c.array()),P.enable(P.POLYGON_OFFSET_FILL),P.polygonOffset(1,1),qe(\"color3d\",k,\"uColor\",mt),be>0){var f=new fn;f.set(c);var p=new fn;p.set(h),f.mult(p);var d=new fn;d.set(f),d.invert(),d.transpose(),Ze(\"uNormalTransform3d\",k,\"uNormalTransform\",!1,d.array()),Je(\"aNormal3d\",k,\"aNormal\",3,U)}else Qe(\"normal3d\",k,\"aNormal\");Je(\"vertex3d\",k,\"aVertex\",3,H),P.drawArrays(P.TRIANGLE_FAN,0,je.length/3),P.disable(P.POLYGON_OFFSET_FILL)}},an.prototype.ellipse=function(t,e,n,r){if(t=t||0,e=e||0,!(n<=0&&r<=0))if(Ct===u.RADIUS?(n*=2,r*=2):Ct===u.CORNERS?(t+=(n-=t)/2,e+=(r-=e)/2):Ct===u.CORNER&&(t+=n/2,e+=r/2),n===r)P.beginPath(),P.arc(t,e,n/2,0,u.TWO_PI,!1),Sn(),Mn();else{var i=n/2,s=r/2,o=.5522847498307933,a=o*i,l=o*s;_.beginShape(),_.vertex(t+i,e),_.bezierVertex(t+i,e-l,t+a,e-s,t,e-s),_.bezierVertex(t-a,e-s,t-i,e-l,t-i,e),_.bezierVertex(t-i,e+l,t-a,e+s,t,e+s),_.bezierVertex(t+a,e+s,t+i,e+l,t+i,e),_.endShape()}},ln.prototype.ellipse=function(t,e,n,r){if(t=t||0,e=e||0,!(n<=0&&r<=0)){Ct===u.RADIUS?(n*=2,r*=2):Ct===u.CORNERS?(t+=(n-=t)/2,e+=(r-=e)/2):Ct===u.CORNER&&(t+=n/2,e+=r/2);var i=n/2,s=r/2,o=.5522847498307933,a=o*i,l=o*s;if(_.beginShape(),_.vertex(t+i,e),_.bezierVertex(t+i,e-l,0,t+a,e-s,0,t,e-s,0),_.bezierVertex(t-a,e-s,0,t-i,e-l,0,t-i,e,0),_.bezierVertex(t-i,e+l,0,t-a,e+s,0,t,e+s,0),_.bezierVertex(t+a,e+s,0,t+i,e+l,0,t+i,e,0),_.endShape(),dt){var h,c,f=0,p=0;for(h=0;h<Fe.length;h++)f+=Fe[h][0],p+=Fe[h][1];f/=Fe.length,p/=Fe.length;var d=[],m=[],g=[];for(d[0]=f,d[1]=p,d[2]=0,d[3]=0,d[4]=0,d[5]=mt[0],d[6]=mt[1],d[7]=mt[2],d[8]=mt[3],d[9]=bt[0],d[10]=bt[1],d[11]=bt[2],d[12]=bt[3],d[13]=Tt,d[14]=Rt,d[15]=Lt,Fe.unshift(d),h=0;h<Fe.length;h++){for(c=0;c<3;c++)m.push(Fe[h][c]);for(c=5;c<9;c++)g.push(Fe[h][c])}Cn(m,\"TRIANGLE_FAN\",g)}}},_.normal=function(t,e,n){if(3!==arguments.length||\"number\"!=typeof t||\"number\"!=typeof e||\"number\"!=typeof n)throw\"normal() requires three numeric arguments.\";Tt=t,Rt=e,Lt=n,0!==Nt&&(It===u.NORMAL_MODE_AUTO?It=u.NORMAL_MODE_SHAPE:It===u.NORMAL_MODE_SHAPE&&(It=u.NORMAL_MODE_VERTEX))},_.save=function(t,n){return n!==e?a.open(n.toDataURL(),\"_blank\"):a.open(_.externals.canvas.toDataURL(),\"_blank\")};var In=0;_.saveFrame=function(t){t===e&&(t=\"screen-####.png\");var n=t.replace(/#+/,function(t){for(var e=\"\"+In++;e.length<t.length;)e=\"0\"+e;return e});_.save(n)};var Dn=l.createElement(\"canvas\").getContext(\"2d\"),On=[e,e,e];function Fn(t,n,r){var i=On.shift();i===e&&((i={}).canvas=l.createElement(\"canvas\"),i.context=i.canvas.getContext(\"2d\")),On.push(i);var s=i.canvas,o=i.context,a=n||t.width,h=r||t.height;return s.width=a,s.height=h,t?\"data\"in t?o.putImageData(t,0,0):(o.clearRect(0,0,a,h),o.drawImage(t,0,0,a,h)):o.clearRect(0,0,a,h),i}var Nn=function(t,e,n){if(this.__isDirty=!1,t instanceof f)this.fromHTMLImageData(t);else if(e||n){this.width=t||1,this.height=e||1;var r=this.sourceImg=l.createElement(\"canvas\");r.width=this.width,r.height=this.height;this.imageData=r.getContext(\"2d\").createImageData(this.width,this.height);if(this.format=n===u.ARGB||n===u.ALPHA?n:u.RGB,this.format===u.RGB)for(var i=3,s=this.imageData.data,o=s.length;i<o;i+=4)s[i]=255;this.__isDirty=!0,this.updatePixels()}else this.width=0,this.height=0,this.imageData=Dn.createImageData(1,1),this.format=u.ARGB;var a,h;this.pixels={getLength:(h=a=this,function(){if(h.isRemote)throw\"Image is loaded remotely. Cannot get length.\";return h.imageData.data.length?h.imageData.data.length/4:0}),getPixel:function(t){return function(e){var n=4*e,r=t.imageData.data;if(t.isRemote)throw\"Image is loaded remotely. Cannot get pixels.\";return r[n+3]<<24&u.ALPHA_MASK|r[n]<<16&u.RED_MASK|r[n+1]<<8&u.GREEN_MASK|r[n+2]&u.BLUE_MASK}}(a),setPixel:function(t){return function(e,n){var r=4*e,i=t.imageData.data;if(t.isRemote)throw\"Image is loaded remotely. Cannot set pixel.\";i[r+0]=(n&u.RED_MASK)>>>16,i[r+1]=(n&u.GREEN_MASK)>>>8,i[r+2]=n&u.BLUE_MASK,i[r+3]=(n&u.ALPHA_MASK)>>>24,t.__isDirty=!0}}(a),toArray:function(t){return function(){var e=[],n=t.imageData.data,r=t.width*t.height;if(t.isRemote)throw\"Image is loaded remotely. Cannot get pixels.\";for(var i=0,s=0;i<r;i++,s+=4)e.push(n[s+3]<<24&u.ALPHA_MASK|n[s]<<16&u.RED_MASK|n[s+1]<<8&u.GREEN_MASK|n[s+2]&u.BLUE_MASK);return e}}(a),set:function(t){return function(e){var n,r,i;if(this.isRemote)throw\"Image is loaded remotely. Cannot set pixels.\";r=t.imageData.data;for(var s=0,o=e.length;s<o;s++)i=e[s],r[0+(n=4*s)]=(i&u.RED_MASK)>>>16,r[n+1]=(i&u.GREEN_MASK)>>>8,r[n+2]=i&u.BLUE_MASK,r[n+3]=(i&u.ALPHA_MASK)>>>24;t.__isDirty=!0}}(a)}};function kn(t,e,n,r){var i=new Nn(n,r,u.ARGB);return i.fromImageData(_.toImageData(t,e,n,r)),i}function Bn(t,e,n,r,i){if(i.isRemote)throw\"Image is loaded remotely. Cannot get x,y,w,h.\";for(var s=new Nn(n,r,u.ARGB),o=s.imageData.data,a=i.width,l=i.height,h=i.imageData.data,c=Math.max(0,-e),f=Math.max(0,-t),p=Math.min(r,l-e),d=Math.min(n,a-t),m=c;m<p;++m)for(var g=4*((e+m)*a+(t+f)),v=4*(m*n+f),y=f;y<d;++y)o[v++]=h[g++],o[v++]=h[g++],o[v++]=h[g++],o[v++]=h[g++];return s.__isDirty=!0,s}function zn(){de&&(P=rt,de=!1,_.updatePixels())}function Vn(){de||(_.loadPixels(),null===pe&&(rt=P,pe=new function(){function t(t,e){t[e]=function(){zn(),P[e].apply(P,arguments)}}function e(t,e){_.defineProperty(t,e,{get:function(){return zn(),P[e]},set:function(t){zn(),P[e]=t}})}for(var n in P)\"function\"==typeof P[n]?t(this,n):e(this,n)}),de=!0,P=pe,it=0)}Nn.prototype={__isPImage:!0,updatePixels:function(){var t=this.sourceImg;t&&t instanceof c&&this.__isDirty&&t.getContext(\"2d\").putImageData(this.imageData,0,0),this.__isDirty=!1},fromHTMLImageData:function(t){var e=Fn(t);try{var n=e.context.getImageData(0,0,t.width,t.height);this.fromImageData(n)}catch(e){t.width&&t.height&&(this.isRemote=!0,this.width=t.width,this.height=t.height)}this.sourceImg=t},get:function(t,e,n,r){return arguments.length?2===arguments.length?_.get(t,e,this):4===arguments.length?_.get(t,e,n,r,this):void 0:_.get(this)},set:function(t,e,n){_.set(t,e,n,this),this.__isDirty=!0},blend:function(t,e,n,r,i,s,o,a,l,h){9===arguments.length?_.blend(this,t,e,n,r,i,s,o,a,l,this):10===arguments.length&&_.blend(t,e,n,r,i,s,o,a,l,h,this),delete this.sourceImg},copy:function(t,e,n,r,i,s,o,a,l){8===arguments.length?_.blend(this,t,e,n,r,i,s,o,a,u.REPLACE,this):9===arguments.length&&_.blend(t,e,n,r,i,s,o,a,l,u.REPLACE,this),delete this.sourceImg},filter:function(t,e){2===arguments.length?_.filter(t,e,this):1===arguments.length&&_.filter(t,null,this),delete this.sourceImg},save:function(t){_.save(t,this)},resize:function(t,e){if(this.isRemote)throw\"Image is loaded remotely. Cannot resize.\";if(0!==this.width||0!==this.height){0===t&&0!==e?t=Math.floor(this.width/this.height*e):0===e&&0!==t&&(e=Math.floor(this.height/this.width*t));var n=Fn(Fn(this.imageData).canvas,t,e).context.getImageData(0,0,t,e);this.fromImageData(n)}},mask:function(t){var e,n,r=this.toImageData();if(t instanceof Nn||t.__isPImage){if(t.width!==this.width||t.height!==this.height)throw\"mask must have the same dimensions as PImage.\";for(t=t.toImageData(),e=2,n=this.width*this.height*4;e<n;e+=4)r.data[e+1]=t.data[e]}else if(t instanceof Array){if(this.width*this.height!==t.length)throw\"mask array must be the same length as PImage pixels array.\";for(e=0,n=t.length;e<n;++e)r.data[4*e+3]=t[e]}this.fromImageData(r)},loadPixels:h,toImageData:function(){return this.isRemote?this.sourceImg:this.__isDirty?Fn(this.sourceImg).context.getImageData(0,0,this.width,this.height):this.imageData},toDataURL:function(){if(this.isRemote)throw\"Image is loaded remotely. Cannot create dataURI.\";return Fn(this.imageData).canvas.toDataURL()},fromImageData:function(t){var e=t.width,n=t.height,r=l.createElement(\"canvas\"),i=r.getContext(\"2d\");this.width=r.width=e,this.height=r.height=n,i.putImageData(t,0,0),this.format=u.ARGB,this.imageData=t,this.sourceImg=r}},_.PImage=Nn,_.createImage=function(t,e,n){return new Nn(t,e,n)},_.loadImage=function(t,e,n){var r;if(C.imageCache.images[t])return(r=new Nn(C.imageCache.images[t])).loaded=!0,r;r=new Nn;var i=l.createElement(\"img\");return r.sourceImg=i,i.onload=function(t,e,n){var r=i,s=e,o=n;return function(){s.fromHTMLImageData(r),s.loaded=!0,o&&o()}}(0,r,n),i.src=t,r},_.requestImage=_.loadImage,_.get=function(t,e,n,r,i){return void 0!==i?Bn(t,e,n,r,i):void 0!==r?kn(t,e,n,r):void 0!==n?function(t,e,n){if(n.isRemote)throw\"Image is loaded remotely. Cannot get x,y.\";var r=e*n.width*4+4*t,i=n.imageData.data;return i[r+3]<<24&u.ALPHA_MASK|i[r]<<16&u.RED_MASK|i[r+1]<<8&u.GREEN_MASK|i[r+2]&u.BLUE_MASK}(t,e,n):void 0!==e?function(t,e){var n;if(t>=_.width||t<0||e<0||e>=_.height)return 0;if(de){var r=4*((0|t)+_.width*(0|e));return(n=_.imageData.data)[r+3]<<24&u.ALPHA_MASK|n[r]<<16&u.RED_MASK|n[r+1]<<8&u.GREEN_MASK|n[r+2]&u.BLUE_MASK}return(n=_.toImageData(0|t,0|e,1,1).data)[3]<<24&u.ALPHA_MASK|n[0]<<16&u.RED_MASK|n[1]<<8&u.GREEN_MASK|n[2]&u.BLUE_MASK}(t,e):void 0!==t?Bn(0,0,t.width,t.height,t):kn(0,0,_.width,_.height)},_.createGraphics=function(t,e,n){var r=new x;return r.size(t,e,n),r.background(0,0),r},_.set=function(t,e,n,r){3===arguments.length?\"number\"==typeof n?function(t,e,n){t<_.width&&t>=0&&e>=0&&e<_.height&&(Vn(),_.pixels.setPixel((0|t)+_.width*(0|e),n),++it>me&&zn())}(t,e,n):(n instanceof Nn||n.__isPImage)&&_.image(n,t,e):4===arguments.length&&function(t,e,n,r){if(r.isRemote)throw\"Image is loaded remotely. Cannot set x,y.\";var i=_.color.toArray(n),s=e*r.width*4+4*t,o=r.imageData.data;o[s]=i[0],o[s+1]=i[1],o[s+2]=i[2],o[s+3]=i[3]}(t,e,n,r)},_.imageData={},_.pixels={getLength:function(){return _.imageData.data.length?_.imageData.data.length/4:0},getPixel:function(t){var e=4*t,n=_.imageData.data;return n[e+3]<<24&4278190080|n[e+0]<<16&16711680|n[e+1]<<8&65280|255&n[e+2]},setPixel:function(t,e){var n=4*t,r=_.imageData.data;r[n+0]=(16711680&e)>>>16,r[n+1]=(65280&e)>>>8,r[n+2]=255&e,r[n+3]=(4278190080&e)>>>24},toArray:function(){for(var t=[],e=_.imageData.width*_.imageData.height,n=_.imageData.data,r=0,i=0;r<e;r++,i+=4)t.push(n[i+3]<<24&4278190080|n[i+0]<<16&16711680|n[i+1]<<8&65280|255&n[i+2]);return t},set:function(t){for(var e=0,n=t.length;e<n;e++)this.setPixel(e,t[e])}},_.loadPixels=function(){_.imageData=T.$ensureContext().getImageData(0,0,_.width,_.height)},_.updatePixels=function(){_.imageData&&T.$ensureContext().putImageData(_.imageData,0,0)},_.hint=function(t){var e=T.$ensureContext();t===u.DISABLE_DEPTH_TEST?(e.disable(e.DEPTH_TEST),e.depthMask(!1),e.clear(e.DEPTH_BUFFER_BIT)):t===u.ENABLE_DEPTH_TEST?(e.enable(e.DEPTH_TEST),e.depthMask(!0)):t===u.ENABLE_OPENGL_2X_SMOOTH||t===u.ENABLE_OPENGL_4X_SMOOTH?St=!0:t===u.DISABLE_OPENGL_2X_SMOOTH&&(St=!1)};var Gn=function(t,e,n,r){var i;if(t instanceof Nn||t.__isPImage){if(!(i=t).loaded)throw\"Error using image in background(): PImage not loaded.\";if(i.width!==_.width||i.height!==_.height)throw\"Background image must be the same dimensions as the canvas.\"}else i=_.color(t,e,n,r);Vt=i};an.prototype.background=function(t,n,r,i){t!==e&&Gn(t,n,r,i),Vt instanceof Nn||Vt.__isPImage?(gn(),P.setTransform(1,0,0,1,0,0),_.image(Vt,0,0),vn()):(gn(),P.setTransform(1,0,0,1,0,0),_.alpha(Vt)!==$t&&P.clearRect(0,0,_.width,_.height),P.fillStyle=_.color.toString(Vt),P.fillRect(0,0,_.width,_.height),vt=!0,vn())},ln.prototype.background=function(t,e,n,r){arguments.length>0&&Gn(t,e,n,r);var i=_.color.toGLArray(Vt);P.clearColor(i[0],i[1],i[2],i[3]),P.clear(P.COLOR_BUFFER_BIT|P.DEPTH_BUFFER_BIT)},an.prototype.image=function(t,e,n,r,i){if(e=Math.round(e),n=Math.round(n),t.width>0){r||t.width,i||t.height;var s=nn(e||0,n||0,r||t.width,i||t.height,arguments.length<4);if(!!t.sourceImg&&null===qt){var o=t.sourceImg;t.__isDirty&&t.updatePixels(),P.drawImage(o,0,0,o.width,o.height,s.x,s.y,s.w,s.h)}else{var a=t.toImageData();null!==qt&&(qt(a),t.__isDirty=!0),P.drawImage(Fn(a).canvas,0,0,t.width,t.height,s.x,s.y,s.w,s.h)}}},ln.prototype.image=function(t,e,n,r,i){t.width>0&&(e=Math.round(e),n=Math.round(n),r=r||t.width,i=i||t.height,_.beginShape(_.QUADS),_.texture(t),_.vertex(e,n,0,0,0),_.vertex(e,n+i,0,0,i),_.vertex(e+r,n+i,0,r,i),_.vertex(e+r,n,0,r,0),_.endShape())},_.tint=function(t,e,n,r){var i=_.color(t,e,n,r),s=_.red(i)/Ht,o=_.green(i)/Ut,a=_.blue(i)/Xt,l=_.alpha(i)/$t;qt=function(t){for(var e=t.data,n=4*t.width*t.height,r=0;r<n;)e[r++]*=s,e[r++]*=o,e[r++]*=a,e[r++]*=l},Wt=function(t){for(var e=0;e<t.length;)t[e++]=s,t[e++]=o,t[e++]=a,t[e++]=l}},_.noTint=function(){qt=null,Wt=null},_.copy=function(t,n,r,i,s,o,a,l,h){h===e&&(h=l,l=a,a=o,o=s,s=i,i=r,r=n,n=t,t=_),_.blend(t,n,r,i,s,o,a,l,h,u.REPLACE)},_.blend=function(t,n,r,i,s,o,a,l,h,u,c){if(t.isRemote)throw\"Image is loaded remotely. Cannot blend image.\";u===e&&(u=h,h=l,l=a,a=o,o=s,s=i,i=r,r=n,n=t,t=_);var f=n+i,p=r+s,d=o+l,m=a+h,g=c||_;c!==e&&u!==e||_.loadPixels(),t.loadPixels(),t===_&&_.intersect(n,r,f,p,o,a,d,m)?_.blit_resize(_.get(n,r,f-n,p-r),0,0,f-n-1,p-r-1,g.imageData.data,g.width,g.height,o,a,d,m,u):_.blit_resize(t,n,r,f,p,g.imageData.data,g.width,g.height,o,a,d,m,u),c===e&&_.updatePixels()};var $n=function(t,e){var n,r,i,s,o,a,l,h,u,c,f,p,m,g,v,y=e.pixels.getLength(),b=new d(y),w=new d(y),x=new d(y),A=new d(y),E=0;!function(t){var e,n=_.floor(3.5*t);if(n=n<1?1:n<248?n:248,_.shared.blurRadius!==n){_.shared.blurRadius=n,_.shared.blurKernelSize=1+(_.shared.blurRadius<<1),_.shared.blurKernel=new d(_.shared.blurKernelSize);var r=_.shared.blurKernel,i=_.shared.blurKernelSize;for(_.shared.blurRadius,e=0;e<i;e++)r[e]=0;var s=(n-1)*(n-1);for(e=1;e<n;e++)r[n+e]=r[void 0]=s;r[n]=n*n}}(t);var S=e.height,M=e.width,P=_.shared.blurKernelSize,C=_.shared.blurRadius,T=_.shared.blurKernel,R=e.imageData.data;for(m=0;m<S;m++){for(p=0;p<M;p++){if(s=i=r=o=n=0,(l=p-C)<0)f=-l,l=0;else{if(l>=M)break;f=0}for(g=f;g<P&&!(l>=M);g++)v=4*(l+E),o+=(a=T[g])*R[v+3],r+=a*R[v],i+=a*R[v+1],s+=a*R[v+2],n+=a,l++;A[h=E+p]=o/n,b[h]=r/n,w[h]=i/n,x[h]=s/n}E+=M}for(E=0,c=(u=-C)*M,m=0;m<S;m++){for(p=0;p<M;p++){if(s=i=r=o=n=0,u<0)f=h=-u,l=p;else{if(u>=S)break;f=0,h=u,l=p+c}for(g=f;g<P&&!(h>=S);g++)o+=(a=T[g])*A[l],r+=a*b[l],i+=a*w[l],s+=a*x[l],n+=a,h++,l+=M;R[v=4*(p+E)]=r/n,R[v+1]=i/n,R[v+2]=s/n,R[v+3]=o/n}E+=M,c+=M,u++}},Hn=function(t,e){var n,r,i,s,o,a,l,h,u,c,f,p,d,g,v,y,b,w=0,x=e.pixels.getLength(),A=new m(x);if(t)for(;w<x;)for(n=w,r=w+e.width;w<r;)i=s=e.pixels.getPixel(w),l=w-1,a=w+1,h=w-e.width,u=w+e.width,l<n&&(l=w),a>=r&&(a=w),h<0&&(h=0),u>=x&&(u=w),p=e.pixels.getPixel(h),f=e.pixels.getPixel(l),d=e.pixels.getPixel(u),g=77*((c=e.pixels.getPixel(a))>>16&255)+151*(c>>8&255)+28*(255&c),y=77*(p>>16&255)+151*(p>>8&255)+28*(255&p),b=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),(v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<(o=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))&&(s=f,o=v),g<o&&(s=c,o=g),y<o&&(s=p,o=y),b<o&&(s=d,o=b),A[w++]=s;else for(;w<x;)for(n=w,r=w+e.width;w<r;)i=s=e.pixels.getPixel(w),l=w-1,a=w+1,h=w-e.width,u=w+e.width,l<n&&(l=w),a>=r&&(a=w),h<0&&(h=0),u>=x&&(u=w),p=e.pixels.getPixel(h),f=e.pixels.getPixel(l),d=e.pixels.getPixel(u),g=77*((c=e.pixels.getPixel(a))>>16&255)+151*(c>>8&255)+28*(255&c),y=77*(p>>16&255)+151*(p>>8&255)+28*(255&p),b=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),(v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))>(o=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))&&(s=f,o=v),g>o&&(s=c,o=g),y>o&&(s=p,o=y),b>o&&(s=d,o=b),A[w++]=s;e.pixels.set(A)};_.filter=function(t,n,r){var i,s,o,a;if(3===arguments.length?(r.loadPixels(),i=r):(_.loadPixels(),i=_),n===e&&(n=null),i.isRemote)throw\"Image is loaded remotely. Cannot filter image.\";var l=i.pixels.getLength();switch(t){case u.BLUR:$n(n||1,i);break;case u.GRAY:if(i.format===u.ALPHA){for(a=0;a<l;a++)s=255-i.pixels.getPixel(a),i.pixels.setPixel(a,4278190080|s<<16|s<<8|s);i.format=u.RGB}else for(a=0;a<l;a++)o=77*((s=i.pixels.getPixel(a))>>16&255)+151*(s>>8&255)+28*(255&s)>>8,i.pixels.setPixel(a,s&u.ALPHA_MASK|o<<16|o<<8|o);break;case u.INVERT:for(a=0;a<l;a++)i.pixels.setPixel(a,16777215^i.pixels.getPixel(a));break;case u.POSTERIZE:if(null===n)throw\"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)\";var h=_.floor(n);if(h<2||h>255)throw\"Levels must be between 2 and 255 for filter(POSTERIZE, levels)\";var c=h-1;for(a=0;a<l;a++){var f=i.pixels.getPixel(a)>>16&255,p=i.pixels.getPixel(a)>>8&255,d=255&i.pixels.getPixel(a);f=255*(f*h>>8)/c,p=255*(p*h>>8)/c,d=255*(d*h>>8)/c,i.pixels.setPixel(a,4278190080&i.pixels.getPixel(a)|f<<16|p<<8|d)}break;case u.OPAQUE:for(a=0;a<l;a++)i.pixels.setPixel(a,4278190080|i.pixels.getPixel(a));i.format=u.RGB;break;case u.THRESHOLD:if(null===n&&(n=.5),n<0||n>1)throw\"Level must be between 0 and 1 for filter(THRESHOLD, level)\";var m=_.floor(255*n);for(a=0;a<l;a++){var g=_.max((i.pixels.getPixel(a)&u.RED_MASK)>>16,_.max((i.pixels.getPixel(a)&u.GREEN_MASK)>>8,i.pixels.getPixel(a)&u.BLUE_MASK));i.pixels.setPixel(a,i.pixels.getPixel(a)&u.ALPHA_MASK|(g<m?0:16777215))}break;case u.ERODE:Hn(!0,i);break;case u.DILATE:Hn(!1,i)}i.updatePixels()},_.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null},_.intersect=function(t,e,n,r,i,s,o,a){var l=n-t+1,h=r-e+1,u=o-i+1,c=a-s+1;if(i<t)(u+=i-t)>l&&(u=l);else{var f=l+t-i;u>f&&(u=f)}if(s<e)(c+=s-e)>h&&(c=h);else{var p=h+e-s;c>p&&(c=p)}return!(u<=0||c<=0)};var Un,Xn={};function jn(t){return t instanceof String?t:\"number\"==typeof t?t===(0|t)?t.toString():_.nf(t,0,3):null===t||t===e?\"\":t.toString()}function Yn(t,e,n,r){var i,s;t.indexOf(\"\\n\")<0?(i=[t],s=1):s=(i=t.split(/\\r?\\n/g)).length;var o=0;se===u.TOP?o=he+ue:se===u.CENTER?o=he/2-(s-1)*ce/2:se===u.BOTTOM&&(o=-(ue+(s-1)*ce));for(var a=0;a<s;++a){var l=i[a];T.text$line(l,e,n+o,r,ie),o+=ce}}function Kn(t,e,n,r,i,s){if(0!==t.length&&0!==r&&0!==i&&!(le>i)){for(var o=-1,a=0,l=0,h=[],c=0,f=t.length;c<f;c++){var p=t[c],d=\" \"===p,m=fe.measureTextWidth(p);if(\"\\n\"!==p&&l+m<=r)d&&(o=c),l+=m;else{if(o+1===a){if(!(c>0))return;o=c}\"\\n\"===p?(h.push({text:t.substring(a,c),width:l}),a=c+1):(h.push({text:t.substring(a,o+1),width:l}),a=o+1),l=0,c=a-1}}a<f&&h.push({text:t.substring(a),width:l});var g=1,v=he;ie===u.CENTER?g=r/2:ie===u.RIGHT&&(g=r);var y,b,w,x=h.length,A=Math.min(x,Math.floor(i/ce));for(se===u.TOP?v=he+ue:se===u.CENTER?v=i/2-ce*(A/2-1):se===u.BOTTOM&&(v=ue+ce),y=0;y<x&&!(v+(w=y*ce)>i-ue);y++)b=h[y],T.text$line(b.text,e+g,n+v+w,s,ie)}}function qn(t){for(var e in T=\"3D\"===t?new ln:\"2D\"===t?new an:new hn,hn.prototype)hn.prototype.hasOwnProperty(e)&&e.indexOf(\"$\")<0&&(_[e]=T[e]);T.$init()}function Wn(t){return function(){return qn(\"2D\"),T[t].apply(this,arguments)}}function Zn(t){var e=t.which||t.keyCode;switch(e){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return e}function Jn(t){return\"function\"==typeof t.preventDefault?t.preventDefault():\"function\"==typeof t.stopPropagation&&t.stopPropagation(),!1}function Qn(){var t;for(t in ge)if(ge.hasOwnProperty(t))return void(_.__keyPressed=!0);_.__keyPressed=!1}function tr(){_.__keyPressed=!1,ge=[],ve=null}function er(t,e){ge[t]=e,ve=null,_.key=e,_.keyCode=t,_.keyPressed(),_.keyCode=0,_.keyTyped(),Qn()}if(Xn[u.BLEND]=_.modes.blend,Xn[u.ADD]=_.modes.add,Xn[u.SUBTRACT]=_.modes.subtract,Xn[u.LIGHTEST]=_.modes.lightest,Xn[u.DARKEST]=_.modes.darkest,Xn[u.REPLACE]=_.modes.replace,Xn[u.DIFFERENCE]=_.modes.difference,Xn[u.EXCLUSION]=_.modes.exclusion,Xn[u.MULTIPLY]=_.modes.multiply,Xn[u.SCREEN]=_.modes.screen,Xn[u.OVERLAY]=_.modes.overlay,Xn[u.HARD_LIGHT]=_.modes.hard_light,Xn[u.SOFT_LIGHT]=_.modes.soft_light,Xn[u.DODGE]=_.modes.dodge,Xn[u.BURN]=_.modes.burn,_.blit_resize=function(t,e,n,r,i,s,o,a,l,h,c,f,p){var d,m;e<0&&(e=0),n<0&&(n=0),r>=t.width&&(r=t.width-1),i>=t.height&&(i=t.height-1);var g=r-e,v=i-n,y=c-l,b=f-h;if(!(y<=0||b<=0||g<=0||v<=0||l>=o||h>=a||e>=t.width||n>=t.height)){var w=Math.floor(g/y*u.PRECISIONF),x=Math.floor(v/b*u.PRECISIONF),A=_.shared;A.srcXOffset=Math.floor(l<0?-l*w:e*u.PRECISIONF),A.srcYOffset=Math.floor(h<0?-h*x:n*u.PRECISIONF),l<0&&(y+=l,l=0),h<0&&(b+=h,h=0),y=Math.min(y,o-l),b=Math.min(b,a-h);var E,S=h*o+l;A.srcBuffer=t.imageData.data,A.iw=t.width,A.iw1=t.width-1,A.ih1=t.height-1;_.filter_bilinear,_.filter_new_scanline;var M,P,C,T,R,L,I=Xn[p],D=u.ALPHA_MASK,O=u.RED_MASK,F=u.GREEN_MASK,N=u.BLUE_MASK,k=u.PREC_MAXVAL,B=u.PRECISIONB,z=u.PREC_RED_SHIFT,V=u.PREC_ALPHA_SHIFT,G=A.srcBuffer,$=Math.min;for(m=0;m<b;m++){for(A.sX=A.srcXOffset,A.fracV=A.srcYOffset&k,A.ifV=k-A.fracV,A.v1=(A.srcYOffset>>B)*A.iw,A.v2=$(1+(A.srcYOffset>>B),A.ih1)*A.iw,d=0;d<y;d++)E=s[(P=4*(S+d))+3]<<24&D|s[P]<<16&O|s[P+1]<<8&F|s[P+2]&N,A.fracU=A.sX&k,A.ifU=k-A.fracU,A.ul=A.ifU*A.ifV>>B,A.ll=A.ifU*A.fracV>>B,A.ur=A.fracU*A.ifV>>B,A.lr=A.fracU*A.fracV>>B,A.u1=A.sX>>B,A.u2=$(A.u1+1,A.iw1),C=4*(A.v1+A.u1),T=4*(A.v1+A.u2),R=4*(A.v2+A.u1),L=4*(A.v2+A.u2),A.cUL=G[C+3]<<24&D|G[C]<<16&O|G[C+1]<<8&F|G[C+2]&N,A.cUR=G[T+3]<<24&D|G[T]<<16&O|G[T+1]<<8&F|G[T+2]&N,A.cLL=G[R+3]<<24&D|G[R]<<16&O|G[R+1]<<8&F|G[R+2]&N,A.cLR=G[L+3]<<24&D|G[L]<<16&O|G[L+1]<<8&F|G[L+2]&N,A.r=A.ul*((A.cUL&O)>>16)+A.ll*((A.cLL&O)>>16)+A.ur*((A.cUR&O)>>16)+A.lr*((A.cLR&O)>>16)<<z&O,A.g=A.ul*(A.cUL&F)+A.ll*(A.cLL&F)+A.ur*(A.cUR&F)+A.lr*(A.cLR&F)>>>B&F,A.b=A.ul*(A.cUL&N)+A.ll*(A.cLL&N)+A.ur*(A.cUR&N)+A.lr*(A.cLR&N)>>>B,A.a=A.ul*((A.cUL&D)>>>24)+A.ll*((A.cLL&D)>>>24)+A.ur*((A.cUR&D)>>>24)+A.lr*((A.cLR&D)>>>24)<<V&D,M=I(E,A.a|A.r|A.g|A.b),s[P]=(M&O)>>>16,s[P+1]=(M&F)>>>8,s[P+2]=M&N,s[P+3]=(M&D)>>>24,A.sX+=w;S+=o,A.srcYOffset+=x}}},_.loadFont=function(t,n){if(t===e)throw\"font name required in loadFont.\";if(-1===t.indexOf(\".svg\"))return n===e&&(n=fe.size),PFont.get(t,n);var r=_.loadGlyphs(t);return{name:t,css:\"12px sans-serif\",glyph:!0,units_per_em:r.units_per_em,horiz_adv_x:1/r.units_per_em*r.horiz_adv_x,ascent:r.ascent,descent:r.descent,width:function(e){for(var n=0,r=e.length,i=0;i<r;i++)try{n+=parseFloat(_.glyphLook(_.glyphTable[t],e[i]).horiz_adv_x)}catch(t){x.debug(t)}return n/_.glyphTable[t].units_per_em}}},_.createFont=function(t,e){return _.loadFont(t,e)},_.textFont=function(t,n){n!==e&&(t.glyph||(t=PFont.get(t.name,n)),le=n),ae=(fe=t).name,he=fe.ascent,ue=fe.descent,ce=fe.leading,T.$ensureContext().font=fe.css},_.textSize=function(t){fe=PFont.get(ae,t),le=t,he=fe.ascent,ue=fe.descent,ce=fe.leading,T.$ensureContext().font=fe.css},_.textAscent=function(){return he},_.textDescent=function(){return ue},_.textLeading=function(t){ce=t},_.textAlign=function(t,e){ie=t,se=e||u.BASELINE},an.prototype.textWidth=function(t){var e,n=jn(t).split(/\\r?\\n/g),r=0,i=n.length;for(P.font=fe.css,e=0;e<i;++e)r=Math.max(r,fe.measureTextWidth(n[e]));return 0|r},ln.prototype.textWidth=function(t){var n,r=jn(t).split(/\\r?\\n/g),i=0,s=r.length;R===e&&(R=l.createElement(\"canvas\"));var o=R.getContext(\"2d\");for(o.font=fe.css,n=0;n<s;++n)i=Math.max(i,o.measureText(r[n]).width);return 0|i},_.glyphLook=function(t,e){try{switch(e){case\"1\":return t.one;case\"2\":return t.two;case\"3\":return t.three;case\"4\":return t.four;case\"5\":return t.five;case\"6\":return t.six;case\"7\":return t.seven;case\"8\":return t.eight;case\"9\":return t.nine;case\"0\":return t.zero;case\" \":return t.space;case\"$\":return t.dollar;case\"!\":return t.exclam;case'\"':return t.quotedbl;case\"#\":return t.numbersign;case\"%\":return t.percent;case\"&\":return t.ampersand;case\"'\":return t.quotesingle;case\"(\":return t.parenleft;case\")\":return t.parenright;case\"*\":return t.asterisk;case\"+\":return t.plus;case\",\":return t.comma;case\"-\":return t.hyphen;case\".\":return t.period;case\"/\":return t.slash;case\"_\":return t.underscore;case\":\":return t.colon;case\";\":return t.semicolon;case\"<\":return t.less;case\"=\":return t.equal;case\">\":return t.greater;case\"?\":return t.question;case\"@\":return t.at;case\"[\":return t.bracketleft;case\"\\\\\":return t.backslash;case\"]\":return t.bracketright;case\"^\":return t.asciicircum;case\"`\":return t.grave;case\"{\":return t.braceleft;case\"|\":return t.bar;case\"}\":return t.braceright;case\"~\":return t.asciitilde;default:return t[e]}}catch(t){x.debug(t)}},an.prototype.text$line=function(t,e,n,r,i){var s=0,o=0;if(fe.glyph){var a=_.glyphTable[ae];gn(),P.translate(e,n+le),i!==u.RIGHT&&i!==u.CENTER||(s=a.width(t),o=i===u.RIGHT?-s:-s/2);var l=1/a.units_per_em*le;P.scale(l,l);for(var h=0,c=t.length;h<c;h++)try{_.glyphLook(a,t[h]).draw()}catch(t){x.debug(t)}vn()}else t&&\"fillText\"in P&&(vt&&(P.fillStyle=_.color.toString(gt),vt=!1),i!==u.RIGHT&&i!==u.CENTER||(s=fe.measureTextWidth(t),o=i===u.RIGHT?-s:-s/2),P.fillText(t,e+o,n))},ln.prototype.text$line=function(t,n,r,i,s){R===e&&(R=l.createElement(\"canvas\"));var o=P;(P=R.getContext(\"2d\")).font=fe.css;var a=fe.measureTextWidth(t);R.width=a,R.height=le,(P=R.getContext(\"2d\")).font=fe.css,P.textBaseline=\"top\",an.prototype.text$line(t,0,0,0,u.LEFT);var h=R.width/R.height;(P=o).bindTexture(P.TEXTURE_2D,Q),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,R),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.LINEAR),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,P.LINEAR),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE);var c=0;s===u.RIGHT?c=-a:s===u.CENTER&&(c=-a/2);var f=new fn,p=.5*le;f.translate(n+c-p/2,r-p,i),f.scale(-h*p,-p,p),f.translate(-1,-1,-1),f.transpose();var d=new fn;d.scale(1,-1,1),d.apply(lt.array()),d.transpose(),P.useProgram(B),Je(\"aVertex2d\",B,\"aVertex\",3,tt),Je(\"aTextureCoord2d\",B,\"aTextureCoord\",2,et),We(\"uSampler2d\",B,\"uSampler\",[0]),We(\"uIsDrawingText2d\",B,\"uIsDrawingText\",!0),Ze(\"uModel2d\",B,\"uModel\",!1,f.array()),Ze(\"uView2d\",B,\"uView\",!1,d.array()),qe(\"uColor2d\",B,\"uColor\",mt),P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,nt),P.drawElements(P.TRIANGLES,6,P.UNSIGNED_SHORT,0)},_.text=function(){oe!==u.SHAPE&&(3===arguments.length?Yn(jn(arguments[0]),arguments[1],arguments[2],0):4===arguments.length?Yn(jn(arguments[0]),arguments[1],arguments[2],arguments[3]):5===arguments.length?Kn(jn(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):6===arguments.length&&Kn(jn(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))},_.textMode=function(t){oe=t},_.loadGlyphs=function(t){var n,r,i,s,o,h,u,c,f,p,d,m,g=function(t,e){var n,r=0,i=[],s=new RegExp(t,\"g\");for(n=i[r]=s.exec(e);n;)n=i[++r]=s.exec(e);return i},v=function(t){var e=g(\"[A-Za-z][0-9\\\\- ]+|Z\",t);m=\"return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();\",n=0,r=0,i=0,s=0,o=0,h=0,t=0,c=0,f=\"\",p=e.length-1;for(var a=0;a<p;a++){var l=e[a][0],u=g(\"[0-9\\\\-]+\",l);switch(l[0]){case\"M\":n=parseFloat(u[0][0]),r=parseFloat(u[1][0]),m+=\"curContext.moveTo(\"+n+\",\"+-r+\");\";break;case\"L\":n=parseFloat(u[0][0]),r=parseFloat(u[1][0]),m+=\"curContext.lineTo(\"+n+\",\"+-r+\");\";break;case\"H\":n=parseFloat(u[0][0]),m+=\"curContext.lineTo(\"+n+\",\"+-r+\");\";break;case\"V\":r=parseFloat(u[0][0]),m+=\"curContext.lineTo(\"+n+\",\"+-r+\");\";break;case\"T\":o=parseFloat(u[0][0]),h=parseFloat(u[1][0]),\"Q\"===f||\"T\"===f?(t=Math.sqrt(Math.pow(n-i,2)+Math.pow(s-r,2)),c=Math.PI+Math.atan2(i-n,s-r),i=n+Math.sin(c)*t,s=r+Math.cos(c)*t):(i=n,s=r),m+=\"curContext.quadraticCurveTo(\"+i+\",\"+-s+\",\"+o+\",\"+-h+\");\",n=o,r=h;break;case\"Q\":i=parseFloat(u[0][0]),s=parseFloat(u[1][0]),o=parseFloat(u[2][0]),h=parseFloat(u[3][0]),m+=\"curContext.quadraticCurveTo(\"+i+\",\"+-s+\",\"+o+\",\"+-h+\");\",n=o,r=h;break;case\"Z\":m+=\"curContext.closePath();\"}f=l[0]}return m+=\"afterPathDraw();\",m+=\"curContext.translate(\"+d+\",0);\",m+=\"}}\",new Function(\"beforePathDraw\",\"afterPathDraw\",m)(function(){return gn(),T.$ensureContext()},function(){Sn(),Mn(),vn()})},y=function(n){var r=n.getElementsByTagName(\"font\");_.glyphTable[t].horiz_adv_x=r[0].getAttribute(\"horiz-adv-x\");var i=n.getElementsByTagName(\"font-face\")[0];_.glyphTable[t].units_per_em=parseFloat(i.getAttribute(\"units-per-em\")),_.glyphTable[t].ascent=parseFloat(i.getAttribute(\"ascent\")),_.glyphTable[t].descent=parseFloat(i.getAttribute(\"descent\"));for(var s=n.getElementsByTagName(\"glyph\"),o=s.length,a=0;a<o;a++){var l=s[a].getAttribute(\"unicode\"),h=s[a].getAttribute(\"glyph-name\");null===(d=s[a].getAttribute(\"horiz-adv-x\"))&&(d=_.glyphTable[t].horiz_adv_x),(u=s[a].getAttribute(\"d\"))!==e&&(m=v(u),_.glyphTable[t][h]={name:h,unicode:l,horiz_adv_x:d,draw:m.draw})}};return _.glyphTable[t]={},function(){var e;try{e=l.implementation.createDocument(\"\",\"\",null)}catch(t){return void x.debug(t.message)}try{e.async=!1,e.load(t),y(e.getElementsByTagName(\"svg\")[0])}catch(e){x.debug(e);try{var n=new a.XMLHttpRequest;n.open(\"GET\",t,!1),n.send(null),y(n.responseXML.documentElement)}catch(t){x.debug(e)}}}(),_.glyphTable[t]},_.param=function(t){var e=\"data-processing-\"+t;if(A.hasAttribute(e))return A.getAttribute(e);for(var n=0,r=A.childNodes.length;n<r;++n){var i=A.childNodes.item(n);if(1===i.nodeType&&\"param\"===i.tagName.toLowerCase()&&i.getAttribute(\"name\")===t)return i.getAttribute(\"value\")}return C.params.hasOwnProperty(t)?C.params[t]:null},hn.prototype.translate=Wn(\"translate\"),hn.prototype.transform=Wn(\"transform\"),hn.prototype.scale=Wn(\"scale\"),hn.prototype.pushMatrix=Wn(\"pushMatrix\"),hn.prototype.popMatrix=Wn(\"popMatrix\"),hn.prototype.resetMatrix=Wn(\"resetMatrix\"),hn.prototype.applyMatrix=Wn(\"applyMatrix\"),hn.prototype.rotate=Wn(\"rotate\"),hn.prototype.rotateZ=Wn(\"rotateZ\"),hn.prototype.shearX=Wn(\"shearX\"),hn.prototype.shearY=Wn(\"shearY\"),hn.prototype.redraw=Wn(\"redraw\"),hn.prototype.toImageData=Wn(\"toImageData\"),hn.prototype.ambientLight=Wn(\"ambientLight\"),hn.prototype.directionalLight=Wn(\"directionalLight\"),hn.prototype.lightFalloff=Wn(\"lightFalloff\"),hn.prototype.lightSpecular=Wn(\"lightSpecular\"),hn.prototype.pointLight=Wn(\"pointLight\"),hn.prototype.noLights=Wn(\"noLights\"),hn.prototype.spotLight=Wn(\"spotLight\"),hn.prototype.beginCamera=Wn(\"beginCamera\"),hn.prototype.endCamera=Wn(\"endCamera\"),hn.prototype.frustum=Wn(\"frustum\"),hn.prototype.box=Wn(\"box\"),hn.prototype.sphere=Wn(\"sphere\"),hn.prototype.ambient=Wn(\"ambient\"),hn.prototype.emissive=Wn(\"emissive\"),hn.prototype.shininess=Wn(\"shininess\"),hn.prototype.specular=Wn(\"specular\"),hn.prototype.fill=Wn(\"fill\"),hn.prototype.stroke=Wn(\"stroke\"),hn.prototype.strokeWeight=Wn(\"strokeWeight\"),hn.prototype.smooth=Wn(\"smooth\"),hn.prototype.noSmooth=Wn(\"noSmooth\"),hn.prototype.point=Wn(\"point\"),hn.prototype.vertex=Wn(\"vertex\"),hn.prototype.endShape=Wn(\"endShape\"),hn.prototype.bezierVertex=Wn(\"bezierVertex\"),hn.prototype.curveVertex=Wn(\"curveVertex\"),hn.prototype.curve=Wn(\"curve\"),hn.prototype.line=Wn(\"line\"),hn.prototype.bezier=Wn(\"bezier\"),hn.prototype.rect=Wn(\"rect\"),hn.prototype.ellipse=Wn(\"ellipse\"),hn.prototype.background=Wn(\"background\"),hn.prototype.image=Wn(\"image\"),hn.prototype.textWidth=Wn(\"textWidth\"),hn.prototype.text$line=Wn(\"text$line\"),hn.prototype.$ensureContext=Wn(\"$ensureContext\"),hn.prototype.$newPMatrix=Wn(\"$newPMatrix\"),hn.prototype.size=function(t,e,n){qn(n===u.WEBGL?\"3D\":\"2D\"),_.size(t,e,n)},hn.prototype.$init=h,an.prototype.$init=function(){_.size(_.width,_.height),P.lineCap=\"round\",_.noSmooth(),_.disableContextMenu()},ln.prototype.$init=function(){_.use3DContext=!0,_.disableContextMenu()},on.prototype.$ensureContext=function(){return P},A.getAttribute(\"tabindex\")||A.setAttribute(\"tabindex\",0),E)C=new x.Sketch,qn(),_.size=function(t,e,n){n&&n===u.WEBGL?qn(\"3D\"):qn(\"2D\"),_.size(t,e,n)};else{C=i instanceof x.Sketch?i:\"function\"==typeof i?new x.Sketch(i):i?x.compile(i):new x.Sketch(function(){}),_.externals.sketch=C,qn(),A.onfocus=function(){_.focused=!0},A.onblur=function(){_.focused=!1,C.options.globalKeyEvents||tr()},C.options.pauseOnBlur&&(M(a,\"focus\",function(){Mt&&_.loop()}),M(a,\"blur\",function(){Mt&&Et&&(_.noLoop(),Mt=!0),tr()}));var nr=C.options.globalKeyEvents?a:A;for(var rr in M(nr,\"keydown\",function(t){var e=Zn(t);if(e!==u.DELETE){if(!(ye.indexOf(e)<0)){var n=new Char(u.CODED);return _.key=n,_.keyCode=e,ge[e]=n,_.keyPressed(),ve=null,Qn(),Jn(t)}ve=e}else er(e,new Char(127))}),M(nr,\"keypress\",function(t){if(null!==ve)return er(ve,function(t){var e=t.which||t.keyCode,n=t.shiftKey||t.ctrlKey||t.altKey||t.metaKey;switch(e){case 13:e=n?13:10;break;case 8:e=n?127:8}return new Char(e)}(t)),Jn(t)}),M(nr,\"keyup\",function(t){var n=Zn(t),r=ge[n];r!==e&&(_.key=r,_.keyCode=n,_.keyReleased(),delete ge[n],Qn())}),x.lib)x.lib.hasOwnProperty(rr)&&(x.lib[rr].hasOwnProperty(\"attach\")?x.lib[rr].attach(_):x.lib[rr]instanceof Function&&x.lib[rr].call(this));var ir=function(t){if(C.imageCache.pending||PFont.preloading.pending(100))a.setTimeout(function(){ir(t)},100);else{if(a.opera){var e,r,i=C.imageCache.operaCache;for(e in i)i.hasOwnProperty(e)&&(null!==(r=i[e])&&l.body.removeChild(r),delete i[e])}C.attach(t,n),C.onLoad(t),t.setup&&(t.setup(),t.resetMatrix(),C.onSetup()),zn(),t.draw&&(Mt?t.loop():t.redraw())}};(Un=this).externals.canvas.id!==e&&Un.externals.canvas.id.length||(Un.externals.canvas.id=\"__processing\"+b.length),w[Un.externals.canvas.id]=b.length,b.push(Un),ir(_)}};return x.debug=\"console\"in a?function(t){a.console.log(\"Processing.js: \"+t)}:h,x.prototype=n,x.instances=b,x.getInstanceById=function(t){return b[w[t]]},function(t){var e,n=\"open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()\".split(\" \"),r=n.length;function i(t){return function(){throw\"Processing.js does not support \"+t+\".\"}}for(;r--;)t[(e=n[r]).replace(\"()\",\"\")]=i(e)}(n),x}},{}],27:[function(t,e,n){var r={virtEquals:t(\"./Helpers/virtEquals\"),virtHashCode:t(\"./Helpers/virtHashCode\"),ObjectIterator:t(\"./Helpers/ObjectIterator\"),PConstants:t(\"./Helpers/PConstants\"),ArrayList:t(\"./Objects/ArrayList\"),HashMap:t(\"./Objects/HashMap\"),PVector:t(\"./Objects/PVector\"),PFont:t(\"./Objects/PFont\"),Char:t(\"./Objects/Char\"),XMLAttribute:t(\"./Objects/XMLAttribute\"),XMLElement:t(\"./Objects/XMLElement\"),PMatrix2D:t(\"./Objects/PMatrix2D\"),PMatrix3D:t(\"./Objects/PMatrix3D\"),PShape:t(\"./Objects/PShape\"),colors:t(\"./Objects/webcolors\"),PShapeSVG:t(\"./Objects/PShapeSVG\"),CommonFunctions:t(\"./P5Functions/commonFunctions\"),defaultScope:t(\"./Helpers/defaultScope\"),Processing:t(\"./Processing\"),setupParser:t(\"./Parser/Parser\"),finalize:t(\"./Helpers/finalizeProcessing\")};r.extend={withMath:t(\"./P5Functions/Math.js\"),withProxyFunctions:t(\"./P5Functions/JavaProxyFunctions\")(r.virtHashCode,r.virtEquals),withTouch:t(\"./P5Functions/touchmouse\"),withCommonFunctions:r.CommonFunctions.withCommonFunctions},e.exports=function(e,n){var i=function(){},s=r.virtEquals,o=r.virtHashCode,a=r.PConstants,l=r.CommonFunctions,h=r.ObjectIterator,u=r.Char,c=r.XMLAttribute(),f=r.ArrayList({virtHashCode:o,virtEquals:s}),p=r.HashMap({virtHashCode:o,virtEquals:s}),d=r.PVector({PConstants:a}),m=r.PFont({Browser:e,noop:i}),g=r.XMLElement({Browser:e,XMLAttribute:c}),v=r.PMatrix2D({p:l}),y=r.PMatrix3D({p:l}),b=r.PShape({PConstants:a,PMatrix2D:v,PMatrix3D:y}),w=r.PShapeSVG({CommonFunctions:l,PConstants:a,PShape:b,XMLElement:g,colors:r.colors}),x=r.defaultScope({ArrayList:f,HashMap:p,PVector:d,PFont:m,PShapeSVG:w,ObjectIterator:h,PConstants:a,Char:u,XMLElement:g,XML:g}),A=r.Processing({defaultScope:x,Browser:e,extend:r.extend,noop:i});return A=r.setupParser(A,{Browser:e,aFunctions:n,defaultScope:x}),A=r.finalize(A,{version:t(\"../package.json\").version,isDomPresent:e.isDomPresent,window:e.window,document:e.document,noop:i})}},{\"../package.json\":2,\"./Helpers/ObjectIterator\":3,\"./Helpers/PConstants\":4,\"./Helpers/defaultScope\":5,\"./Helpers/finalizeProcessing\":6,\"./Helpers/virtEquals\":7,\"./Helpers/virtHashCode\":8,\"./Objects/ArrayList\":9,\"./Objects/Char\":10,\"./Objects/HashMap\":11,\"./Objects/PFont\":12,\"./Objects/PMatrix2D\":13,\"./Objects/PMatrix3D\":14,\"./Objects/PShape\":15,\"./Objects/PShapeSVG\":16,\"./Objects/PVector\":17,\"./Objects/XMLAttribute\":18,\"./Objects/XMLElement\":19,\"./Objects/webcolors\":20,\"./P5Functions/JavaProxyFunctions\":21,\"./P5Functions/Math.js\":22,\"./P5Functions/commonFunctions\":23,\"./P5Functions/touchmouse\":24,\"./Parser/Parser\":25,\"./Processing\":26}]},{},[1])}]);","extractedComments":[]}